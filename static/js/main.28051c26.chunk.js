(this.webpackJsonpAnimoSched=this.webpackJsonpAnimoSched||[]).push([[0],{131:function(e,t,a){},155:function(e,t,a){e.exports=a.p+"static/media/search_engine.a15d5d12.png"},210:function(e,t,a){},273:function(e,t,a){},295:function(e,t,a){},298:function(e,t,a){e.exports=a.p+"static/media/Register.f632f058.svg"},377:function(e,t,a){},428:function(e,t,a){},450:function(e,t,a){e.exports=a.p+"static/media/calendar.414bc2ea.png"},451:function(e,t,a){e.exports=a.p+"static/media/attach.639ab5fb.png"},452:function(e,t,a){e.exports=a.p+"static/media/laugh.0ab756c6.png"},453:function(e,t,a){e.exports=a.p+"static/media/whiteBlob.b675a6eb.png"},462:function(e,t,a){e.exports=a.p+"static/media/FriendPage.e8876896.svg"},463:function(e,t,a){e.exports=a.p+"static/media/friend2.1af4a1e8.png"},473:function(e,t,a){e.exports=a.p+"static/media/following_the_idea.a914508f.png"},502:function(e,t,a){e.exports=a(816)},508:function(e,t,a){},509:function(e,t,a){},529:function(e,t,a){},530:function(e,t,a){},567:function(e,t,a){},605:function(e,t,a){},606:function(e,t,a){e.exports=a.p+"static/media/Gradient_BG.6a9dbe05.png"},788:function(e,t,a){},797:function(e,t,a){},800:function(e,t,a){},801:function(e,t,a){},805:function(e,t,a){},806:function(e,t,a){},816:function(e,t,a){"use strict";a.r(t);var s=a(0),l=a.n(s),n=a(19),r=a.n(n),i=(a(507),a(508),a(233)),o=(a(509),a(35)),c=a(42),d=a(20),h=a(478),m=a(912),u=(a(529),a(530),a(929)),p=a(921),g=a(919),E=a(863),f=a(238),b=a(860),C=a(11),v=a.n(C),y=a(864);class S extends l.a.Component{constructor(e){super(e),this.handleNotifsClick=(e,t)=>{this.setState({polling:!1}),this.setState({newNotifs:0}),this.state.database.map(e=>{v.a.patch("https://animosched-backend-backup.herokuapp.com/api/notifications/"+e.id+"/",{seen:!0})}),this.setState({polling:!0})};new Date;this.state={database:[],polling:!0,pollingInterval:5e3,newNotifs:0,notifRefresh:e.notifRefresh,skeletons:[...Array(2).keys()],dataReceived:!1,unread:!1}}componentWillReceiveProps(e){this.setState({notifRefresh:e.notifRefresh})}createData(e,t,a,s,l,n,r){return{category:e,message:t,seen:a,date:s,icon:l,bgColor:n,id:r}}specifyIcon(e){return"Schedule"==e.category?l.a.createElement("svg",{class:"bi bi-calendar-fill",width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{d:"M0 2a2 2 0 012-2h12a2 2 0 012 2H0z"})," ",l.a.createElement("path",{"fill-rule":"evenodd",d:"M0 3h16v11a2 2 0 01-2 2H2a2 2 0 01-2-2V3zm6.5 4a1 1 0 100-2 1 1 0 000 2zm4-1a1 1 0 11-2 0 1 1 0 012 0zm2 1a1 1 0 100-2 1 1 0 000 2zm-8 2a1 1 0 11-2 0 1 1 0 012 0zm2 1a1 1 0 100-2 1 1 0 000 2zm4-1a1 1 0 11-2 0 1 1 0 012 0zm2 1a1 1 0 100-2 1 1 0 000 2zm-8 2a1 1 0 11-2 0 1 1 0 012 0zm2 1a1 1 0 100-2 1 1 0 000 2zm4-1a1 1 0 11-2 0 1 1 0 012 0z","clip-rule":"evenodd"})):l.a.createElement("svg",{class:"bi bi-people-fill",width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{"fill-rule":"evenodd",d:"M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1H7zm4-6a3 3 0 100-6 3 3 0 000 6zm-5.784 6A2.238 2.238 0 015 13c0-1.355.68-2.75 1.936-3.72A6.325 6.325 0 005 9c-4 0-5 3-5 4s1 1 1 1h4.216zM4.5 8a2.5 2.5 0 100-5 2.5 2.5 0 000 5z","clip-rule":"evenodd"}))}getInfo(){v.a.get("https://animosched-backend-backup.herokuapp.com/api/notificationlist/"+localStorage.getItem("user_id")+"/").then(e=>{this.setState({database:[]}),this.setState({newNotifs:0});var t=this.state.newNotifs;e.data.map(e=>{var a=this.state.database,s=Math.floor((Date.now()-Date.parse(e.date))/1e3),l="";l=s<=60?s+"s":(s=Math.floor(s/60))<=60?s+"m":(s=Math.floor(s/60))<=24?s+"h":(s=Math.floor(s/24))<=7?s+"d":(s=Math.floor(s/7))+"w",a.push(this.createData(e.category,e.content,e.seen,l,"","",e.id)),e.seen||(t+=1),"Schedule"!=e.category&&this.setState({notifRefresh:!0}),this.setState({database:a})}),this.setState({newNotifs:t}),this.setState({dataReceived:!0}),this.poll()})}componentDidMount(){this.getInfo()}poll(){this.state.polling&&clearTimeout(this.state.polling);var e=setTimeout(()=>{this.getInfo()},this.state.pollingInterval);this.setState({polling:e})}render(){for(var e=[],t=this.state.database,a=0;a<t.length;a++)t[a].seen?(t[a].bgColor="white",t[a].fWeight="normal"):(t[a].bgColor="white",t[a].fWeight="bold"),e.push(t[a]);return l.a.createElement(u.a,{nav:!0,inNavbar:!0},l.a.createElement(p.a,{tag:"span","data-toggle":"dropdown",onClick:this.handleNotifsClick},l.a.createElement(b.a,{badgeContent:this.state.newNotifs,color:"error",overlap:"circle"},l.a.createElement("svg",{class:"bi bi-bell-fill",width:"32",height:"32",viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{d:"M10 18a2 2 0 002-2H8a2 2 0 002 2zm.995-14.901a1 1 0 10-1.99 0A5.002 5.002 0 005 8c0 1.098-.5 6-2 7h14c-1.5-1-2-5.902-2-7 0-2.42-1.72-4.44-4.005-4.901z"})))),this.state.dataReceived?l.a.createElement(g.a,{right:!0,id:"dropdownMenu"},l.a.createElement(E.a,{header:!0,id:"notifSettings",className:"headerSticky"},l.a.createElement(f.HashLink,{to:"profile#notifs-container",id:"headerLink"},"Settings")),e.map(e=>l.a.createElement(f.HashLink,{className:"friendItem",to:{pathname:"/view_friends",state:{selectedFriendId:-1}}},l.a.createElement(E.a,{disabled:!0,className:"notifItem",style:{backgroundColor:e.bgColor,fontWeight:e.fWeight}},l.a.createElement(E.a,{divider:!0}),l.a.createElement(this.specifyIcon,{category:e.category}),l.a.createElement("span",{id:"notifDate"}," ",e.date," "),l.a.createElement("span",null,e.message)))),0==e.length&&l.a.createElement(E.a,{disabled:!0,className:"notifItem"},l.a.createElement(E.a,{divider:!0}),l.a.createElement("center",null,"No Notifications"))):l.a.createElement(g.a,{right:!0,id:"dropdownMenu"},l.a.createElement(E.a,{header:!0,id:"notifSettings",className:"headerSticky"},l.a.createElement(f.HashLink,{to:"profile#notifs-container",id:"headerLink"},"Settings")),this.state.skeletons.map(e=>l.a.createElement(E.a,{disabled:!0,className:"notifItem"},l.a.createElement(E.a,{divider:!0}),l.a.createElement("span",null," ",l.a.createElement(y.a,{width:"100%",height:"100%"})," "),l.a.createElement("span",null," ",l.a.createElement(y.a,{width:"100%",height:"100%"})," ")))))}}var k=S,w=a(865),x=a(866),N=a(438),_=(a(567),a(926)),P=a(123),D=a(110);class I extends l.a.Component{constructor(e){super(e),this.notifRefreshFriends=()=>{this.state.notifRefresh&&this.setState({notifRefresh:!1},()=>{this.refreshFriends()})},this.handleFriendsClick=(e,t)=>{this.setState({polling:!1}),this.setState({newRequests:0});var a=[];this.state.requests.map(e=>{v.a.patch("https://animosched-backend-backup.herokuapp.com/api/friendrequests/"+e.id+"/",{seen:!0}),e.seenStatus=!0,a.push(e)}),this.setState({requests:a}),this.setState({polling:!0})},this.handleAcceptClick=(e,t,a,s)=>{this.setState({polling:!1}),v.a.get("https://animosched-backend-backup.herokuapp.com/api/users/"+localStorage.getItem("user_id")+"/").then(e=>{var t=e.data.friends;t.push(s),v.a.patch("https://animosched-backend-backup.herokuapp.com/api/users/"+localStorage.getItem("user_id")+"/",{friends:t}),v.a.patch("https://animosched-backend-backup.herokuapp.com/api/friendrequests/"+a+"/",{seen:!0,accepted:!0})});var l=this.state.requests;l[t].acceptStatus=!0,this.setState({requests:l}),this.refreshFriends(),this.setState({polling:!0})},this.handleDeleteClick=(e,t,a)=>{this.setState({polling:!1}),v.a.delete("https://animosched-backend-backup.herokuapp.com/api/friendrequests/"+a+"/");var s=[];this.state.requests.map((e,a)=>{t!=a&&s.push(e)}),this.setState({requests:s}),this.setState({polling:!0})},this.handleSendClick=(e,t,a)=>{this.setState({polling:!1}),v.a.post("https://animosched-backend-backup.herokuapp.com/api/friendrequests/",{from_user:localStorage.getItem("user_id"),seen:!1,accepted:!1,to_user:a}).catch(e=>{console.log(e.response)});var s=this.state.database;s[t].sentStatus=!0,this.setState({database:s}),this.setState({polling:!0})},this.handleSearchChange=e=>{this.filterSearchFriendsThrottled(e.target.value)},this.filterSearchFriends=e=>{this.setState({searchQuery:e})},this.state={requests:[],database:[],friends:[],panel:"requests",changePanel:null,polling:!0,pollingInterval:5e3,newRequests:0,message:"hello from friends modal",skeletons:[...Array(2).keys()],notifRefresh:e.notifRefresh,dataReceived:!1,searchQuery:""},this.filterSearchFriendsThrottled=D.a.debounce(this.filterSearchFriends,500)}componentWillReceiveProps(e){this.setState({notifRefresh:e.notifRefresh})}createRequests(e,t,a,s,l,n){return{firstName:e,lastName:t,seenStatus:a,acceptStatus:s,id:l,from_user:n}}createDatabase(e,t,a,s){return{firstName:e,lastName:t,sentStatus:a,id:s}}createFriends(e,t,a){return{firstName:e,lastName:t,id:a}}handleClick(e,t){e.preventDefault(),this.setState({panel:t}),console.log(t)}getInfo(){this.refreshFriends(),v.a.get("https://animosched-backend-backup.herokuapp.com/api/friendrequestlist/"+localStorage.getItem("user_id")+"/").then(e=>{this.setState({requests:[]}),this.setState({newRequests:0});var t=this.state.newRequests;e.data.map(e=>{var a=this.state.requests;a.push(this.createRequests(e.from_user_fname,e.from_user_lname,e.seen,e.accepted,e.id,e.from_user)),e.seen||(t+=1),this.setState({requests:a})}),this.setState({newRequests:t}),this.setState({dataReceived:!0}),this.poll()})}refreshFriends(){console.log("friends refreshing"),v.a.get("https://animosched-backend-backup.herokuapp.com/api/sentrequestlist/"+localStorage.getItem("user_id")+"/").then(e=>{var t=[];e.data.map(e=>{t.push(e.to_user)}),v.a.get("https://animosched-backend-backup.herokuapp.com/api/nonfriendlist/"+localStorage.getItem("user_id")+"/").then(e=>{var a=[];e.data.map(e=>{a.push(this.createDatabase(e.first_name,e.last_name,t.includes(e.id),e.id))}),this.setState({database:a}),v.a.get("https://animosched-backend-backup.herokuapp.com/api/friendlist/"+localStorage.getItem("user_id")+"/").then(e=>{var t=[];e.data.map(e=>{t.push(this.createFriends(e.first_name,e.last_name,e.id))}),this.setState({friends:t})})})}).catch(e=>{console.log(e.response)})}componentDidMount(){v.a.get("https://animosched-backend-backup.herokuapp.com/api/sentrequestlist/"+localStorage.getItem("user_id")+"/").then(e=>{var t=[];e.data.map(e=>{t.push(e.to_user)}),v.a.get("https://animosched-backend-backup.herokuapp.com/api/nonfriendlist/"+localStorage.getItem("user_id")+"/").then(e=>{var a=this.state.database;e.data.map(e=>{a.push(this.createDatabase(e.first_name,e.last_name,t.includes(e.id),e.id))}),this.setState({database:a}),v.a.get("https://animosched-backend-backup.herokuapp.com/api/friendlist/"+localStorage.getItem("user_id")+"/").then(e=>{var t=this.state.friends;e.data.map(e=>{t.push(this.createFriends(e.first_name,e.last_name,e.id))}),this.setState({friends:t}),this.getInfo()})})})}poll(){this.state.polling&&clearTimeout(this.state.polling);var e=setTimeout(()=>{this.getInfo()},this.state.pollingInterval);this.setState({polling:e})}render(){for(var e=[],t=[],a=[],s=this.state.panel,n=0;n<this.state.requests.length;n++)e.push(this.state.requests[n]);for(n=0;n<this.state.friends.length;n++)t.push(this.state.friends[n]);for(n=0;n<this.state.database.length;n++){var r=this.state.database[n];(r.firstName.toLowerCase().includes(this.state.searchQuery.toLowerCase())||r.lastName.toLowerCase().includes(this.state.searchQuery.toLowerCase()))&&a.push(this.state.database[n])}return this.state.changePanel="requests"==s?l.a.createElement("div",null,this.state.dataReceived?l.a.createElement("div",{className:"cardPanel"},e.map((e,t)=>l.a.createElement(E.a,{header:!0,className:"panelItem"},l.a.createElement(w.a,null,l.a.createElement(x.a,{sm:7},l.a.createElement(c.Link,{className:"friendItem",to:e.acceptStatus?{pathname:"/view_friends",state:{selectedFriendId:e.id}}:{}},l.a.createElement(P.a,{name:e.firstName+" "+e.lastName,textSizeRatio:2.3,round:!0,size:"25",style:{marginRight:"12px"}}),l.a.createElement("span",null," ",e.firstName," ",e.lastName," "))),!e.acceptStatus&&l.a.createElement(x.a,{sm:5},l.a.createElement(N.a,{onClick:a=>this.handleAcceptClick(a,t,e.id,e.from_user),variant:"success",size:"sm",className:"marginRightSeparator"},"Accept"),l.a.createElement(N.a,{onClick:a=>this.handleDeleteClick(a,t,e.id),variant:"secondary",size:"sm"},"Delete")),e.acceptStatus&&l.a.createElement(x.a,{sm:5},l.a.createElement("span",{className:"marginRightSeparator"}," Accepted "),l.a.createElement("svg",{class:"bi bi-check-circle",width:"24",height:"24",viewBox:"0 0 16 16",fill:"#006A4E",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{"fill-rule":"evenodd",d:"M15.354 2.646a.5.5 0 010 .708l-7 7a.5.5 0 01-.708 0l-3-3a.5.5 0 11.708-.708L8 9.293l6.646-6.647a.5.5 0 01.708 0z","clip-rule":"evenodd"}),l.a.createElement("path",{"fill-rule":"evenodd",d:"M8 2.5A5.5 5.5 0 1013.5 8a.5.5 0 011 0 6.5 6.5 0 11-3.25-5.63.5.5 0 11-.5.865A5.472 5.472 0 008 2.5z","clip-rule":"evenodd"})))))),0==e.length&&l.a.createElement(E.a,{disabled:!0,className:"panelItem"},l.a.createElement(E.a,{divider:!0}),l.a.createElement("center",null,"No Friend Requests"))):l.a.createElement("div",{className:"cardPanel"},this.state.skeletons.map(e=>l.a.createElement(E.a,{header:!0,className:"panelItem"},l.a.createElement(w.a,null,l.a.createElement(x.a,{xs:12,md:8},l.a.createElement(y.a,{width:"100%",height:"100%"}),l.a.createElement("span",null,l.a.createElement(y.a,{width:"100%",height:"100%"}))),l.a.createElement(x.a,{xs:6,md:4},l.a.createElement("span",null,l.a.createElement(y.a,{width:"100%",height:"100%"})),l.a.createElement(y.a,{width:"100%",height:"100%"}))))))):"list"==s?l.a.createElement("div",null,this.state.dataReceived?l.a.createElement("div",{className:"cardPanel"},t.map((e,t)=>l.a.createElement(c.Link,{className:"friendItem",to:{pathname:"/view_friends",state:{selectedFriendId:e.id}}},l.a.createElement(E.a,{className:"panelItem"},l.a.createElement(P.a,{name:e.firstName+" "+e.lastName,textSizeRatio:2.3,round:!0,size:"25",style:{marginRight:"12px"}}),l.a.createElement("span",null," ",e.firstName," ",e.lastName," ")))),0!=t.length&&l.a.createElement(E.a,{header:!0,style:{position:"sticky",bottom:"0",backgroundColor:"white",padding:"5px",marginLeft:"10px",marginTop:"10px"}},l.a.createElement("div",null,l.a.createElement(c.Link,{to:{pathname:"/view_friends",state:{selectedFriendId:-1}},id:"dropdownFooter"},"Friends Page"))),0==t.length&&l.a.createElement(E.a,{disabled:!0,className:"panelItem"},l.a.createElement(E.a,{divider:!0}),l.a.createElement("center",null,"No Friends"))):l.a.createElement("div",{className:"cardPanel"},this.state.skeletons.map(e=>l.a.createElement(E.a,{header:!0,className:"panelItem"},l.a.createElement(w.a,null,l.a.createElement(x.a,{xs:12,md:8},l.a.createElement(y.a,{width:"100%",height:"100%"}),l.a.createElement("span",null,l.a.createElement(y.a,{width:"100%",height:"100%"}))),l.a.createElement(x.a,{xs:6,md:4},l.a.createElement("span",null,l.a.createElement(y.a,{width:"100%",height:"100%"})),l.a.createElement(y.a,{width:"100%",height:"100%"}))))))):l.a.createElement("div",null,this.state.dataReceived?l.a.createElement("div",{className:"cardPanel"},l.a.createElement(E.a,{header:!0,className:"dropdownHeader"},l.a.createElement(_.a,{id:"outlined-basic",label:"Search Friends",variant:"outlined",onChange:this.handleSearchChange})),a.map((e,t)=>l.a.createElement(E.a,{header:!0,className:"panelItem"},l.a.createElement(w.a,null,l.a.createElement(x.a,{xs:12,md:8},l.a.createElement(P.a,{name:e.firstName+" "+e.lastName,textSizeRatio:2.3,round:!0,size:"25",style:{marginRight:"12px"}}),l.a.createElement("span",null," ",e.firstName," ",e.lastName," ")),l.a.createElement(x.a,{xs:6,md:4},e.sentStatus?l.a.createElement(N.a,{disabled:!0,variant:"success",size:"sm"},"Sent"):l.a.createElement(N.a,{onClick:a=>this.handleSendClick(a,t,e.id),variant:"success",size:"sm"},"Add")))))):l.a.createElement("div",{className:"cardPanel"},this.state.skeletons.map(e=>l.a.createElement(E.a,{header:!0,className:"panelItem"},l.a.createElement(w.a,null,l.a.createElement(x.a,{xs:12,md:8},l.a.createElement(y.a,{width:"100%",height:"100%"}),l.a.createElement("span",null,l.a.createElement(y.a,{width:"100%",height:"100%"}))),l.a.createElement(x.a,{xs:6,md:4},l.a.createElement("span",null,l.a.createElement(y.a,{width:"100%",height:"100%"})),l.a.createElement(y.a,{width:"100%",height:"100%"}))))))),l.a.createElement(u.a,{nav:!0,inNavbar:!0},l.a.createElement(p.a,{tag:"span","data-toggle":"dropdown",onClick:this.handleFriendsClick},l.a.createElement(b.a,{badgeContent:this.state.newRequests,color:"error",overlap:"circle"},l.a.createElement("svg",{class:"bi bi-people-fill",width:"32",height:"32",viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{"fill-rule":"evenodd",d:"M9 16s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1H9zm4-6a3 3 0 100-6 3 3 0 000 6zm-5.784 6A2.238 2.238 0 017 15c0-1.355.68-2.75 1.936-3.72A6.325 6.325 0 007 11c-4 0-5 3-5 4s1 1 1 1h4.216zM6.5 10a2.5 2.5 0 100-5 2.5 2.5 0 000 5z","clip-rule":"evenodd"})))),l.a.createElement(g.a,{right:!0,id:"dropdownMenu"},"list"==this.state.panel&&l.a.createElement(E.a,{header:!0,className:"dropdownHeader",id:"headerSticky"},l.a.createElement("a",{href:"javascript:void(0)",className:"dropdownOption",onClick:e=>this.handleClick(e,"requests")},"Friend Requests"),"|",l.a.createElement("a",{href:"javascript:void(0)",className:"dropdownOption",id:"activeOption",onClick:e=>this.handleClick(e,"list")},"Friend List"),"|",l.a.createElement("a",{href:"javascript:void(0)",className:"dropdownOption",onClick:e=>this.handleClick(e,"find")},"Find Friends")),"find"==this.state.panel&&l.a.createElement(E.a,{header:!0,className:"dropdownHeader",id:"headerSticky"},l.a.createElement("a",{href:"javascript:void(0)",className:"dropdownOption",onClick:e=>this.handleClick(e,"requests")},"Friend Requests"),"|",l.a.createElement("a",{href:"javascript:void(0)",className:"dropdownOption",onClick:e=>this.handleClick(e,"list")},"Friend List"),"|",l.a.createElement("a",{href:"javascript:void(0)",className:"dropdownOption",id:"activeOption",onClick:e=>this.handleClick(e,"find")},"Find Friends")),"requests"==this.state.panel&&l.a.createElement(E.a,{header:!0,className:"dropdownHeader",id:"headerSticky"},l.a.createElement("a",{href:"javascript:void(0)",className:"dropdownOption",id:"activeOption",onClick:e=>this.handleClick(e,"requests")},"Friend Requests"),"|",l.a.createElement("a",{href:"javascript:void(0)",className:"dropdownOption",onClick:e=>this.handleClick(e,"list")},"Friend List"),"|",l.a.createElement("a",{href:"javascript:void(0)",className:"dropdownOption",onClick:e=>this.handleClick(e,"find")},"Find Friends")),this.state.changePanel),this.notifRefreshFriends())}}var B=I,R=a(872);class T extends l.a.Component{constructor(e){super(e),this.handleRefreshFriends=()=>{},this.state={currentPage:e.currentPage,notifRefresh:!1}}render(){return l.a.createElement(m.a,{id:"navbarStep",sticky:"top",collapseOnSelect:!0,expand:"lg",className:"color-nav",variant:"dark"},l.a.createElement(m.a.Brand,{href:"/"},l.a.createElement("img",{alt:"",src:"/logo.svg",width:"30",height:"30",className:"d-inline-block align-top"})," ","AnimoSched"),l.a.createElement(m.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),l.a.createElement(m.a.Collapse,{id:"responsive-navbar-nav"},l.a.createElement(h.a,{className:"ml-auto"},this.props.logged_in?(()=>l.a.createElement(l.a.Fragment,null,l.a.createElement(h.a,null,l.a.createElement(h.a.Link,{active:"search_courses"==this.state.currentPage,href:"/search_courses"},"Search Courses"),l.a.createElement(h.a.Link,{active:"preferences"==this.state.currentPage,href:"/preferences"},"Preferences"),l.a.createElement(h.a.Link,{active:"generateSchedule"==this.state.currentPage,href:"/generateSchedule"},"Generate Schedule"),l.a.createElement(h.a.Link,{active:"savedSchedules"==this.state.currentPage,href:"/"},"Saved Schedules"),l.a.createElement(h.a.Link,{href:"https://forms.gle/7iavSgzsa2EnJEd78"},"Leave Feedback"),l.a.createElement(R.a,{orientation:"vertical",light:!0,flexItem:!0}),l.a.createElement(h.a.Link,{active:"profile"==this.state.currentPage,href:"/profile"},l.a.createElement(P.a,{name:this.props.first_name+" "+this.props.last_name,textSizeRatio:2.3,round:!0,size:"25",style:{marginRight:"14px"}}),this.props.first_name),l.a.createElement(R.a,{orientation:"vertical",light:!0,flexItem:!0}),l.a.createElement(h.a.Link,null,l.a.createElement(B,{notifRefresh:this.state.notifRefresh})),l.a.createElement(h.a.Link,null,l.a.createElement(k,{notifRefresh:this.state.notifRefresh})),l.a.createElement(u.a,{nav:!0,inNavbar:!0},l.a.createElement(p.a,{nav:!0,caret:!0}),l.a.createElement(g.a,{right:!0,style:{marginTop:"6px"}},l.a.createElement(E.a,{onClick:this.props.handle_logout},"Logout"))))))():l.a.createElement(l.a.Fragment,null,l.a.createElement(h.a.Link,{href:"/login"},"Sign In")))))}}var F=T,L=a(889),O=a(890),M=a(891),A=(a(377),a(37)),j=a(183),z=a(482),q=a(46),H=a(102),U=a(477),V=a(9),W=a(8),G=a.n(W),K=a(879),Y=a(447),$=a.n(Y),J=a(449),X=a.n(J),Q=a(448),Z=a.n(Q),ee=a(244),te=(a(605),a(136)),ae=(Object(U.a)({palette:{type:"light",primary:ee.a}}),(e,t)=>{var a=G()(e),s=t.weekday;return a.format(s?"dddd":" ")}),se=Object(V.a)({dayScaleCell:{overflow:"visible"}},"DayScaleCell")(e=>{e.formatDate;var t=e.classes,a=Object(j.a)(e,["formatDate","classes"]);return l.a.createElement(H.d.DayScaleCell,Object.assign({},a,{formatDate:ae,className:t.dayScaleCell}))}),le=(Object(V.a)(({palette:e})=>({icon:{color:e.action.active},textCenter:{textAlign:"left",wordWrap:"break-word"},header:{height:"260px",backgroundSize:"cover"},commandButton:{backgroundColor:"rgba(255,255,255,0.65)"}}),{name:"Content"})(e=>{e.children;var t=e.appointmentData,a=e.classes,s=Object(j.a)(e,["children","appointmentData","classes"]);return l.a.createElement(H.a.Content,Object.assign({},s,{appointmentData:t}),l.a.createElement(K.a,{container:!0,alignItems:"center"},l.a.createElement(K.a,{item:!0,xs:2,className:a.textCenter},l.a.createElement($.a,{className:a.icon})),l.a.createElement(K.a,{item:!0,xs:10},l.a.createElement("span",null,t.location)),l.a.createElement(K.a,{item:!0,xs:2,className:a.textCenter},l.a.createElement(Z.a,{className:a.icon})),l.a.createElement(K.a,{item:!0,xs:10},l.a.createElement("span",null,t.section)),l.a.createElement(K.a,{item:!0,xs:2,className:a.textCenter},l.a.createElement(X.a,{className:a.icon})),l.a.createElement(K.a,{item:!0,xs:10},l.a.createElement("span",null,t.professor))))}),e=>{e.style;var t=Object(j.a)(e,["style"]);return l.a.createElement(H.b.AppointmentContent,t,l.a.createElement("div",{className:t.container,style:{whiteSpace:"normal"}},l.a.createElement("div",null,t.data.title),l.a.createElement("div",{style:{fontSize:"11px"}},t.data.location),l.a.createElement("div",{style:{fontSize:"11px"}},t.data.startTime," - ",t.data.endTime),l.a.createElement("div",null,l.a.createElement(te.a,{gutterBottom:!0,variant:"body2",style:{fontSize:"8px",wordWrap:"break-word"}},t.data.professor))))});class ne extends s.Component{constructor(e){super(e),this.CustomAppointment=e=>{var t=e.style,a=Object(j.a)(e,["style"]),s=[...this.state.coloredClasses],n=l.a.createElement(H.b.Appointment,Object.assign({},a,{style:Object(A.a)(Object(A.a)({},t),{},{backgroundColor:this.state.palette[1]}),data:a.data.title}));return s.map(e=>{if(e.title==a.data.title)return n=l.a.createElement(H.b.Appointment,Object.assign({},a,{style:this.state.matched.includes(e.title)?Object(A.a)(Object(A.a)({},t),{},{backgroundColor:e.color,whiteSpace:"normal",border:"dashed #65656f"}):Object(A.a)(Object(A.a)({},t),{},{backgroundColor:e.color,whiteSpace:"normal"}),data:a.data.title})),l.a.createElement(H.b.Appointment,Object.assign({},a,{style:e.title in this.state.matched?Object(A.a)(Object(A.a)({},t),{},{backgroundColor:e.color,whiteSpace:"normal",border:"dashed #65656f"}):Object(A.a)(Object(A.a)({},t),{},{backgroundColor:e.color,whiteSpace:"normal"}),data:a.data.title}))}),n},this.processColoredClasses=()=>{console.log("hello from proccessColoredClasses");var e=[],t=0;[...this.state.classes].map(a=>{e.some(e=>e.title==a.title)||(e.push({title:a.title,color:this.state.palette[t]}),(t+=1)!=e.length+1&&t!=this.state.palette.length||(t=0))}),console.log(e),this.setState({coloredClasses:e})},this.CustomAppointment=this.CustomAppointment.bind(this);var t=9;void 0!=e.earliest&&(t=e.earliest);var a=17;void 0!=e.latest&&(a=e.latest);var s=[];void 0!=e.matched&&(s=e.matched);this.state={classes:e.content,latest:a,earliest:t,palette:e.palette,coloredClasses:[],palIndex:0,dataReceived:!1,matched:s,matchPalette:["#ee4035","#f37736","#7bc043","#0392cf","#d11141","#00b159","#00aedb","#f37735","#ffc425"],matchPalCount:0},console.log("reach schedview"),console.log(e.matched)}componentWillReceiveProps(e){var t=7;void 0!=e.earliest&&(t=e.earliest);var a=19;void 0!=e.latest&&(a=e.latest);var s=[];void 0!=e.matched&&(s=e.matched),this.setState({classes:e.content,latest:a,earliest:t,palette:e.palette,matched:s},()=>{this.processColoredClasses()}),console.log("REACHED SCHEDULEVIEW")}componentDidMount(){this.processColoredClasses(),this.setState({dataReceived:!0})}render(){return l.a.createElement(z.a,null,this.state.dataReceived?l.a.createElement(H.c,{id:"scheduleView",data:this.state.classes},l.a.createElement(q.q,{currentDate:"2018-06-28"}),l.a.createElement(H.d,{startDayHour:this.state.earliest,endDayHour:this.state.latest,excludedDays:[0,6],dayScaleCellComponent:se}),l.a.createElement(H.b,{appointmentContentComponent:le,appointmentComponent:this.CustomAppointment})):null)}}var re=ne,ie=a(876),oe=a(873);s.Component;var ce=a(874),de=a(875),he=a(888),me=a(878),ue=a(101),pe=a.n(ue),ge=a(112),Ee=a.n(ge),fe=a(135),be=a.n(fe);class Ce extends s.Component{constructor(e){super(e),this._handleFocus=e=>{this.setState({boolEdit:!0}),console.log("Focused with text: "+e)},this._handleFocusOut=e=>{console.log("Left editor with text: "+e),this.setState({schedTitle:e}),console.log("this is props"),console.log(this.props),this.props.updateSchedTitle(e),this.setState({boolEdit:!1})},this.handleKeyPress=e=>{console.log("event: "+e),"Enter"===e.key&&(this.setState({boolEdit:!1}),console.log("isEditing: "+this.state.boolEdit))},this.editButtonPress=()=>{!1===this.state.boolEdit?(this.setState({boolEdit:!0}),this.editableLabel.current.setState({isEditing:!0})):!0===this.state.boolEdit&&this.setState({boolEdit:!1})},this._handleFocus=this._handleFocus.bind(this),this._handleFocusOut=this._handleFocusOut.bind(this),this.handleKeyPress=this.handleKeyPress.bind(this),this.state={scheduleContent:e.scheduleContent,tableContent:e.tableContent,id:e.id,schedTitle:e.titleName,boolEdit:!1,palette:e.palette,earliest:e.earliest,latest:e.latest,allowEdit:e.allowEdit,matched:e.matched},this.editableLabel=l.a.createRef(),console.log("reach schedviewhome"),console.log(e)}componentWillReceiveProps(e){this.setState({scheduleContent:e.scheduleContent,tableContent:e.tableContent,id:e.id,schedTitle:e.titleName,palette:e.palette,earliest:e.earliest,latest:e.latest,allowEdit:e.allowEdit,matched:e.matched}),console.log(e.palette)}render(){var e=this.props.classes,t=Object(V.a)(e=>({head:{backgroundColor:"#006A4E",color:e.palette.common.white,position:"sticky",top:0},body:{fontSize:12}}))(ie.a),a=Object(V.a)(e=>({root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default}}}))(oe.a);function s(e,t,a,s,l,n,r,i,o,c){return{classNmbr:e,course:t,section:a,faculty:s,day:l,startTime:n,endTime:r,room:i,capacity:o,enrolled:c}}s(2258,"INOVATE","S17","DELA CRUZ, JUAN","TH","12:45","14:15","GK210",45,45),s(2259,"INOVATE","S18","DELA CRUZ, JUAN","TH","14:30","16:00","GK210",45,40),s(2043,"TREDTRI","S17","TORRES, MARIA","TH","14:30","16:00","GK301",30,30),s(2044,"TREDTRI","S18","TORRES, MARIA","TH","12:45","14:15","GK301",30,28);return l.a.createElement("div",{style:{marginRight:"20px"}},l.a.createElement(d.Row,{horizontal:"center"},l.a.createElement(d.Column,{flexShrink:1},l.a.createElement("div",{id:"savedSchedContent",class:"savedSchedContent",style:{block:"display"}},this.state.allowEdit?l.a.createElement(d.Row,{horizontal:"center"},l.a.createElement(pe.a,{ref:this.editableLabel,text:this.state.schedTitle,labelClassName:"myLabelClass",inputClassName:"myInputClass",inputWidth:"200px",inputHeight:"25px",inputMaxLength:"50",labelFontWeight:"bold",inputFontWeight:"bold",onFocus:this._handleFocus,onFocusOut:this._handleFocusOut,onChange:this.handleKeyPress}),this.state.boolEdit?l.a.createElement(be.a,{fontSize:"medium",className:e.checkIcon,onClick:this.editButtonPress}):l.a.createElement(Ee.a,{fontSize:"small",className:e.pencilIcon,onClick:this.editButtonPress})):l.a.createElement(d.Row,{horizontal:"center"},l.a.createElement("h5",null,this.state.schedTitle)),l.a.createElement("center",null,l.a.createElement(re,{content:this.state.scheduleContent,earliest:this.state.earliest,latest:this.state.latest,palette:this.state.palette,matched:this.props.matched})),l.a.createElement(d.Row,{horizontal:"center",flexShrink:1},l.a.createElement("div",{className:"viewCoursesHome",id:"viewCoursesHome"},l.a.createElement(he.a,{component:z.a,style:{maxHeight:"428px",overflowY:"auto",overflowX:"auto",width:"auto"}},l.a.createElement(ce.a,{"aria-label":"customized table",fixedHeader:!1,style:{tableLayout:"auto"}},l.a.createElement(me.a,null,l.a.createElement(oe.a,null,l.a.createElement(t,null," Class Number "),l.a.createElement(t,null," Course "),l.a.createElement(t,null," Section "),l.a.createElement(t,null," Faculty "),l.a.createElement(t,null," Day "),l.a.createElement(t,null," Time "),l.a.createElement(t,null," Room "),l.a.createElement(t,null," Capacity "),l.a.createElement(t,null," Enrolled "))),l.a.createElement(de.a,null,this.state.tableContent.map(e=>l.a.createElement(a,{style:e.compareMatch?{backgroundColor:"#b8d4cd"}:{backgroundColor:"0099CC"},key:e.classNmbr},l.a.createElement(t,{style:e.capacity<=e.enrolled?{color:"#0099CC"}:{}}," ",e.classNmbr," "),l.a.createElement(t,{style:e.capacity<=e.enrolled?{color:"#0099CC"}:{}}," ",e.course," "),l.a.createElement(t,{style:e.capacity<=e.enrolled?{color:"#0099CC"}:{}}," ",e.section," "),l.a.createElement(t,{style:e.capacity<=e.enrolled?{color:"#0099CC"}:{}}," ",e.faculty," "),l.a.createElement(t,{style:e.capacity<=e.enrolled?{color:"#0099CC"}:{}}," ",e.day," "),l.a.createElement(t,{style:e.capacity<=e.enrolled?{color:"#0099CC"}:{}}," ",e.startTime," - ",e.endTime," "),l.a.createElement(t,{style:e.capacity<=e.enrolled?{color:"#0099CC"}:{}}," ",e.room," "),l.a.createElement(t,{align:"right",style:e.capacity<=e.enrolled?{color:"#0099CC"}:{}}," ",e.capacity," "),l.a.createElement(t,{align:"right",style:e.capacity<=e.enrolled?{color:"#0099CC"}:{}}," ",e.enrolled," "))))))))))))}}var ve=Object(V.a)(e=>({pencilIcon:{marginLeft:"10px","&:hover":{backgroundColor:"white",color:"gray"}},checkIcon:{color:"green",marginLeft:"10px","&:hover":{backgroundColor:"white",color:"#79c879"}}}))(Ce),ye=(a(606),a(450)),Se=a.n(ye),ke=a(451),we=a.n(ke),xe=a(452),Ne=a.n(xe),_e=a(453),Pe=a.n(_e),De=a(877),Ie=a(48),Be=a.n(Ie),Re=a(881),Te=a(883),Fe=a(882),Le=a(894),Oe=a(887),Me=a(918),Ae=a(180),je=a.n(Ae),ze=a(154),qe=(a(272),a(273),a(181)),He=a.n(qe),Ue=a(457),Ve=a.n(Ue),We=a(179),Ge=a.n(We),Ke=a(456),Ye=a.n(Ke),$e=a(917),Je=a(892),Xe=a(893),Qe=a(896),Ze=a(880),et=a(916),tt=a(29),at=a.n(tt),st=a(120),lt=a.n(st),nt=a(920),rt=a(915),it=a(884);class ot extends l.a.Component{constructor(e){super(e),this.handleSearchInput=(e,t)=>{""!=t.trim()?this.setState({loading:!0,courseList:[]},()=>{v.a.get("https://animosched-backend-backup.herokuapp.com/api/searchcourse/"+t+"/").then(e=>{e.data.map(e=>{var t=this.state.courseList;t.push({id:e.id,course_code:e.course_code}),this.setState({courseList:t})}),this.setState({loading:!1})})}):this.setState({courseList:[]})},this.handleOfferingSearchInput=(e,t)=>{if(""!=t.trim()){this.setState({loading:!0});var a=[],s=[];v.a.get("https://animosched-backend-backup.herokuapp.com/api/searchcourse/"+t+"/").then(e=>{e.data.map(e=>{s.push(e.id)}),v.a.post("https://animosched-backend-backup.herokuapp.com/api/courseofferingslist/",{courses:s,applyPreference:!1,user_id:localStorage.getItem("user_id")}).then(e=>{e.data.map(e=>{var t=Be()(e,"classnumber");for(var s in console.log(t),t){console.log(s,t[s]);var l=[],n="",r="",i="",o="",c="",d="",h="",m="",u="",p="",g="";t[s].map(e=>{l.push(e.day),r=e.classnumber,i=e.course,o=e.course_id,c=e.section,d=e.faculty,h=e.timeslot_begin,m=e.timeslot_end,u=e.room,p=e.max_enrolled,g=e.current_enrolled}),l.map(e=>{n+=e});var E=this.createData(r,i,o,c,d,n,h,m,u,p,g);console.log(E),a.push(E)}}),this.setState({offeringList:a,loading:!1})})})}else this.setState({offeringList:[]})},this.state={college:"",programList:[],degrees:[],courseList:[],offeringList:[],value:this.props.value,loading:!1},this.handleSearchInputThrottled=D.a.debounce(this.handleSearchInput,500),this.handleOfferingThrottled=D.a.debounce(this.handleOfferingSearchInput,500)}componentWillReceiveProps(e){this.setState({value:e.value}),this.changeProgramList(e)}changeProgramList(e){var t=[];void 0!=e.degrees&&e.degrees.map(a=>{if(String(e.college)==String(a.college)){var s={id:a.id,name:a.degree_name};t=t.concat(s)}}),this.state.programList=t}createData(e,t,a,s,l,n,r,i,o,c,d){return{classNmbr:e,course:t,course_id:a,section:s,faculty:l,day:n,startTime:r,endTime:i,room:o,capacity:c,enrolled:d}}render(){return"register"==this.props.page?l.a.createElement(rt.a,{id:"combo-box-demo",options:this.state.programList,getOptionLabel:e=>e.name,style:{width:500},renderInput:e=>l.a.createElement(_.a,Object.assign({},e,{label:"Degree Program",variant:"outlined"})),value:this.state.value,inputValue:this.state.value,searchText:this.state.value,onChange:this.props.onChange}):"search"==this.props.page?l.a.createElement(rt.a,{multiple:!0,id:"tags-outlined",options:this.state.courseList,getOptionLabel:e=>e.course_code,defaultValue:this.props.defaultValue,filterSelectedOptions:!0,loading:this.state.loading,noOptionsText:"Start typing to search for a course!",renderInput:e=>l.a.createElement(_.a,Object.assign({},e,{label:"Search Course",variant:"outlined",InputProps:Object(A.a)(Object(A.a)({},e.InputProps),{},{endAdornment:l.a.createElement(l.a.Fragment,null,this.state.loading?l.a.createElement(it.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)})})),onChange:this.props.onChange,onKeyPress:this.props.onKeyPress,onInputChange:this.handleSearchInputThrottled}):"search_simple"==this.props.page?l.a.createElement(rt.a,{multiple:!0,id:"tags-outlined",options:this.state.courseList,getOptionLabel:e=>e.course_code,filterSelectedOptions:!0,loading:this.state.loading,noOptionsText:"Start typing to search for a course!",renderInput:e=>l.a.createElement(_.a,Object.assign({},e,{label:"Search Course",variant:"outlined",InputProps:Object(A.a)(Object(A.a)({},e.InputProps),{},{endAdornment:l.a.createElement(l.a.Fragment,null,this.state.loading?l.a.createElement(it.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)})})),onChange:this.props.onChange,onInputChange:this.handleSearchInputThrottled}):"add"==this.props.page?l.a.createElement(rt.a,{multiple:!0,options:this.state.courseList,disabled:this.props.disabled,getOptionLabel:e=>e.course_code,filterSelectedOptions:!0,noOptionsText:"Start typing to add a course!",style:{width:500},loading:this.state.loading,renderInput:e=>l.a.createElement(_.a,Object.assign({},e,{label:"Course",variant:"outlined",InputProps:Object(A.a)(Object(A.a)({},e.InputProps),{},{endAdornment:l.a.createElement(l.a.Fragment,null,this.state.loading?l.a.createElement(it.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)})})),onChange:this.props.onChange,onKeyPress:this.props.onKeyPress,onInputChange:this.handleSearchInputThrottled,value:this.props.value}):"edit"==this.props.page?l.a.createElement(rt.a,{multiple:!0,options:this.state.offeringList,getOptionLabel:e=>e.course+" "+e.section+" ("+e.classNmbr+") "+e.day+" "+e.startTime+" - "+e.endTime,filterSelectedOptions:!0,noOptionsText:"Start typing to search for a course offering!",style:{width:500},loading:this.state.loading,renderInput:e=>l.a.createElement(_.a,Object.assign({},e,{label:"Search Course",helperText:"Search for a course code or class number to select a class to add to this schedule.",variant:"outlined",InputProps:Object(A.a)(Object(A.a)({},e.InputProps),{},{endAdornment:l.a.createElement(l.a.Fragment,null,this.state.loading?l.a.createElement(it.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)})})),onChange:this.props.onChange,onInputChange:this.handleOfferingThrottled,value:this.props.value}):"generate"==this.props.page?l.a.createElement(rt.a,{multiple:!0,options:this.state.offeringList,getOptionLabel:e=>e.course+" "+e.section+" ("+e.classNmbr+")",filterSelectedOptions:!0,noOptionsText:"Start typing to add a specific course offering!",style:{width:500},loading:this.state.loading,renderInput:e=>l.a.createElement(_.a,Object.assign({},e,{label:"Add specific course offerings",variant:"outlined",InputProps:Object(A.a)(Object(A.a)({},e.InputProps),{},{endAdornment:l.a.createElement(l.a.Fragment,null,this.state.loading?l.a.createElement(it.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)})})),onChange:this.props.onChange,onInputChange:this.handleOfferingThrottled,value:this.props.value}):void 0}}var ct=ot,dt=a(913),ht=a(458),mt=a.n(ht),ut=a(459),pt=a.n(ut),gt=a(871),Et=a(821),ft=a(895),bt=a(455);function Ct(e){return l.a.createElement(dt.a,Object.assign({elevation:6,variant:"filled"},e))}Object(V.a)({root:{"&$checked":{color:ee.a[600]}},checked:{}})(e=>l.a.createElement(et.a,Object.assign({color:"default"},e)));var vt=e=>({popover:{position:"absolute",zIndex:"2"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"},buttonStyle:{textTransform:"none",width:"160px",borderRadius:"25px",padding:"10px",paddingLeft:"10px",paddingRight:"10px",backgroundColor:"#16775D",border:"none",color:"white",boxShadow:"6px 5px #e8f4ea",borderStyle:"solid",borderColor:"#16775D",marginTop:"20px",justifyContent:"center","&:hover":{backgroundColor:"white",color:"#16775D"}},prefbuttonStyle:{textTransform:"none",width:"15%",borderRadius:"25px",padding:"10px",paddingLeft:"10px",paddingRight:"10px",backgroundColor:"#16775D",border:"none",color:"white",boxShadow:"6px 5px #e8f4ea",borderStyle:"solid",borderColor:"#16775D",marginTop:"20px",justifyContent:"center","&:hover":{backgroundColor:"white",color:"#16775D"}},testbuttonStyle:{fontSize:"1vw",textTransform:"none",width:"100%",height:"100%",borderRadius:"10px",border:"2px solid #16775D",backgroundColor:"#16775D",color:"white",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)","&:hover":{color:"#16775D",backgroundColor:"white"}},deleteButtonStyle:{textTransform:"none",width:"160px",borderRadius:"25px",padding:"10px",paddingLeft:"10px",paddingRight:"10px",backgroundColor:"#D3D3D3",border:"##D3D3D3",color:"black",boxShadow:"6px 5px #e8f4ea",borderStyle:"solid",borderColor:"#D3D3D3",marginTop:"20px",justifyContent:"center","&:hover":{backgroundColor:"#d11a2a",borderStyle:"solid",color:"white"}},modal:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"white",top:"50%",left:"50%",transform:"translate(-50%,-50%)"},paper:{position:"absolute",width:"400px",height:"300px",backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},gridRoot:{flexGrow:1},root:{display:"flex",alignItems:"center"},wrapper:{position:"relative"},buttonProgress:{color:ee.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12,paddingTop:"5px",paddingBottom:"5px"}}),yt={minHeight:"100vh",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",overflow:"hidden",backgroundImage:"linear-gradient(#086e53, #579d8b)"};class St extends s.Component{constructor(e){super(e),this.handlePageChange=(e,t)=>{this.setState(e=>({currentContent:e.generatedContents[t]}),()=>{for(var e=[],t=this.state.currentContent.props.offerings,a=0;a<t.length;a+=1){for(var s=!1,l=0;l<e.length;l+=1)t[a].classnumber==e[l].classnumber&&(s=!0);s||e.push({title:t[a].course+" "+t[a].section,classnumber:t[a].classnumber,course:t[a].course_id})}this.setState({currentClasses:e})}),this.setState({currentPage:t}),this.setState(e=>({currentPage:t})),console.log("pressed page "+t),console.log(this.state.generatedContents[t]),window.scrollTo({top:0,behavior:"smooth"})},this.createTimeslot=(e,t,a)=>"M"==e?new Date(2018,5,25,t,a):"T"==e?new Date(2018,5,26,t,a):"W"==e?new Date(2018,5,27,t,a):"H"==e?new Date(2018,5,28,t,a):"F"==e?new Date(2018,5,29,t,a):"S"==e?new Date(2018,5,30,t,a):void 0,this.randomPalette=()=>{function e(e){var t=e.toString(16);return 1==t.length?"0"+t:t}v.a.get("https://animosched-backend-backup.herokuapp.com/api/randompalette/").then(t=>{var a=[];console.log(t.data),t.data.result.map(t=>{var s,l,n;a.push((s=t[0],l=t[1],n=t[2],"#"+e(s)+e(l)+e(n)))}),this.setState({chosenPalette:a})})},this.retrieveSchedInfo=()=>{v.a.get("https://animosched-backend-backup.herokuapp.com/api/schedulelist/"+localStorage.getItem("user_id")+"/").then(e=>{var t=[];e.data.map(e=>{var a=0,s=[],l=[],n=9,r=17,i=Be()(e.courseOfferings,"classnumber");for(var o in i){var c=[],d="",h="",m="",u="",p="",g="",E="",f="",b="",C="";i[o].map(e=>{c.push(e.day),h=e.classnumber,m=e.course,e.course_id,u=e.section,p=e.faculty,g=e.timeslot_begin.substring(0,e.timeslot_begin.length-3),E=e.timeslot_end.substring(0,e.timeslot_end.length-3),f=e.room,b=e.max_enrolled,C=e.current_enrolled}),c.map(e=>{d+=e});var v=this.createData(h,m,u,p,d,g,E,f,b,C);l.push(v)}e.courseOfferings.map(e=>{var t=e.timeslot_begin.split(":"),l=e.timeslot_end.split(":"),i={id:a,title:e.course+" "+e.section,section:e.section,startDate:this.createTimeslot(e.day,t[0],t[1]),endDate:this.createTimeslot(e.day,l[0],l[1]),location:e.room,professor:e.faculty,startTime:e.timeslot_begin.substring(0,e.timeslot_begin.length-3),endTime:e.timeslot_end.substring(0,e.timeslot_end.length-3),days:e.day,classCode:e.classnumber};n>Number(t[0])&&(n=Number(t[0])),r<Number(l[0])+1&&(r=Number(l[0])+1),s.push(i),a+=1}),t.unshift({id:e.id,title:e.title,scheduleContent:s,tableContent:l,prefContent:[],conflictsContent:e.information,earliest:n,latest:r,offerings:e.courseOfferings})}),console.log(t),this.setState({schedules:t}),this.setSchedInfo(),this.setState({success:!0}),this.setState({loading:!1}),this.setState({dataReceived:!0}),this.setState({scheduleChanged:!0})}).catch(e=>{console.log(e),this.setState({success:!1}),this.setState({loading:!1})})},this.setSchedInfo=()=>{if(console.log(this.state.schedules),this.state.schedules.length>0){var e=JSON.parse(localStorage.getItem("palette")),t=this.state.schedules.map((t,a)=>l.a.createElement(ve,{key:t.id,id:t.id,offerings:t.offerings,tableContent:t.tableContent,scheduleContent:t.scheduleContent,titleName:t.title,earliest:t.earliest,latest:t.latest,updateSchedTitle:this.updateSchedTitle,palette:e,allowEdit:this.state.allowEdit}));this.setState({currentPage:0}),this.setState({generatedContents:t}),this.setState({pagesCount:t.length}),this.setState({currentContent:t[0]},()=>{for(var e=[],t=this.state.currentContent.props.offerings,a=0;a<t.length;a+=1){for(var s=!1,l=0;l<e.length;l+=1)t[a].classnumber==e[l].classnumber&&(s=!0);s||e.push({title:t[a].course+" "+t[a].section,classnumber:t[a].classnumber,course:t[a].course_id})}this.setState({currentClasses:e,scheduleChanged:!0})})}},this.updateSchedTitle=e=>{var t=[],a=this.state.currentContent;v.a.patch("https://animosched-backend-backup.herokuapp.com/api/schedules/"+a.props.id+"/",{title:e}).then(s=>{var n=l.a.createElement(ve,{key:a.props.id,id:a.props.id,scheduleContent:a.props.scheduleContent,tableContent:a.props.tableContent,earliest:a.props.earliest,latest:a.props.latest,titleName:e,updateSchedTitle:this.updateSchedTitle,allowEdit:this.state.allowEdit,palette:a.props.palette});this.state.generatedContents.map(e=>{e.key==this.state.currentContent.key?t.push(n):t.push(e)}),this.setState({generatedContents:t}),this.setState({currentContent:n}),window.location.reload()}).catch(e=>{console.log(e.response)})},this.deleteSchedule=()=>{var e=[...this.state.generatedContents],t=this.state.currentPage,a=t;v.a.delete("https://animosched-backend-backup.herokuapp.com/api/schedules/"+this.state.currentContent.props.id+"/").then(e=>{window.location.reload()}).catch(e=>{console.log(e.response)}),-1!==a&&e.splice(a,1),this.setState({generatedContents:e}),t==this.state.generatedContents.length-1&&(t-=1,this.setState({currentPage:t}),this.setState({currentContent:this.state.generatedContents[t-1]})),this.setState({openAlert:!1});var s=[...this.state.snackBarVariables];this.setState({snackbarMsg:"Your schedule has been successfully deleted!"}),s[0].snackBarSuccess=!0,this.setState({snackBarVariables:s}),console.log(s)},this.handleClickOpenAlert=()=>{this.setState({openAlert:!0})},this.handleCloseAlert=()=>{this.setState({openAlert:!1})},this.handleCloseSnackBar=(e,t,a)=>{if(console.log(e),console.log(t),"clickaway"!==t){var s=[...this.state.snackBarVariables];0==a?s[0].snackBarSuccess=!1:1==a&&(s[1].snackBarFailed=!1),this.setState({snackBarVariables:s})}},this.exportSched=()=>{window.scrollTo(0,0),je()(document.querySelector("#savedSchedContent")).then(e=>{var t=this.state.currentContent.title+".png";console.log(this.state.currentContent.props.titleName),console.log(t),this.saveAs(e.toDataURL(),this.state.currentContent.props.titleName+".png")});var e=[...this.state.snackBarVariables];this.setState({snackbarMsg:"Your schedule image is downloading!"}),e[0].snackBarSuccess=!0,this.setState({snackBarVariables:e}),console.log(e)},this.saveAs=(e,t)=>{var a=document.createElement("a");"string"===typeof a.download?(a.href=e,a.download=t,document.body.appendChild(a),a.click(),document.body.removeChild(a)):window.open(e)},this.handleCloseModalCustomize=()=>{this.setState({openModalCustomize:!1})},this.handleOpenModalCustomize=()=>{console.log("Hello opening modal"),this.setState({openModalCustomize:!0}),console.log(this.state.openModalCustomize)},this.toggleModal=()=>{var e=this.state.openModalCustomize;this.setState({openModalCustomize:!e})},this.toggleModalEdit=()=>{var e=this.state.openModalEdit;this.setState({openModalEdit:!e})},this.processPaletteChoices=(e,t)=>{var a=t.map((function(e,a){var s={backgroundColor:e,color:e,width:"50px",fontSize:"8px",padding:"1em",display:"table-cell"};return 0==a?s={backgroundColor:e,color:e,width:"50px",fontSize:"8px",padding:"1em",display:"table-cell",borderRadius:"100px 0px 0px 100px"}:a==t.length-1&&(s={backgroundColor:e,color:e,width:"50px",fontSize:"8px",padding:"1em",display:"table-cell",borderRadius:"0px 100px 100px 0px"}),l.a.createElement("div",{key:a,style:s},e)})),s=l.a.createElement("div",{className:"colorContainer",style:{width:"50%",display:"table"}}," ",a),n=this.state.paletteChoices;n.push({id:this.state.paletteChoices.length,title:e,paletteDiv:s,paletteArray:t}),console.log(n),this.setState({paletteChoices:n})},this.handlePaletteChange=e=>{this.setState({chosenPalette:e.target.value}),console.log(this.state.currentContent),console.log(this.state.currentContent.props),console.log(e.target.value)},this.handleClassBoxChange=e=>{var t=[...this.state.classboxDetailsList];t.map(t=>{t.id===Number(e.target.id)&&(t.checked=e.target.checked)}),this.setState({newClassboxDetailsList:t})},this.handleCustomizeSave=()=>{console.log("Class Box changes saved"),this.setState({scheduleChanged:!1}),localStorage.setItem("palette",JSON.stringify(this.state.chosenPalette)),this.setSchedInfo(),this.setState({openModalCustomize:!1});var e=[...this.state.snackBarVariables];this.setState({snackbarMsg:"Your schedule customization changes have been successfully saved!"}),e[0].snackBarSuccess=!0,this.setState({snackBarVariables:e}),console.log(e)},this.handleEditChange=(e,t)=>{this.setState({newCurrentClasses:t})},this.handleEditAdd=()=>{console.log("Schedule edit changes saved");var e=this.state.currentClasses;this.state.newCurrentClasses.map(t=>{console.log(t),e.push({title:t.course+" "+t.section,classnumber:t.classNmbr,course:t.course_id})}),this.setState({currentClasses:e,newCurrentClasses:[]},()=>{console.log(e)})},this.handleEditCheck=()=>{this.setState({editLoad:!1}),console.log("Schedule edit changes saved");var e=this.state.currentClasses,t=[],a=[],s=[];this.state.newCurrentClasses.map(e=>{console.log(e),a.push(e.classNmbr),s.push(e.course_id)}),this.setState({currentClasses:e,newCurrentClasses:[]},()=>{console.log(e)});var l=this.state.currentContent.props.id,n=localStorage.getItem("user_id");e.map(e=>{t.push(e.classnumber),s.push(e.course)}),console.log(t),console.log(a),console.log(s);this.state.snackBarVariables;v.a.post("https://animosched-backend-backup.herokuapp.com/api/editschedule/",{classes:t,newclasses:a,courses:s,sched_id:l,user_id:n}).then(e=>{console.log(e),console.log(e.data),this.setState({allNumbers:e.data.classnumbers},()=>{e.data.rejected.length>0?this.setState({rejected:e.data.rejected},()=>{this.setState({editDialog:!0})}):this.handleEditSave()})}).catch(e=>{console.log(e.response)})},this.handleEditSave=()=>{var e=this.state.currentContent.props.id;v.a.post("https://animosched-backend-backup.herokuapp.com/api/saveeditschedule/",{classnumbers:this.state.allNumbers,sched_id:e}).then(e=>{window.location.reload(),this.setState({editLoad:!0}),this.setState({editDialog:!1})}).catch(e=>{this.setState({editLoad:!0}),this.setState({editDialog:!1}),console.log(e.response)})},this.handleDelete=e=>{var t=this.state.currentClasses;e>-1&&t.splice(e,1),this.setState({currentClasses:t})},this.goToCreateSchedule=()=>{this.setState({goToCreate:!0})},this.goToSearchCourse=()=>{this.setState({goToSearch:!0})},this.renderRedirect=()=>this.state.goToSearch||this.state.goToCreate?l.a.createElement(o.c,{to:"/login/"}):void 0,this.tutorialDone=()=>{localStorage.setItem("steps",!1)},this.handleClose=()=>{this.setState({editLoad:!0}),this.setState({editDialog:!1})},this.handleColorPicker=e=>{var t=[];this.state.displayColorPicker.map((a,s)=>{e==s?t.push(!0):t.push(!1)}),this.setState({displayColorPicker:t})},this.handleClosePicker=e=>{var t=[];this.state.displayColorPicker.map((e,a)=>{t.push(!1)}),this.setState({displayColorPicker:t})},this.handleChangePicker=(e,t,a)=>{var s=this.state.chosenPalette;s[a]=e.hex,this.setState({chosenPalette:s})},this.pagination=()=>l.a.createElement("div",{id:"viewCoursesHome",className:"paginationContainer",style:null!=this.state.generatedContents?{}:{display:"none"}},l.a.createElement(L.a,{"aria-label":"Page navigation example",style:{justifyContent:"center"}},l.a.createElement(O.a,{disabled:this.state.currentPage<=0},l.a.createElement(M.a,{onClick:e=>this.handlePageChange(e,this.state.currentPage-1),previous:!0})),[...Array(this.state.pagesCount)].map((e,t)=>l.a.createElement(O.a,{active:t===this.state.currentPage,key:t,className:"paginationItemStyle"},l.a.createElement(M.a,{onClick:e=>this.handlePageChange(e,t),className:"paginationLinkStyle"},t+1))),l.a.createElement(O.a,{disabled:this.state.currentPage>=this.state.generatedContents.length-1},l.a.createElement(M.a,{onClick:e=>this.handlePageChange(e,this.state.currentPage+1),next:!0})))),this.state={openAlert:!1,snackBarVariables:[{snackBarSuccess:!1},{snackBarFailed:!1}],currentPage:0,currentContent:"",generatedContents:[],pagesCount:1,dataReceived:!e.logged_in,schedules:[],openModalCustomize:!1,openModalEdit:!1,paletteChoices:[],chosenPalette:["#9BCFB8","#7FB174","#689C97","#072A24","#D1DDDB"],classboxDetailsList:[{id:1,title:"showFaculty",checked:!0},{id:2,title:"showTime",checked:!0},{id:3,title:"showRoom",checked:!0}],classList:[],currentClasses:[],newCurrentClasses:[],newClassboxDetailsList:[],newChosenPalette:[],snackbarMsg:"",allowEdit:!0,scheduleChanged:!0,goToSearch:!1,goToCreate:!1,rejected:[],allNumbers:[],editLoad:!0,displayColorPicker:[!1,!1,!1,!1,!1]},void 0==localStorage.getItem("palette")&&localStorage.setItem("palette",JSON.stringify(["#9BCFB8","#7FB174","#689C97","#072A24","#D1DDDB"])),void 0==localStorage.getItem("steps")&&localStorage.setItem("steps",!0)}createData(e,t,a,s,l,n,r,i,o,c){return{classNmbr:e,course:t,section:a,faculty:s,day:l,startTime:n,endTime:r,room:i,capacity:o,enrolled:c}}componentDidMount(){this.processPaletteChoices("Pal5",["#522157","#8B4C70","#C2649A","#E4C7B7","#E4DFD9"]),this.processPaletteChoices("Pal8",["#0191B4","#35BBCA","#D3DD18","#F8D90F","#FE7A15"]),this.processPaletteChoices("Pal9",["#47CACC","#63BCC9","#CDB3D4","#E7B7C8","#FFBE88"]),this.processPaletteChoices("Pal10",["#C6878F","#B79D94","#969696","#67697C","#253D5B"]),this.state.dataReceived||this.retrieveSchedInfo(),this.randomPalette()}render(){this.state.pagesCount=this.state.generatedContents.length,this.state.currentContent=this.state.generatedContents[this.state.currentPage];var e=this.props.classes;return l.a.createElement("div",{style:this.props.logged_in?{}:yt},this.props.menu("savedSchedules"),this.state.dataReceived?l.a.createElement("div",{className:"homepage",style:this.props.logged_in?{}:{display:"none"}},l.a.createElement("div",{className:"hasContent",style:this.state.generatedContents.length>0?{}:{display:"none"}},l.a.createElement(ze.Steps,{enabled:"true"==localStorage.getItem("steps")&&this.state.generatedContents.length<=0&&this.props.logged_in,steps:[{intro:"Welcome to AnimoSched!"},{element:"#searchStep",intro:"Use the course search to find available classes!"},{element:"#preferencesStep",intro:"Set your preferences to help generate the schedules that suit you best!"},{element:"#genschedStep",intro:"Generate and save a schedule easily!"},{intro:"Explore the site! You can also compare schedules and generate schedules together with your friends!"}],initialStep:0,onExit:this.tutorialDone,onComplete:this.tutorialDone}),l.a.createElement(K.a,{container:!0},l.a.createElement(K.a,{item:!0,xs:12},l.a.createElement("br",null),l.a.createElement(te.a,{gutterBottom:!0,variant:"h3",align:"center"},"SECOND TRIMESTER, AY 2019 - 2020")),l.a.createElement(K.a,{item:!0,xs:2}),l.a.createElement(K.a,{item:!0,xs:6,className:"gridSavedContent"},l.a.createElement("div",{id:"savedContent",className:"savedContent"},this.state.scheduleChanged?l.a.createElement("span",null,this.state.currentContent):l.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh"}},l.a.createElement(at.a,{type:"spin",color:"#9BCFB8",height:"5%",width:"5%"}))),this.pagination()),l.a.createElement(K.a,{item:!0,xs:4,align:"center",justify:"center",alignItems:"center",alignContent:"center",direction:"column"},l.a.createElement("div",{class:"optionList"},l.a.createElement(K.a,{item:!0,xs:1,direction:"column",align:"center"},l.a.createElement(De.a,{variant:"contained",className:e.buttonStyle,endIcon:l.a.createElement(Ye.a,null),onClick:this.toggleModalEdit},"Edit"),l.a.createElement($e.a,{isOpen:this.state.openModalEdit,toggle:this.toggleModalEdit,returnFocusAfterClose:!1,backdrop:!0,"data-keyboard":"false"},l.a.createElement(Je.a,{toggle:this.toggleModalEdit},l.a.createElement("h4",null,"Edit Schedule")),l.a.createElement(Xe.a,null,l.a.createElement("div",{className:"searchBarEdit"},l.a.createElement("h5",null,"Classes currently in this schedule:"),l.a.createElement("div",{style:{display:"flex",justifyContent:"center",width:"-webkit-fill-available"}},l.a.createElement("span",{style:{borderRadius:"4px",minHeight:"3.8em",width:"-webkit-fill-available"},className:"edit-current-classes-container"},this.state.currentClasses.map((e,t)=>l.a.createElement(nt.a,{label:e.title,onDelete:()=>this.handleDelete(t),style:{marginBottom:"5px",marginRight:"5px"}})))),l.a.createElement("div",{style:{display:"flex",justifyContent:"center",width:"-webkit-fill-available",marginBottom:"15px"}},l.a.createElement(ct,{page:"edit",value:this.state.newCurrentClasses,onChange:this.handleEditChange})),l.a.createElement(Re.a,{open:this.state.editDialog,onClose:this.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},l.a.createElement(Oe.a,{id:"alert-dialog-title"},"Class Conflicts"),l.a.createElement(Fe.a,null,l.a.createElement(Le.a,{id:"alert-dialog-description"},"Adding these classes will not allow you to get these courses:",l.a.createElement(gt.a,null,l.a.createElement("li",null,l.a.createElement("ul",null,this.state.rejected.map(e=>l.a.createElement(Et.a,null,l.a.createElement(ft.a,{primary:e})))))))),l.a.createElement(Te.a,null,l.a.createElement(De.a,{onClick:this.handleClose,color:"primary"},"Cancel"),l.a.createElement(De.a,{onClick:this.handleEditSave,color:"primary",autoFocus:!0},"Continue"))))),l.a.createElement(Qe.a,null,l.a.createElement(De.a,{style:{color:"gray"},onClick:this.toggleModalEdit},"Cancel"),l.a.createElement(De.a,{color:"primary",onClick:this.handleEditCheck},"Save Changes")," ")),l.a.createElement($e.a,{isOpen:!this.state.editLoad,returnFocusAfterClose:!1,backdrop:!0,"data-keyboard":"false",centered:!0},l.a.createElement(Je.a,null,l.a.createElement("center",null,l.a.createElement("br",null),l.a.createElement("p",null,"Please wait...In the process of loading your schedules"),l.a.createElement(at.a,{type:"spin",color:"#9BCFB8",height:"10%",width:"10%"}))))),l.a.createElement(K.a,{item:!0,xs:1,direction:"column",align:"center"},l.a.createElement(De.a,{variant:"contained",className:e.buttonStyle,onClick:this.handleOpenModalCustomize,endIcon:l.a.createElement(Ve.a,null)},"Customize"),l.a.createElement($e.a,{isOpen:this.state.openModalCustomize,toggle:this.toggleModal,returnFocusAfterClose:!1,backdrop:!0,"data-keyboard":"false"},l.a.createElement(Je.a,{toggle:this.toggleModal},l.a.createElement("h4",null,"Customize Schedule")),l.a.createElement(Xe.a,null,l.a.createElement("div",null,l.a.createElement("h5",null,"Color Palette"),l.a.createElement(_.a,{id:"outlined-select-break",select:!0,label:"Color Palette",onChange:this.handlePaletteChange,helperText:"Choose a pre-made color palette.",variant:"outlined",style:{width:"100%",marginTop:"10px",marginBottom:"25px"},value:this.state.chosenPalette,maxRows:"3",autoWidth:!0},this.state.paletteChoices.map(e=>l.a.createElement(Ze.a,{key:e.title,value:e.paletteArray},e.paletteDiv))),l.a.createElement("center",null,l.a.createElement(K.a,{container:!0,spacing:6},this.state.chosenPalette.map((e,t)=>l.a.createElement(K.a,{item:!0,xs:2},l.a.createElement(nt.a,{onClick:()=>this.handleColorPicker(t),clickable:!0,style:{backgroundColor:e},label:e}),this.state.displayColorPicker[t]?l.a.createElement("div",{style:vt.popover},l.a.createElement("div",{style:vt.cover,onClick:()=>this.handleClosePicker(t)}),l.a.createElement(bt.SketchPicker,{color:e,onChange:(e,a)=>this.handleChangePicker(e,a,t)})):null)))),l.a.createElement("center",null,l.a.createElement(De.a,{variant:"contained",className:e.buttonStyle,onClick:this.randomPalette},"Generate Random Palette")))),l.a.createElement(Qe.a,null,l.a.createElement(De.a,{style:{color:"gray"},onClick:this.toggleModal},"Cancel"),l.a.createElement(De.a,{color:"primary",onClick:this.handleCustomizeSave},"Save Changes")," "))),l.a.createElement(K.a,{item:!0,xs:1,direction:"column",align:"center"},l.a.createElement(De.a,{variant:"contained",className:e.buttonStyle,onClick:this.exportSched,endIcon:l.a.createElement(He.a,null)},"Export")),l.a.createElement(K.a,{item:!0,xs:1,direction:"column",align:"center"},l.a.createElement(De.a,{variant:"contained",className:e.deleteButtonStyle,onClick:this.handleClickOpenAlert,endIcon:l.a.createElement(Ge.a,null)},"Delete"),null!=this.state.currentContent?l.a.createElement(Re.a,{open:this.state.openAlert,onClose:this.handleCloseAlert,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},l.a.createElement(Oe.a,{id:"alert-dialog-title"},"Confirm Deletion of Schedule"),l.a.createElement(Fe.a,null,l.a.createElement(Le.a,{id:"alert-dialog-description"},'Do you want to delete "',this.state.currentContent.props.titleName,'" from your saved schedules?')),l.a.createElement(Te.a,null,l.a.createElement(De.a,{onClick:this.handleCloseAlert,style:{color:"gray"}},"Cancel"),l.a.createElement(De.a,{onClick:this.deleteSchedule,color:"secondary",autoFocus:!0},"Delete"))):null,l.a.createElement(Me.a,{open:this.state.snackBarVariables[0].snackBarSuccess,autoHideDuration:4e3,onClose:(e,t)=>this.handleCloseSnackBar(e,t,0)},l.a.createElement(Ct,{onClose:(e,t)=>this.handleCloseSnackBar(e,t,0),severity:"success"},this.state.snackbarMsg)),l.a.createElement(Me.a,{open:this.state.snackBarVariables[1].snackBarFailed,autoHideDuration:4e3,onClose:(e,t)=>this.handleCloseSnackBar(e,t,1)},l.a.createElement(Ct,{onClose:(e,t)=>this.handleCloseSnackBar(e,t,1),severity:"error"},"Delete failed"))))),l.a.createElement(K.a,{item:!0,xs:12,justify:"center",alignItems:"center"}))),l.a.createElement("div",{className:"hasNoContent",style:this.state.generatedContents.length<=0?{}:{display:"none"}},l.a.createElement(te.a,{gutterBottom:!0,variant:"h4",align:"center",style:{marginTop:"30px"}},"You haven't made any schedules yet!"),l.a.createElement(te.a,{gutterBottom:!0,variant:"h5",align:"center",style:{marginTop:"30px",marginBottom:"30px"}},"Do you want to:"),l.a.createElement(d.Row,{horizontal:"center",flexShrink:5},l.a.createElement(d.Column,{style:{marginLeft:"30px"}},l.a.createElement("a",{href:"/search_courses",style:{textDecoration:"none"}},l.a.createElement(De.a,{id:"searchStep",variant:"contained",className:e.testbuttonStyle,startIcon:l.a.createElement(lt.a,{fontSize:"large"}),size:"large"},"Search Classes"))),l.a.createElement(d.Column,{style:{marginLeft:"30px"}},l.a.createElement("a",{href:"/preferences",style:{textDecoration:"none"}},l.a.createElement(De.a,{id:"preferencesStep",variant:"contained",className:e.testbuttonStyle,startIcon:l.a.createElement(mt.a,{fontSize:"large"}),size:"large"},"Set Preferences"))),l.a.createElement(d.Column,{style:{marginLeft:"30px"}},l.a.createElement("a",{href:"/generateSchedule",style:{textDecoration:"none"}},l.a.createElement(De.a,{id:"genschedStep",variant:"contained",className:e.testbuttonStyle,startIcon:l.a.createElement(pt.a,{fontSize:"large"}),size:"large"},"Create Schedule")))))):l.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh"}},l.a.createElement(at.a,{type:"spin",color:"#9BCFB8",height:"5%",width:"5%"})),l.a.createElement("div",{className:"landingpage",style:this.props.logged_in?{display:"none"}:{height:"100%"}},l.a.createElement("img",{src:Pe.a,className:"whiteBlob"}),l.a.createElement(K.a,{container:!0,spacing:3,style:{flexGrow:1}},l.a.createElement(K.a,{item:!0,xs:12}),l.a.createElement(K.a,{item:!0,xs:12}),l.a.createElement(K.a,{item:!0,xs:6,style:{height:"100%"}},l.a.createElement(te.a,{gutterBottom:!0,variant:"h3",align:"center"},"Create your schedule!")),l.a.createElement(K.a,{item:!0,xs:6}),l.a.createElement(K.a,{item:!0,xs:1}),l.a.createElement(K.a,{item:!0,xs:1},l.a.createElement("img",{src:Se.a,className:"iconStyle"})),l.a.createElement(K.a,{item:!0,xs:3},l.a.createElement(te.a,{variant:"body1",gutterBottom:!0},"Enter your courses and select an automatically-generated schedule")),l.a.createElement(K.a,{item:!0,xs:4}),l.a.createElement(K.a,{item:!0,xs:2,style:{zIndex:"100"}},l.a.createElement("center",null,l.a.createElement(De.a,{variant:"contained",className:e.buttonStyle,onClick:this.goToSearchCourse,style:{width:"210px"}},"Search Course Offerings"))),l.a.createElement(K.a,{item:!0,xs:1}),l.a.createElement(K.a,{item:!0,xs:1}),l.a.createElement(K.a,{item:!0,xs:1},l.a.createElement("img",{src:we.a,className:"iconStyle"})),l.a.createElement(K.a,{item:!0,xs:3},l.a.createElement(te.a,{variant:"body1",gutterBottom:!0},"Customize the look of your schedule and save it as an image")),l.a.createElement(K.a,{item:!0,xs:4}),l.a.createElement(K.a,{item:!0,xs:2,style:{zIndex:"100"}},l.a.createElement("center",null,l.a.createElement(De.a,{variant:"contained",className:e.buttonStyle,onClick:this.goToCreateSchedule,style:{width:"210px"}},"Create Schedule"))),l.a.createElement(K.a,{item:!0,xs:1}),l.a.createElement(K.a,{item:!0,xs:1}),l.a.createElement(K.a,{item:!0,xs:1},l.a.createElement("img",{src:Ne.a,className:"iconStyle"})),l.a.createElement(K.a,{item:!0,xs:3},l.a.createElement(te.a,{variant:"body1",gutterBottom:!0},"Share and compare schedules with your friends")),l.a.createElement(K.a,{item:!0,xs:4}),l.a.createElement(K.a,{item:!0,xs:2,style:{zIndex:"100"}}),l.a.createElement(K.a,{item:!0,xs:1})),this.renderRedirect()))}}var kt=Object(V.a)(vt)(St),wt=(a(131),a(96)),xt=a.n(wt),Nt=a(51),_t=a.n(Nt),Pt=(a(787),a(897)),Dt=a(898),It=a(899);function Bt(e){return l.a.createElement(dt.a,Object.assign({elevation:6,variant:"filled"},e))}var Rt={minHeight:"100vh",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",overflow:"hidden",backgroundImage:"linear-gradient(#086e53, #579d8b)"};class Tt extends s.Component{constructor(e){super(),this.handleValidation=()=>{var e=this.state.fields,t={},a=!0;if(e.email?this.setState({helperEmail:""}):(a=!1,t.email="Required Email",this.setState({helperEmail:"This field is required"})),"undefined"!==typeof e.email){var s=e.email.lastIndexOf("@"),l=e.email.lastIndexOf(".");s<l&&s>0&&-1==e.email.indexOf("@@")&&l>2&&e.email.length-l>2||(a=!1,t.email="Invalid Email",this.setState({helperEmail:"Enter a valid DLSU email"}))}return e.pass?this.setState({helperPassword:""}):(a=!1,t.pass="This field is required",this.setState({helperPassword:"This field is required"})),this.setState({errors:t}),a},this.state={redirect:!1},this.setRedirect=()=>{this.setState({redirect:!0}),this.setState({loading:!1}),this.setState({success:!0})},this.setRedirectRegister=()=>{this.setState({redirectRegister:!0}),this.setState({loading:!1}),this.setState({success:!0})},this.renderRedirect=()=>{if(this.state.redirect)return l.a.createElement(o.c,{to:"/"})},this.renderRedirectRegister=()=>{var e="/register?filled=true&googleId="+this.state.googleId+"&email="+this.state.email+"&fname="+this.state.fname+"&lname="+this.state.lname;if(this.state.redirectRegister)return l.a.createElement(o.c,{to:e})},this.handleSubmit=e=>{if(e.preventDefault(),this.state.loading?(this.setState({success:!0}),this.setState({loading:!1})):(this.setState({loading:!0}),this.setState({success:!1})),this.handleValidation()){var t={email:this.state.fields.email,password:this.state.fields.pass};this.props.handle_login(t,e=>{if(null==e)this.setRedirect();else{if(400==e.status)for(var t in e.data)this.setState({snackBarText:e.data[t][0]});else this.setState({snackBarText:"Account does not exist."});this.setState({snackBar:!0}),this.setState({loading:!1})}})}else this.setState({snackBar:!0}),this.setState({loading:!1})},this.handleCloseSnackBar=(e,t)=>{"clickaway"!==t&&this.setState({snackBar:!1})},this.state={fields:{},errors:{},helperEmail:"",helperPassword:"",snackBar:!1,loading:!1,success:!1,snackBarText:"",fname:"",lname:""}}handleChange(e,t){var a=this.state.fields;a[e]=t.target.value,this.setState({fields:a})}render(){var e=this.props.classes;return l.a.createElement("div",{style:Rt},l.a.createElement("div",{className:"backBtn"},l.a.createElement("a",{className:"backBtn",href:"/"},l.a.createElement(_t.a,{fontSize:"large",className:e.backBtn,viewBox:"0 0 1 24"})," ",l.a.createElement("span",{className:"backBtn"},"Back"))),l.a.createElement("div",{style:{textAlign:"center"}},l.a.createElement(Pt.a,null,l.a.createElement(Dt.a,null),l.a.createElement(Dt.a,{lg:"8"},l.a.createElement("h1",{style:{color:"white"}},l.a.createElement("img",{alt:"",src:"/logo.svg",width:"40",height:"40",className:"d-inline-block align-top"}),"AnimoSched"),l.a.createElement(It.a,{style:{padding:32,backgroundColor:"white",marginLeft:"15%",marginRight:"15%",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)"}},l.a.createElement("h3",null,"Log in to your account!"),l.a.createElement("div",{id:"signup-form"},l.a.createElement("form",{onSubmit:this.handleSubmit.bind(this)},l.a.createElement("br",null),l.a.createElement(_.a,{style:{width:350},error:this.state.errors.email,helperText:this.state.helperEmail,id:"outlined-basic",label:"DLSU Email",variant:"outlined",name:"email",placeholder:"john_delacruz@dlsu.edu.ph",value:this.state.fields.email,onChange:this.handleChange.bind(this,"email")}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(_.a,{style:{width:350},error:this.state.errors.pass,helperText:this.state.helperPassword,type:"password",id:"outlined-basic",label:"Password",variant:"outlined",name:"pass",placeholder:"\u25cf\u25cf\u25cf\u25cf\u25cf\u25cf\u25cf\u25cf",value:this.state.fields.pass,onChange:this.handleChange.bind(this,"pass")}),l.a.createElement("br",null),l.a.createElement("br",null),this.renderRedirect(),this.renderRedirectRegister(),l.a.createElement("input",{type:"submit",style:{height:0,width:0,padding:0,border:0}}),l.a.createElement(Pt.a,{horizontal:"center",style:{justifyContent:"center"}},l.a.createElement("div",{className:e.root},l.a.createElement("div",{className:e.wrapper},l.a.createElement(De.a,{variant:"contained",color:"primary",className:e.buttonLogin,onClick:this.handleSubmit,style:{}},"Login"))))),l.a.createElement(Me.a,{open:this.state.snackBar,autoHideDuration:4e3,onClose:this.handleCloseSnackBar},l.a.createElement(Bt,{onClose:this.handleCloseSnackBar,severity:"error"},this.state.snackBarText)),l.a.createElement("br",null)))),l.a.createElement(Dt.a,null))))}}var Ft=Object(V.a)(e=>({root:{display:"flex",alignItems:"center"},wrapper:{margin:e.spacing(1),position:"relative",alignItems:"center",justifyContent:"center"},buttonLogin:{fontSize:"100%",width:"110%",alignItems:"center",justifyContent:"center",textTransform:"none",borderRadius:"30px",padding:"10px",paddingLeft:"30px",paddingRight:"30px",backgroundColor:"green",border:"none",color:"white",boxShadow:"6px 5px #e8f4ea",borderStyle:"solid",borderColor:"green","&:hover":{color:"green",backgroundColor:"#FFFFFF"}},buttonProgress:{color:ee.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},backBtn:{color:"white",marginLeft:"5px","&:hover":{color:"#d3d3d3"}}}))(Tt),Lt=a(298),Ot=a.n(Lt);function Mt(e){return l.a.createElement(dt.a,Object.assign({elevation:6,variant:"filled"},e))}var At={minHeight:"100vh",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",overflow:"hidden",backgroundImage:"linear-gradient(#086e53, #579d8b)"};class jt extends s.Component{constructor(e){super(e),this.handleChange=(e,t)=>{var a=this.state.fields;a[e]=t.target.value,"college"==e&&(a.degree=void 0,console.log(this.degreeRef),this.degreeRef.current.setState({value:void 0})),this.setState({fields:a})},this.handleAutoCompleteChange=(e,t)=>{if(void 0!=t){var a=this.state.fields;a.degree=t.id,console.log(t.id),this.setState({fields:a})}else{var s=this.state.fields;s.degree=void 0,this.setState({fields:s})}},this.handleValidation=()=>{var e=this.state.fields,t={},a=!0;if(e.firstName?(this.setState({errorFirstName:!1}),this.setState({helperFirstName:""})):(a=!1,t.firstName="Required First Name",this.setState({errorFirstName:!0}),this.setState({helperFirstName:"This field is required"})),e.lastName?(this.setState({errorLastName:!1}),this.setState({helperLastName:""})):(a=!1,t.lastName="Required Last Name",this.setState({errorLastName:!0}),this.setState({helperLastName:"This field is required"})),e.email?(this.setState({errorEmail:!1}),this.setState({helperEmail:"This field is required"})):(a=!1,t.email="Required Email",this.setState({errorEmail:!0}),this.setState({helperEmail:"This field is required"})),"undefined"!==typeof e.email){var s=e.email.lastIndexOf("@"),l=e.email.lastIndexOf(".");s<l&&s>0&&-1==e.email.indexOf("@@")&&l>2&&e.email.length-l>2?(this.setState({errorEmail:!1}),this.setState({helperEmail:"Enter a valid DLSU email"})):(a=!1,t.email="Invalid Email",this.setState({errorEmail:!0}),this.setState({helperEmail:"Enter a valid DLSU email"}))}return e.idNo?(this.setState({errorID:!1}),this.setState({helperID:""})):(a=!1,t.idNo="Required ID Number",this.setState({errorID:!0}),this.setState({helperID:"This field is required"})),e.pass?(this.setState({errorPassword:!1}),this.setState({helperPassword:"Must be a minimum of 8 characters"})):(a=!1,t.pass="Required Password",this.setState({errorPassword:!0}),this.setState({helperPassword:"This field is required"})),e.passCon?(this.setState({errorConPassword:!1}),this.setState({helperConPassword:"Re-enter your password here"})):(a=!1,t.passCon="Required Confirm Password",this.setState({errorConPassword:!0}),this.setState({helperConPassword:"This field is required"})),e.college?(this.setState({errorCollege:!1}),this.setState({helperCollege:""})):(a=!1,t.college="Required College",this.setState({errorCollege:!0}),this.setState({helperCollege:"This field is required"})),e.degree?(this.setState({errorDegree:!1}),this.setState({helperDegree:""})):(a=!1,t.degree="Required Degree",this.setState({errorDegree:!0}),this.setState({helperDegree:"Required Degree"})),this.setState({errors:t}),a},this.state={redirect:!1},this.setRedirect=()=>{this.setState({redirect:!0})},this.renderRedirect=()=>{if(this.state.redirect)return l.a.createElement(o.c,{to:"/"})},this.handleSubmit=e=>{if(e.preventDefault(),this.state.loading?(this.setState({success:!0}),this.setState({loading:!1})):(this.setState({loading:!0}),this.setState({success:!1})),this.handleValidation()){var t={email:this.state.fields.email,id_num:this.state.fields.idNo,first_name:this.state.fields.firstName,last_name:this.state.fields.lastName,password1:this.state.fields.pass,password2:this.state.fields.passCon,college:Number(this.state.fields.college),degree:Number(this.state.fields.degree)};console.log(t),this.props.handle_register(t,e=>{if(null==e)this.setState({redirect:!0}),this.setState({success:!0}),this.setState({loading:!1});else{if(this.setState({success:!1}),this.setState({loading:!1}),400==e.status)for(var t in e.data)this.setState({snackBarText:t+": "+e.data[t][0]});else this.setState({snackBarText:"Account already exists."});this.setState({snackBar:!0})}})}else this.setState({success:!1}),this.setState({loading:!1}),this.setState({snackBar:!0})},this.handleCloseSnackBar=(e,t)=>{"clickaway"!==t&&(this.setState({snackBar:!1}),this.setState({snackBarSuccess:!1}))},this.degreeRef=l.a.createRef(),this.state={fields:{},errors:{},colleges:[],degrees:[],snackBar:!1,snackBarSucess:!1,snackBarText:"",loading:!1,success:!1,errorFirstName:!1,helperFirstName:"",errorLastName:!1,helperLastName:"",errorEmail:!1,helperEmail:"",errorID:!1,helperID:"",errorCollege:!1,helperCollege:"",errorDegree:!1,helperDegree:"",errorPassword:!1,helperPassword:"Must be a minimum of 8 characters",errorConPassword:!1,helperConPassword:"Re-type your password here"}}componentWillMount(){var e=this.state.fields,t=new URLSearchParams(this.props.props.location.search).get("filled"),a=new URLSearchParams(this.props.props.location.search).get("googleId"),s=new URLSearchParams(this.props.props.location.search).get("email"),l=new URLSearchParams(this.props.props.location.search).get("fname"),n=new URLSearchParams(this.props.props.location.search).get("lname");e.pass=a+l+n,e.passCon=a+l+n,e.email=s,e.firstName=l,e.lastName=n,void 0==t&&null==t||this.setState({filled:t}),this.setState({fields:e}),v.a.get("https://animosched-backend-backup.herokuapp.com/api/colleges/").then(e=>{var t=[];e.data.map(e=>{t.push(e)}),this.setState({colleges:t})}),v.a.get("https://animosched-backend-backup.herokuapp.com/api/degrees/").then(e=>{var t=[];e.data.map(e=>{t.push(e)}),this.setState({degrees:t}),console.log(t)})}render(){var e=this.props.classes;return l.a.createElement("div",{style:At},l.a.createElement("div",{className:"backBtn"},l.a.createElement("a",{className:"backBtn",href:"/"},l.a.createElement(_t.a,{fontSize:"large",className:e.backBtn,viewBox:"0 0 1 24"})," ",l.a.createElement("span",{className:"backBtn"},"Back"))),l.a.createElement("div",{style:{textAlign:"center"}},l.a.createElement(Pt.a,null,l.a.createElement(Dt.a,null),l.a.createElement(Dt.a,{lg:"8"},l.a.createElement("h1",{style:{color:"white"}},l.a.createElement("img",{alt:"",src:"/logo.svg",width:"40",height:"40",className:"d-inline-block align-top"}),"AnimoSched"),l.a.createElement(It.a,{className:"jumboClass",style:{padding:32,backgroundColor:"white",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)"}},l.a.createElement("h3",null,"Account Registration"),l.a.createElement("div",{id:"signup-form"},l.a.createElement("form",{onSubmit:this.handleSubmit.bind(this)},l.a.createElement("br",null),l.a.createElement(_.a,{error:this.state.errorFirstName,helperText:this.state.helperFirstName,id:"outlined-basic",label:"First Name",variant:"outlined",name:"firstName",placeholder:"John",value:this.state.fields.firstName,onChange:this.handleChange.bind(this,"firstName"),style:{marginRight:25,width:250}}),l.a.createElement(_.a,{error:this.state.errorLastName,helperText:this.state.helperLastName,id:"outlined-basic",label:"Last Name",variant:"outlined",name:"lastName",placeholder:"Dela Cruz",value:this.state.fields.lastName,onChange:this.handleChange.bind(this,"lastName"),style:{marginRight:25,width:250}}),l.a.createElement(_.a,{error:this.state.errorID,helperText:this.state.helperID,id:"outlined-basic",label:"ID Number",variant:"outlined",name:"idNo",placeholder:"11612345",value:this.state.fields.idNo,onChange:this.handleChange.bind(this,"idNo"),style:{width:185}}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{className:"collegeField"},l.a.createElement(_.a,{error:this.state.errorEmail,disabled:this.state.filled,helperText:this.state.helperEmail,id:"outlined-basic",label:"DLSU Email",variant:"outlined",name:"email",placeholder:"john_delacruz@dlsu.edu.ph",value:this.state.fields.email,onChange:this.handleChange.bind(this,"email"),style:{marginRight:50,width:345}}),l.a.createElement(_.a,{error:this.state.errorCollege,helperText:this.state.helperCollege,id:"outlined-select-college",select:!0,label:"College",onChange:this.handleChange.bind(this,"college"),value:this.state.fields.college,style:{width:345},variant:"outlined"},this.state.colleges.map(e=>l.a.createElement(Ze.a,{key:e.id,value:e.id},e.college_name)))),l.a.createElement("br",null),l.a.createElement(Pt.a,{horizontal:"center",style:{justifyContent:"center"}},l.a.createElement("div",null,l.a.createElement(ct,{error:this.state.errorDegree,helperText:this.state.helperDegree,ref:this.degreeRef,page:"register",name:"degree",value:this.state.fields.degree,onChange:this.handleAutoCompleteChange,college:this.state.fields.college,degrees:this.state.degrees,className:e.degreeStyle}),l.a.createElement("br",null))),l.a.createElement(_.a,{disabled:this.state.filled,error:this.state.errorPassword,helperText:this.state.helperPassword,type:"password",id:"outlined-basic",label:"Password",variant:"outlined",name:"pass",placeholder:"\u25cf\u25cf\u25cf\u25cf\u25cf\u25cf\u25cf\u25cf",value:this.state.fields.pass,onChange:this.handleChange.bind(this,"pass"),style:{marginRight:50,width:345}}),l.a.createElement(_.a,{disabled:this.state.filled,error:this.state.errorConPassword,helperText:this.state.helperConPassword,type:"password",id:"outlined-basic",label:"Confirm Password",variant:"outlined",name:"passCon",placeholder:"\u25cf\u25cf\u25cf\u25cf\u25cf\u25cf\u25cf\u25cf",value:this.state.fields.passCon,onChange:this.handleChange.bind(this,"passCon"),style:{width:345}}),l.a.createElement("br",null),this.renderRedirect(),l.a.createElement("input",{type:"submit",style:{height:0,width:0,padding:0,border:0}}),l.a.createElement(Pt.a,{horizontal:"center",style:{justifyContent:"center"}},l.a.createElement("div",{className:e.root},l.a.createElement("div",{className:e.wrapper},l.a.createElement(De.a,{variant:"contained",color:"primary",className:e.buttonRegister,disabled:this.state.loading,onClick:this.handleSubmit},"Register"),this.state.loading&&l.a.createElement(it.a,{size:24,className:e.buttonProgress}))))),l.a.createElement(Me.a,{open:this.state.snackBar,autoHideDuration:4e3,onClose:this.handleCloseSnackBar},l.a.createElement(Mt,{onClose:this.handleCloseSnackBar,severity:"error"},this.state.snackBarText)),l.a.createElement(Me.a,{open:this.state.snackBarSuccess,autoHideDuration:4e3,onClose:this.handleCloseSnackBar},l.a.createElement(Mt,{onClose:this.handleCloseSnackBar,severity:"success"},"Email verification sent")),l.a.createElement("br",null),l.a.createElement("p",null,"Already have an account? ",l.a.createElement("a",{href:"/login"},"Log in!"))))),l.a.createElement(Dt.a,null))))}}var zt=Object(V.a)(e=>({root:{display:"flex",alignItems:"center"},wrapper:{margin:e.spacing(1),position:"relative"},buttonSuccess:{backgroundColor:ee.a[500],"&:hover":{backgroundColor:ee.a[700]}},buttonProgress:{color:ee.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},backBtn:{color:"white",marginLeft:"5px","&:hover":{color:"#d3d3d3"}},buttonRegister:{fontSize:"100%",width:"110%",alignItems:"center",justifyContent:"center",textTransform:"none",borderRadius:"30px",padding:"10px",paddingLeft:"30px",paddingRight:"30px",backgroundColor:"green",border:"none",color:"white",boxShadow:"6px 5px #e8f4ea",borderStyle:"solid",borderColor:"green","&:hover":{color:"green",backgroundColor:"#FFFFFF"}},degreeStyle:{alignItems:"center",justifyContent:"center",justify:"center",placeItems:"center"}}))(jt);function qt(e){return l.a.createElement(dt.a,Object.assign({elevation:6,variant:"filled"},e))}var Ht={minHeight:"100vh",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",overflow:"hidden",backgroundImage:"linear-gradient(#086e53, #579d8b)"};class Ut extends s.Component{constructor(e){super(),this.handleChange=(e,t)=>{var a=this.state.fields;a[e]=t.target.value,this.setState({fields:a})},this.handleValidation=()=>{var e=this.state.fields,t={},a=!0;if(e.email?this.setState({helperEmail:""}):(a=!1,t.email="Enter a valid email.",this.setState({helperEmail:"This field is required"})),"undefined"!==typeof e.email){var s=e.email.lastIndexOf("@"),l=e.email.lastIndexOf(".");s<l&&s>0&&-1==e.email.indexOf("@@")&&l>2&&e.email.length-l>2||(a=!1,t.email="Enter a valid email.",this.setState({helperEmail:"Enter a valid DLSU email"}),this.setState({loading:!1}),this.setState({success:!0}))}return this.setState({errors:t}),a},this.state={redirect:!1},this.setRedirect=()=>{console.log("Setting redirect"),this.setState({redirect:!0})},this.renderRedirect=()=>{if(this.state.redirect)return console.log("Rendering redirect"),l.a.createElement(o.c,{to:"/password_reset_done"})},this.handleSubmit=e=>{if(this.state.loading?(this.setState({success:!0}),this.setState({loading:!1})):(this.setState({loading:!0}),this.setState({success:!1})),e.preventDefault(),this.handleValidation()){var t={email:this.state.fields.email};this.props.handle_resetPassword(t,e=>{e&&(this.setState({snackBar:!0}),this.setState({loading:!1}),this.setRedirect())})}else this.setState({snackBar:!0}),this.setState({loading:!1})},this.handleCloseSnackBar=(e,t)=>{"clickaway"!==t&&this.setState({snackBar:!1})},this.state={fields:{},errors:{},helperEmail:"",snackBar:!1,loading:!1,success:!1,snackBarText:"Enter a valid DLSU email"}}render(){var e=this.props.classes;return l.a.createElement("div",{style:Ht},l.a.createElement("div",{class:"sidenavnew"},l.a.createElement("a",{className:"backBtn",href:"/"},l.a.createElement("div",{className:"backBtn"}),l.a.createElement(_t.a,{fontSize:"large",style:{color:"white",marginLeft:"5px"},viewBox:"0 0 1 24"})," ",l.a.createElement("span",{className:"backBtn"},"Back"))),l.a.createElement("div",{style:{textAlign:"center"}},l.a.createElement(Pt.a,null,l.a.createElement(Dt.a,null),l.a.createElement(Dt.a,{lg:"8"},l.a.createElement("h1",{style:{color:"white"}},l.a.createElement("img",{alt:"",src:"/logo.svg",width:"40",height:"40",className:"d-inline-block align-top"}),"AnimoSched"),l.a.createElement(It.a,{style:{padding:32,backgroundColor:"white",marginLeft:"15%",marginRight:"15%",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)"}},l.a.createElement("h5",null,"Log in to your account! Enter your email address below.",l.a.createElement("br",null),"We'll send you a link to reset your password."),l.a.createElement("div",{id:"signup-form"},l.a.createElement("form",{onSubmit:this.handleSubmit.bind(this)},l.a.createElement("br",null),l.a.createElement(_.a,{error:this.state.errors.email,id:"outlined-basic",helperText:"Please use your DLSU email address",label:"Email Address",variant:"outlined",name:"email",placeholder:"john_delacruz@dlsu.edu.ph",value:this.state.fields.email,onChange:this.handleChange.bind(this,"email")}),l.a.createElement("br",null),l.a.createElement("br",null),this.renderRedirect(),l.a.createElement("input",{type:"submit",style:{height:0,width:0,padding:0,border:0}}),l.a.createElement(Pt.a,{horizontal:"center",style:{justifyContent:"center"}},l.a.createElement("div",{className:e.root},l.a.createElement("div",{className:e.wrapper},l.a.createElement(De.a,{variant:"contained",color:"primary",className:e.buttonSend,disabled:this.state.loading,onClick:this.handleSubmit},"Send Link"),this.state.loading&&l.a.createElement(it.a,{size:24,className:e.buttonProgress}))))),l.a.createElement(Me.a,{open:this.state.snackBar,autoHideDuration:4e3,onClose:this.handleCloseSnackBar},l.a.createElement(qt,{onClose:this.handleCloseSnackBar,severity:"error"},this.state.snackBarText)),l.a.createElement("br",null)))),l.a.createElement(Dt.a,null))))}}var Vt=Object(V.a)(e=>({root:{display:"flex",alignItems:"center"},wrapper:{margin:e.spacing(1),position:"relative",alignItems:"center",justifyContent:"center"},buttonSend:{fontSize:"100%",width:"110%",alignItems:"center",justifyContent:"center",textTransform:"none",borderRadius:"30px",padding:"10px",paddingLeft:"30px",paddingRight:"30px",backgroundColor:"green",border:"none",color:"white",boxShadow:"6px 5px #e8f4ea",borderStyle:"solid",borderColor:"green","&:hover":{color:"green",backgroundColor:"#FFFFFF"}},buttonProgress:{color:ee.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},backBtn:{color:"white",marginLeft:"5px","&:hover":{color:"#d3d3d3"}}}))(Ut);class Wt extends s.Component{constructor(e){super()}render(){return l.a.createElement("div",null,l.a.createElement("div",{class:"sidenav"},l.a.createElement("a",{className:"backBtn",href:"/"},l.a.createElement("div",{className:"backBtn"}),l.a.createElement(_t.a,{fontSize:"large",style:{color:"white",marginLeft:"5px"},viewBox:"0 0 1 24"})," ",l.a.createElement("span",{className:"backBtn"},"Back")),l.a.createElement("img",{class:"img-responsive",id:"lower",src:xt.a})),l.a.createElement("div",{class:"sidenav-main"},l.a.createElement("br",null),l.a.createElement("div",{id:"reset-message"},l.a.createElement("h5",null,"We've emailed you instructions for setting your password.",l.a.createElement("br",null),"If they haven't arrived in a few minutes, check your spam folder."))))}}var Gt=Wt;class Kt extends s.Component{constructor(e){super(),this.handleChange=(e,t)=>{var a=this.state.fields;a[e]=t.target.value,this.setState({fields:a})},this.handleValidation=()=>{console.log(this.props);var e=this.state.fields,t={},a=!0;return e.pass||(a=!1,t.pass="Password required."),e.passCon||(a=!1,t.passCon="Password confirmation required."),this.setState({errors:t}),a},this.state={redirect:!1},this.setRedirect=()=>{console.log("Setting redirect"),this.setState({redirect:!0})},this.renderRedirect=()=>{if(this.state.redirect)return console.log("Rendering redirect"),l.a.createElement(o.c,{to:"/password_reset_complete"})},this.handleSubmit=e=>{if(e.preventDefault(),this.handleValidation()){var t={new_password1:this.state.fields.pass,new_password2:this.state.fields.passCon,uid:this.props.match.params.uidb64,token:this.props.match.params.token};this.props.handle_resetPasswordConfirm(t,e=>{e&&this.setRedirect()})}else alert("Form has invalid input.")},this.state={fields:{},errors:{}}}render(){return l.a.createElement("div",null,l.a.createElement("div",{class:"sidenav"},l.a.createElement("a",{className:"backBtn",href:"/"},l.a.createElement("div",{className:"backBtn"}),l.a.createElement(_t.a,{fontSize:"large",style:{color:"white",marginLeft:"5px"},viewBox:"0 0 1 24"})," ",l.a.createElement("span",{className:"backBtn"},"Back")),l.a.createElement("img",{class:"img-responsive",id:"lower",src:xt.a})),l.a.createElement("div",{class:"sidenav-main"},l.a.createElement("br",null),l.a.createElement("div",{id:"reset-message"},l.a.createElement("h5",null,"Enter your new password below.")),l.a.createElement("div",{id:"reset-form"},l.a.createElement("form",{onSubmit:this.handleSubmit.bind(this)},"Password",l.a.createElement("br",null),l.a.createElement("input",{type:"password",name:"pass",placeholder:"\u25cf\u25cf\u25cf\u25cf\u25cf\u25cf\u25cf\u25cf",onChange:this.handleChange.bind(this,"pass"),value:this.state.fields.pass}),l.a.createElement("span",{className:"error"},this.state.errors.pass),l.a.createElement("br",null),l.a.createElement("br",null),"Confirm password",l.a.createElement("br",null),l.a.createElement("input",{type:"password",name:"passCon",placeholder:"\u25cf\u25cf\u25cf\u25cf\u25cf\u25cf\u25cf\u25cf",onChange:this.handleChange.bind(this,"passCon"),value:this.state.fields.passCon}),l.a.createElement("span",{className:"error"},this.state.errors.passCon),l.a.createElement("br",null),l.a.createElement("br",null),this.renderRedirect(),l.a.createElement("input",{type:"submit",class:"btn btn-success",value:"Send link"})))))}}var Yt=Object(o.o)(Kt);class $t extends s.Component{constructor(e){super()}render(){return l.a.createElement("div",null,l.a.createElement("div",{class:"sidenav"},l.a.createElement("a",{className:"backBtn",href:"/"},l.a.createElement("div",{className:"backBtn"}),l.a.createElement(_t.a,{fontSize:"large",style:{color:"white",marginLeft:"5px"},viewBox:"0 0 1 24"})," ",l.a.createElement("span",{className:"backBtn"},"Back")),l.a.createElement("img",{class:"img-responsive",id:"lower",src:xt.a})),l.a.createElement("div",{class:"sidenav-main"},l.a.createElement("br",null),l.a.createElement("div",{id:"reset-message"},l.a.createElement("h5",null,"Password change successful.",l.a.createElement("br",null),l.a.createElement("a",{href:"/login"},"Log in?")))))}}var Jt=$t,Xt=(a(788),a(823)),Qt=a(885),Zt=(a(789),Object(V.a)({root:{"&$checked":{color:ee.a[600]}},checked:{}})(e=>l.a.createElement(et.a,Object.assign({color:"default"},e))));class ea extends s.Component{constructor(e){super(e),this._handleFocus=(e,t)=>{var a=this.state.fieldsBool;a[t]=!0,this.setState({fieldsBool:a}),console.log("Focused with text: "+e)},this._handleFocusOut=(e,t)=>{this.setState({boolEdit:!1}),this.state.fieldsBool[t]=!1,"firstNameBool"==t?v.a.patch("https://animosched-backend-backup.herokuapp.com/api/users/"+localStorage.getItem("user_id")+"/",{first_name:e}).then(t=>{localStorage.setItem("first_name",e)}).catch(e=>{console.log(e.response)}):"lastNameBool"==t?v.a.patch("https://animosched-backend-backup.herokuapp.com/api/users/"+localStorage.getItem("user_id")+"/",{last_name:e}).then(t=>{localStorage.setItem("last_name",e)}).catch(e=>{console.log(e.response)}):"idNoBool"==t?v.a.patch("https://animosched-backend-backup.herokuapp.com/api/users/"+localStorage.getItem("user_id")+"/",{id_num:e}).catch(e=>{console.log(e.response)}):"collegeBool"==t?v.a.patch("https://animosched-backend-backup.herokuapp.com/api/users/"+localStorage.getItem("user_id")+"/",{college:e}).catch(e=>{console.log(e.response)}):"degreeBool"==t?v.a.patch("https://animosched-backend-backup.herokuapp.com/api/users/"+localStorage.getItem("user_id")+"/",{degree:e}).catch(e=>{console.log(e.response)}):"emailBool"==t&&v.a.patch("https://animosched-backend-backup.herokuapp.com/api/users/"+localStorage.getItem("user_id")+"/",{email:e}).catch(e=>{console.log(e.response)})},this.editButtonPress=(e,t)=>{var a=this.state.fieldsBool;!1===a[e]?(a[e]=!0,this.setState({fieldsBool:a}),t.current.setState({isEditing:!0})):!0===a[e]&&(a[e]=!1,this.setState({fieldsBool:a}))},this.state={email:"",first_name:"",last_name:"",college:"",degree:"",id_num:"",emailBool:!1,fieldsBool:{emailBool:!1,firstNameBool:!1,lastNameBool:!1,collegeBool:!1,degreeBool:!1,idNoBool:!1},dataReceived:!1},this.editFirstName=l.a.createRef(),this.editLastName=l.a.createRef(),this.editEmail=l.a.createRef(),this.editIdNo=l.a.createRef(),this.editCollege=l.a.createRef(),this.editDegree=l.a.createRef()}componentWillMount(){v.a.get("https://animosched-backend-backup.herokuapp.com/api/users/"+localStorage.getItem("user_id")+"/").then(e=>{console.log(e.data),this.setState({email:e.data.email,first_name:e.data.first_name,last_name:e.data.last_name,id_num:e.data.id_num});var t=e.data.college,a=e.data.degree;v.a.get("https://animosched-backend-backup.herokuapp.com/api/colleges/"+t+"/").then(e=>{this.setState({college:e.data.college_name}),v.a.get("https://animosched-backend-backup.herokuapp.com/api/degrees/"+a+"/").then(e=>{this.setState({degree:e.data.degree_name}),this.setState({dataReceived:!0})})})}).catch(e=>{console.log(e)})}handleFocus(e){console.log("Focused with text: "+e)}handleFocusOut(e){console.log("Left editor with text: "+e)}render(){var e=this.props.classes;return l.a.createElement("div",null,this.props.menu("profile"),this.state.dataReceived?l.a.createElement("div",null,l.a.createElement("div",{className:"profile-category"},l.a.createElement("h2",null,"Account Profile"),l.a.createElement("div",{className:"profile-category-content"},l.a.createElement("b",null,"First Name"),l.a.createElement("br",null),l.a.createElement(d.Row,{horizontal:"start"},l.a.createElement(pe.a,{ref:this.editFirstName,text:this.state.first_name,inputWidth:"150px",inputHeight:"25px",inputMaxLength:"30",onFocus:e=>this._handleFocus(e,"firstNameBool"),onFocusOut:e=>this._handleFocusOut(e,"firstNameBool")}),this.state.fieldsBool.firstNameBool?l.a.createElement(be.a,{fontSize:"medium",className:e.checkIcon,onClick:()=>this.editButtonPress("firstNameBool",this.editFirstName)}):l.a.createElement(Ee.a,{fontSize:"small",className:e.pencilIcon,onClick:()=>this.editButtonPress("firstNameBool",this.editFirstName)})),l.a.createElement("br",null),l.a.createElement("b",null,"Last Name"),l.a.createElement("br",null),l.a.createElement(d.Row,{horizontal:"start"},l.a.createElement(pe.a,{ref:this.editLastName,text:this.state.last_name,inputWidth:"150px",inputHeight:"25px",inputMaxLength:"30",onFocus:e=>this._handleFocus(e,"lastNameBool"),onFocusOut:e=>this._handleFocusOut(e,"lastNameBool")}),this.state.fieldsBool.lastNameBool?l.a.createElement(be.a,{fontSize:"medium",className:e.checkIcon,onClick:()=>this.editButtonPress("lastNameBool",this.editLastName)}):l.a.createElement(Ee.a,{fontSize:"small",className:e.pencilIcon,onClick:()=>this.editButtonPress("lastNameBool",this.editLastName)})),l.a.createElement("br",null),l.a.createElement("b",null,"ID Number"),l.a.createElement("br",null),l.a.createElement(d.Row,{horizontal:"start"},l.a.createElement("p",null,this.state.id_num)),l.a.createElement("br",null),l.a.createElement("b",null,"College"),l.a.createElement("br",null),l.a.createElement(d.Row,{horizontal:"start"},l.a.createElement("p",null,this.state.college)),l.a.createElement("br",null),l.a.createElement("b",null,"Degree"),l.a.createElement("br",null),l.a.createElement(d.Row,{horizontal:"start"},l.a.createElement("p",null,this.state.degree)),l.a.createElement("br",null),l.a.createElement("b",null,"Email Address"),l.a.createElement("br",null),l.a.createElement(d.Row,{horizontal:"start",id:"notifs-container"},l.a.createElement("p",null,this.state.email)),l.a.createElement("br",null))),l.a.createElement("div",{className:"profile-category"},l.a.createElement("h2",null,"Password Settings"),l.a.createElement("div",{className:"profile-category-content"},l.a.createElement("b",null,"Current Password"),l.a.createElement("br",null),l.a.createElement(d.Row,{horizontal:"start"},l.a.createElement(pe.a,{text:"\u25cf\u25cf\u25cf\u25cf\u25cf\u25cf\u25cf\u25cf",inputWidth:"150px",inputHeight:"25px",inputMaxLength:"30"})),l.a.createElement("a",{href:"/password_reset",style:{fontSize:13}},"Forgot your password?"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("b",null,"New Password"),l.a.createElement("br",null),l.a.createElement(d.Row,{horizontal:"start"},l.a.createElement(pe.a,{text:"\u25cf\u25cf\u25cf\u25cf\u25cf\u25cf\u25cf\u25cf",inputWidth:"150px",inputHeight:"25px",inputMaxLength:"30"})),l.a.createElement("br",null),l.a.createElement("b",null,"Confirm Password"),l.a.createElement("br",null),l.a.createElement(d.Row,{horizontal:"start"},l.a.createElement(pe.a,{text:"\u25cf\u25cf\u25cf\u25cf\u25cf\u25cf\u25cf\u25cf",inputWidth:"150px",inputHeight:"25px",inputMaxLength:"30"})),l.a.createElement("center",null,l.a.createElement("input",{class:"btn btn-success submit-form",type:"submit",value:"Save"})))),l.a.createElement("div",{className:"profile-category"},l.a.createElement("h2",null,"Notification Settings"),l.a.createElement("div",{className:"profile-category-content"},"Notify me on AnimoSched when:",l.a.createElement(Xt.a,null,l.a.createElement(Qt.a,{control:l.a.createElement(Zt,{defaultChecked:!0,color:"primary"}),label:"A class in my schedule is full, or has open slots"}),l.a.createElement(Qt.a,{control:l.a.createElement(Zt,{defaultChecked:!0,color:"primary"}),label:"A conflict between classes in my schedule is detected"}),l.a.createElement(Qt.a,{control:l.a.createElement(Zt,{defaultChecked:!0,color:"primary"}),label:"My friends make changes to their schedules and preferences"})),l.a.createElement("center",null,l.a.createElement("input",{class:"btn btn-success submit-form",type:"submit",value:"Save"})))),l.a.createElement("div",{className:"profile-category"},l.a.createElement("h2",null,"Data Privacy Settings"),l.a.createElement("div",{className:"profile-category-content"},"Allow friends to view",l.a.createElement(Xt.a,null,l.a.createElement(Qt.a,{control:l.a.createElement(Zt,{defaultChecked:!0,color:"primary"}),label:"Your saved schedules"}),l.a.createElement(Qt.a,{control:l.a.createElement(Zt,{defaultChecked:!0,color:"primary"}),label:"Your schedule preferences"}),l.a.createElement(Qt.a,{control:l.a.createElement(Zt,{defaultChecked:!0,color:"primary"}),label:"College and course details"})),l.a.createElement("center",null,l.a.createElement("input",{class:"btn btn-success submit-form",type:"submit",value:"Save"}))))):l.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh"}},l.a.createElement(at.a,{type:"spin",color:"#9BCFB8",height:"5%",width:"5%"})))}}var ta=Object(V.a)(e=>({pencilIcon:{marginLeft:"10px","&:hover":{backgroundColor:"white",color:"gray"}},checkIcon:{color:"green","&:hover":{backgroundColor:"white",color:"#79c879"}}}))(ea),aa=(a(797),a(305)),sa=a(924),la=a(900);function na(e){return l.a.createElement(dt.a,Object.assign({elevation:6,variant:"filled"},e))}class ra extends s.Component{constructor(e){super(e),this.exportFlowchart=()=>{window.scrollTo(0,0),je()(document.querySelector("#flowchart-area")).then(e=>{this.saveAs(e.toDataURL(),"flowchart.png")}),this.setState({snackbar:!0})},this.exportFlowchartTable=()=>{window.scrollTo(0,0),je()(document.querySelector("#flowchart-table-area")).then(e=>{this.saveAs(e.toDataURL(),"flowchart.png")}),this.setState({snackbar:!0})},this.setFlowchartTables=()=>{var e=Object(V.a)(e=>({head:{backgroundColor:"#006A4E",color:e.palette.common.white},body:{fontSize:12}}))(ie.a),t=Object(V.a)(e=>({root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default}}}))(oe.a);if(this.state.terms.length>0){var a=this.state.terms.map(a=>l.a.createElement(he.a,{component:z.a},l.a.createElement("center",null,l.a.createElement("div",{class:"header-table-term"},l.a.createElement("h3",null,"YEAR ",a.year,", TERM ",a.term))),l.a.createElement(ce.a,{"aria-label":"customized table"},l.a.createElement(me.a,null,l.a.createElement(oe.a,null,l.a.createElement(e,null," Code "),l.a.createElement(e,{style:{width:"20em"}}," Title "),l.a.createElement(e,null," Units "),l.a.createElement(e,null," Prerequisites and Corequisites "))),l.a.createElement(de.a,null,a.courses.map(a=>l.a.createElement(t,{key:a.course_name,style:{color:"#006600",height:"30px"}},l.a.createElement(e,{style:{color:"#006600"}}," ",a.course_code," "),l.a.createElement(e,{style:{color:"#006600"}}," ",a.course_name," "),l.a.createElement(e,{style:{color:"#006600"}}," ",a.units," "),l.a.createElement(e,{style:{color:"#006600"}},a.prerequisites.map(e=>l.a.createElement(nt.a,{label:e.course_code,style:{width:"8em",height:"25px",borderStyle:"solid",borderWidth:"2px",borderColor:"lightgray"},size:"medium"})),a.softPrerequisites.map(e=>l.a.createElement(nt.a,{label:e.course_code,style:{width:"8em",height:"25px",borderStyle:"dotted",borderWidth:"2px",borderColor:"grey"},size:"medium"})),a.corequisites.map(e=>l.a.createElement(nt.a,{label:e.course_code,style:{width:"8em",height:"25px",backgroundColor:"#c7ebd1",borderStyle:"solid",borderWidth:"2px",borderColor:"gainsboro"},size:"medium"})))))))));this.setState({generatedContents:a}),this.setState({pagesCount:a.length}),console.log("created stuff")}},this.handlePageChange=(e,t)=>{this.setState({currentContent:""}),this.setState({currentPage:t}),console.log("soy")},this.handleScrollToGen=()=>{window.scrollTo({top:0,behavior:"smooth"})},this.saveAs=(e,t)=>{var a=document.createElement("a");"string"===typeof a.download?(a.href=e,a.download=t,document.body.appendChild(a),a.click(),document.body.removeChild(a)):window.open(e)},this.handleCloseBar=(e,t)=>{"clickaway"!==t&&this.setState({snackbar:!1})},this.state={terms:[],courses:[],flowpoints:[],degreekey:"1",batchkey:"116",dataReceived:!1,snackbar:!1,currentPage:0,currentContent:"",generatedContents:[],pagesCount:1,pagesEnabled:!0}}componentDidMount(){v.a.get("https://animosched-backend-backup.herokuapp.com/api/flowcharttermslist/"+this.state.degreekey+"/"+this.state.batchkey+"/").then(e=>{e.data.map((e,t)=>{var a=this.state.courses,s=this.state.flowpoints,l={id:e.id,degree:e.degree,batch:e.batch,courses:e.courses,tracks:e.tracks,year:e.year,term:e.term},n=e.term+3*(e.year-1),r=l.tracks.split(","),i=[];e.courses.map((t,s)=>{var l=t;l.year=e.year,l.term=e.term,l.prerequisites=[],l.softPrerequisites=[],l.corequisites=[],a.push(l),i.push(l)}),i.sort((function(e,t){var a=new String(e.course_code),s=new String(t.course_code);return a<s?-1:a>s?1:0})),a.sort((function(e,t){return e.year==t.year?e.term==t.term?e.units<t.units?1:-1:e.term>t.term?1:-1:e.year>t.year?1:-1}));for(var o=0;o<i.length;o++){var c={};i[o].prerequisite_to.map(e=>{c[e]={output:"right",input:"left",inputColor:"#16775d",outputColor:"#16775d"}}),i[o].soft_prerequisite_to.map(e=>{c[e]={output:"right",input:"left",inputColor:"#16775d",outputColor:"#16775d",dash:"3"}}),i[o].co_requisite.map(e=>{c[e]={output:"auto",input:"auto",inputColor:"#16775d",outputColor:"#16775d"}}),s.push({key:i[o].id,name:i[o].course_code,units:i[o].units,startPosition:{x:85*(n-1),y:50*r[o]},width:70,height:40,dragX:!1,dragY:!1,outputs:c,year:e.year,term:e.term})}var d={year:e.year,term:e.term,courses:[]};this.state.terms.push(d),this.setState({courses:a}),this.setState({flowpoints:s})});for(var t=0;t<this.state.courses.length;t++)this.state.courses[t].prerequisite_to.map(e=>{var a=this.state.courses.findIndex(t=>t.id.toString()===e.toString());-1!=a&&this.state.courses[a].prerequisites.push(this.state.courses[t])}),this.state.courses[t].soft_prerequisite_to.map(e=>{var a=this.state.courses.findIndex(t=>t.id.toString()===e.toString());-1!=a&&this.state.courses[a].softPrerequisites.push(this.state.courses[t])}),this.state.courses[t].co_requisite.map(e=>{var a=this.state.courses.findIndex(t=>t.id.toString()===e.toString());-1!=a&&this.state.courses[a].corequisites.push(this.state.courses[t])});this.state.terms.sort((function(e,t){return e.year==t.year?e.term>t.term?1:-1:e.year>t.year?1:-1}));for(t=0;t<this.state.courses.length;t++){var a=this.state.terms.findIndex(e=>e.year===this.state.courses[t].year&&e.term===this.state.courses[t].term);this.state.terms[a].courses.push(this.state.courses[t])}console.log(this.state.terms),console.log(this.state.courses),this.setFlowchartTables(),this.setState({currentPage:0}),this.setState({currentContent:this.state.generatedContents[0]}),this.setState({dataReceived:!0})})}componentDidUpdate(e,t){t.currentPage!=this.state.currentPage&&(console.log("blah"),this.setState({currentContent:this.state.generatedContents[this.state.currentPage]}),this.handleScrollToGen())}onChangePagesEnabled(e){this.setState({pagesEnabled:!1})}render(){var e=this.props.classes;Object(V.a)(e=>({head:{backgroundColor:"#006A4E",color:e.palette.common.white},body:{fontSize:12}}))(ie.a),Object(V.a)(e=>({root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default}}}))(oe.a),this.state.courses,this.state.terms;return l.a.createElement("div",null,this.props.menu("flowchart"),this.state.dataReceived?l.a.createElement("div",null,l.a.createElement("div",{class:"sidemenu-main-flow"},l.a.createElement("br",null),l.a.createElement("center",null,l.a.createElement("h2",{style:{width:"80%"}},"YOUR FLOWCHART")),l.a.createElement("center",null,l.a.createElement("h3",null,"CCS 116 CS")),l.a.createElement(sa.a,{defaultActiveKey:"table",id:"uncontrolled-tab-example"},l.a.createElement(la.a,{eventKey:"visual",title:"Visual"},l.a.createElement("div",{class:"tabArea"},l.a.createElement("center",null,l.a.createElement(De.a,{variant:"contained",className:e.buttonStyle,onClick:this.exportFlowchart,endIcon:l.a.createElement(He.a,null)},"Export")),l.a.createElement(Me.a,{open:this.state.snackbar,autoHideDuration:4e3,onClose:this.handleCloseBar},l.a.createElement(na,{onClose:this.handleCloseBar,severity:"success"},"Your flowchart image is downloading!")),l.a.createElement("div",{class:"flowchart-area",id:"flowchart-area"},l.a.createElement("div",{class:"legendArea"},l.a.createElement("div",{class:"header"},l.a.createElement("h5",null,"Legend")),l.a.createElement("div",{class:"legendEntryFlowchart"},l.a.createElement("div",{class:"flowchartLegendLine"},l.a.createElement("hr",{style:{borderColor:"#16775d",borderWidth:"2px"}})),l.a.createElement("div",{class:"flowchartLegendText"},"Prerequisite or corequisite")),l.a.createElement("div",{class:"legendEntryFlowchart"},l.a.createElement("div",{class:"flowchartLegendLine"},l.a.createElement("hr",{style:{borderColor:"#16775d",borderWidth:"1px",borderStyle:"dashed"}})),l.a.createElement("div",{class:"flowchartLegendText"},"Soft prerequisite"))),l.a.createElement("div",{class:"flowchart-header-parent"},l.a.createElement("div",{class:"header-year-parent"},l.a.createElement("div",{class:"header-year"},"Year 1"),l.a.createElement("div",{class:"header-term-parent"},l.a.createElement("div",{class:"header-term"},"Term 1"),l.a.createElement("div",{class:"header-term"},"Term 2"),l.a.createElement("div",{class:"header-term"},"Term 3"))),l.a.createElement("div",{class:"header-year-parent"},l.a.createElement("div",{class:"header-year"},"Year 2"),l.a.createElement("div",{class:"header-term-parent"},l.a.createElement("div",{class:"header-term"},"Term 1"),l.a.createElement("div",{class:"header-term"},"Term 2"),l.a.createElement("div",{class:"header-term"},"Term 3"))),l.a.createElement("div",{class:"header-year-parent"},l.a.createElement("div",{class:"header-year"},"Year 3"),l.a.createElement("div",{class:"header-term-parent"},l.a.createElement("div",{class:"header-term"},"Term 1"),l.a.createElement("div",{class:"header-term"},"Term 2"),l.a.createElement("div",{class:"header-term"},"Term 3"))),l.a.createElement("div",{class:"header-year-parent"},l.a.createElement("div",{class:"header-year"},"Year 4"),l.a.createElement("div",{class:"header-term-parent"},l.a.createElement("div",{class:"header-term"},"Term 1"),l.a.createElement("div",{class:"header-term"},"Term 2"),l.a.createElement("div",{class:"header-term"},"Term 3")))),l.a.createElement(aa.Flowspace,{theme:"green",variant:"paper",background:"white",connectionSize:"2",style:{overflow:"hidden",height:"100%",width:"100"}},Object.keys(this.state.flowpoints).map(t=>{var a=this.state.flowpoints[t];return l.a.createElement(aa.Flowpoint,{key:a.key,startPosition:a.startPosition,width:a.width,height:a.height,dragX:a.dragX,dragY:a.dragY,outputs:a.outputs},l.a.createElement("div",{className:e.flowchartText},a.name,l.a.createElement("br",null),a.units))}))))),l.a.createElement(la.a,{eventKey:"table",title:"Table"},l.a.createElement("div",{class:"tabArea"},l.a.createElement("center",null,l.a.createElement(De.a,{variant:"contained",className:e.buttonStyle,onClick:this.exportFlowchartTable,endIcon:l.a.createElement(He.a,null)},"Export")),l.a.createElement(Me.a,{open:this.state.snackbar,autoHideDuration:4e3,onClose:this.handleCloseBar},l.a.createElement(na,{onClose:this.handleCloseBar,severity:"success"},"Your flowchart image is downloading!")),l.a.createElement("div",{class:"flowchart-table-area",id:"flowchart-table-area"},l.a.createElement("div",{class:"legendArea"},l.a.createElement("div",{class:"header"},l.a.createElement("h5",null,"Legend")),l.a.createElement("div",{class:"legendEntry"},l.a.createElement(nt.a,{style:{width:"25px",height:"25px",borderRadius:"50%",borderStyle:"solid",borderWidth:"2px",borderColor:"lightgray"},size:"medium"})," Prerequisite"),l.a.createElement("div",{class:"legendEntry"},l.a.createElement(nt.a,{style:{width:"25px",height:"25px",borderRadius:"50%",borderStyle:"dotted",borderWidth:"2px",borderColor:"grey"},size:"medium"})," Soft prerequisite"),l.a.createElement("div",{class:"legendEntry"},l.a.createElement(nt.a,{style:{width:"25px",height:"25px",borderRadius:"50%",backgroundColor:"#c7ebd1",borderStyle:"solid",borderWidth:"2px",borderColor:"gainsboro"},size:"medium"})," Corerequisite")),l.a.createElement("span",{style:!0===this.state.pagesEnabled?{}:{display:"none"}},this.state.currentContent)),l.a.createElement(K.a,{item:!0,xs:12,justify:"center",alignItems:"center"},l.a.createElement("div",{className:"paginationContainer",style:null!=this.state.generatedContents?{}:{display:"none"}},l.a.createElement(L.a,{"aria-label":"Page navigation example",style:{justifyContent:"center"}},l.a.createElement(O.a,{disabled:this.state.currentPage<=0},l.a.createElement(M.a,{onClick:e=>this.handlePageChange(e,this.state.currentPage-1),previous:!0})),[...Array(this.state.pagesCount)].map((e,t)=>l.a.createElement(O.a,{active:t===this.state.currentPage,key:t,className:"paginationItemStyle"},l.a.createElement(M.a,{onClick:e=>this.handlePageChange(e,t),className:"paginationLinkStyle"},t+1))),l.a.createElement(O.a,{disabled:this.state.currentPage>=this.state.generatedContents.length-1},l.a.createElement(M.a,{onClick:e=>this.handlePageChange(e,this.state.currentPage+1),next:!0}))))))))),l.a.createElement("div",{class:"sideRight"})):l.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh"}},l.a.createElement(at.a,{type:"spin",color:"#9BCFB8",height:"5%",width:"5%"})))}}var ia=Object(V.a)(e=>({flowchartText:{overflow:"hidden",textOverflow:"ellipsis",textAlign:"center",fontSize:"0.7rem","&:hover":{color:"green"}},buttonStyle:{fontSize:"95%",textTransform:"none",width:"10%",borderRadius:"25px",paddingLeft:"5%",paddingRight:"5%",backgroundColor:"#16775D",border:"none",color:"white",boxShadow:"6px 5px #e8f4ea",borderStyle:"solid",borderColor:"#16775D",justifyContent:"center","&:hover":{backgroundColor:"white",color:"#16775D"}},buttonStyleOption:{textTransform:"none",width:"55%",borderRadius:"25px",paddingLeft:"5%",paddingRight:"3%",backgroundColor:"white",border:"solid 2px #16775D",color:"#16775D",boxShadow:"6px 5px #e8f4ea",borderStyle:"solid",borderColor:"#16775D",justifyContent:"center","&:hover":{backgroundColor:"#16775D",border:"none",color:"white"}}}))(ra),oa=a(306),ca=(e,t)=>{var a=t.removedIndex,s=t.addedIndex,l=t.payload;if(null===a&&null===s)return e;var n=[...e],r=l;return null!==a&&(r=n.splice(a,1)[0]),null!==s&&n.splice(s,0,r),n},da=(a(800),a(430)),ha=a(901),ma=a(460),ua=a.n(ma);class pa extends s.Component{constructor(e){var t;super(e),t=this,this.refreshList=e=>{var a=e.courses;this.setState({courses:[]});for(var s=function(e){t.setState(t=>({courses:t.courses.concat({id:a[e].id,course_id:a[e].course_id,data:a[e].data,siteData:a[e].siteData})}))},l=0;l<a.length;l++)s(l)},this.removeCourse=e=>{this.props.handleCourseDelete(this.state.courses[e]);var t=[...this.state.courses];-1!==e&&t.splice(e,1),this.props.updateFunction(t)},this.triggerModal=(e,t)=>{this.props.triggerModal(e,t)},this.triggerUpdate=e=>{null==e.removedIndex&&null!=e.addedIndex&&("1"==this.state.idTag?v.a.put("https://animosched-backend-backup.herokuapp.com/api/coursepriority/"+e.payload.id+"/",{courses:e.payload.course_id,priority:!0,user:localStorage.getItem("user_id")}).catch(e=>{console.log(e.response)}):"2"==this.state.idTag&&v.a.put("https://animosched-backend-backup.herokuapp.com/api/coursepriority/"+e.payload.id+"/",{courses:e.payload.course_id,priority:!1,user:localStorage.getItem("user_id")}).catch(e=>{console.log(e.response)})),this.setState({courses:ca(this.state.courses,e)}),this.props.updateFunction(this.state.courses)},this.addCard=e=>{this.setState(t=>{var a=t.courses;return{courses:t.courses.concat({id:this.props.idTag+a.length,data:e})}})},this.onClearArray=()=>{this.setState({courses:[]})},this.state={courses:this.props.courses,idTag:this.props.idTag}}componentWillReceiveProps(e){this.refreshList(e)}componentDidMount(){this.refreshList(this.props)}render(){var e=this.props.classes;return l.a.createElement("div",null,l.a.createElement("div",{className:"simple-page1",style:{display:"flex",justifyContent:"center"}},l.a.createElement("div",{className:"card-container",style:{height:"452px",overflow:"auto",width:"270px"}},this.props.loading?l.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"40vh"}},l.a.createElement(at.a,{type:"spin",color:"#9BCFB8",height:"20%",width:"20%"})):l.a.createElement(oa.Container,{groupName:"1",getChildPayload:e=>this.state.courses[e],onDrop:this.triggerUpdate,style:{height:"100%"}},this.state.courses.map((t,a)=>(console.log(t),l.a.createElement(oa.Draggable,{key:t.id},l.a.createElement("div",{className:"draggable-item"},l.a.createElement(ha.a,{title:"Select sections",placement:"left"},l.a.createElement(ua.a,{id:"launch",style:{cursor:"pointer"},className:e.iconStyle,onClick:()=>this.triggerModal(t.data,t.siteData)})),l.a.createElement("a",{className:"card-courseName",onClick:()=>this.triggerModal(t.data,t.siteData)},t.data),l.a.createElement(da.a,{close:!0,style:{marginTop:"11px",marginRight:"10px"},onClick:()=>this.removeCourse(a)})))))))))}getCardPayload(e,t){return this.state.scene.children.filter(t=>t.id===e)[0].children[t]}onColumnDrop(e){var t=Object.assign({},this.state.scene);t.children=ca(t.children,e),this.setState({scene:t})}onCardDrop(e,t){if(null!==t.removedIndex||null!==t.addedIndex){var a=Object.assign({},this.state.scene),s=a.children.filter(t=>t.id===e)[0],l=a.children.indexOf(s),n=Object.assign({},s);n.children=ca(n.children,t),a.children.splice(l,1,n),this.setState({scene:a})}}}var ga=Object(V.a)(e=>({iconStyle:{marginBottom:"5px",float:"left",marginTop:"11px",marginLeft:"16px","&:hover":{color:ee.a[500]}}}))(pa);a(428);s.Component;a(818),a(801);s.Component;var Ea=Object(V.a)(e=>({head:{backgroundColor:"#006A4E",color:e.palette.common.white},body:{fontSize:14,borderBottom:"1px solid white"}}))(ie.a),fa=Object(V.a)(e=>({root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}))(oe.a);class ba extends s.Component{constructor(e){super(e),this._handleFocus=e=>{this.setState({boolEdit:!0}),console.log("Focused with text: "+e)},this._handleFocusOut=e=>{console.log("Left editor with text: "+e),this.setState({schedTitle:e}),console.log("this is props"),console.log(this.props),this.props.updateSchedTitle(e),this.setState({boolEdit:!1})},this.handleKeyPress=e=>{console.log("event: "+e),"Enter"===e.key&&(this.setState({boolEdit:!1}),console.log("isEditing: "+this.state.boolEdit))},this.editButtonPress=()=>{!1===this.state.boolEdit?(this.setState({boolEdit:!0}),this.editableLabel.current.setState({isEditing:!0})):!0===this.state.boolEdit&&this.setState({boolEdit:!1})};var t="Preferences",a="Course Conflicts";void 0!=e.type&&void 0!=e.owner&&(t=e.owner+"'s Preferences",a=e.owner+"'s Course Conflicts"),this._handleFocus=this._handleFocus.bind(this),this._handleFocusOut=this._handleFocusOut.bind(this),this.handleKeyPress=this.handleKeyPress.bind(this),this.state={scheduleContent:e.scheduleContent,tableContent:e.tableContent,conflictsContent:e.conflictsContent,prefContent:e.prefContent,rowsPref:e.prefContent,rowsFriendPref:e.prefFriendContent,rowsConflict:e.conflictsContent,id:e.id,schedTitle:e.titleName,earliest:e.earliest,latest:e.latest,boolEdit:!1,defPalette:["#9BCFB8","#7FB174","#689C97","#072A24","#D1DDDB","#85B8CB","#1D6A96","#283B42","#FFB53C","#EEB3A3","#F3355C","#FAA98B","#E6AECF","#AEE0DD","#01ACBD","#FED770"," #F29F8F","#FB7552","#076A67","#324856","#4A746A","#D18237","#D66C44","#FFA289","#6A92CC","#706FAB","#50293C"],prefTitle:t,conflictTitle:a},this.editableLabel=l.a.createRef()}componentWillReceiveProps(e){this.setState({scheduleContent:e.scheduleContent,tableContent:e.tableContent,conflictsContent:e.conflictsContent,prefContent:e.prefContent,rowsPref:e.prefContent,rowsFriendPref:e.prefFriendContent,rowsConflict:e.conflictsContent,id:e.id,schedTitle:e.titleName,earliest:e.earliest,latest:e.latest})}render(){var e=this.props.classes;return console.log(this.state.rowsPref),console.log(this.state.rowsConflict),l.a.createElement(d.Column,null,l.a.createElement(d.Row,{verticle:"center",className:"RowSchedInfoContainer"},l.a.createElement(d.Column,{flexGrow:1,horizontal:"center"},l.a.createElement(d.Row,{horizontal:"start"},l.a.createElement(pe.a,{ref:this.editableLabel,text:this.state.schedTitle,labelClassName:"myLabelClass",inputClassName:"myInputClass",inputWidth:"200px",inputHeight:"25px",inputMaxLength:"50",labelFontWeight:"bold",inputFontWeight:"bold",onFocus:this._handleFocus,onFocusOut:this._handleFocusOut,onChange:this.handleKeyPress}),this.state.boolEdit?l.a.createElement(be.a,{fontSize:"medium",className:e.checkIcon,onClick:this.editButtonPress}):l.a.createElement(Ee.a,{fontSize:"small",className:e.pencilIcon,onClick:this.editButtonPress})),l.a.createElement(re,{id:"scheduleView",content:this.state.scheduleContent,earliest:this.state.earliest,latest:this.state.latest,palette:this.state.defPalette})),l.a.createElement(d.Column,{flexGrow:1,horizontal:"center",style:{marginLeft:"20px"}},l.a.createElement(d.Row,{horizontal:"center"},l.a.createElement(d.Column,{horizontal:"center",style:{marginLeft:"10px"}},l.a.createElement(he.a,{component:z.a,className:"boxinfoContainer",style:{width:250}},l.a.createElement(ce.a,{className:e.table,"aria-label":"customized table",stickyHeader:!0},l.a.createElement(me.a,null,l.a.createElement(oe.a,null,l.a.createElement(Ea,null,l.a.createElement("center",null,this.state.prefTitle)))),l.a.createElement(de.a,null,0==this.state.rowsPref.length?l.a.createElement(fa,{key:"empty"},l.a.createElement(Ea,{rowSpan:3},"All preferences were met.")):null,this.state.rowsPref.map(e=>l.a.createElement(fa,{key:e},l.a.createElement(Ea,{component:"th",scope:"row"},e))))))),l.a.createElement(d.Column,{horizontal:"center",style:{marginLeft:"20px"}},l.a.createElement(he.a,{component:z.a,className:"boxinfoContainer",style:{width:250}},l.a.createElement(ce.a,{className:e.table,"aria-label":"customized table",stickyHeader:!0},l.a.createElement(me.a,null,l.a.createElement(oe.a,null,l.a.createElement(Ea,null,l.a.createElement("center",null,this.state.conflictTitle)))),l.a.createElement(de.a,null,0==this.state.rowsConflict.length?l.a.createElement(fa,{key:"empty"},l.a.createElement(Ea,{rowSpan:3},"No course conflicts.")):null,this.state.rowsConflict.map(e=>l.a.createElement(fa,{key:e},l.a.createElement(Ea,{component:"th",scope:"row"},e)))))))),l.a.createElement("br",null),l.a.createElement("div",{style:"friend"==this.props.type?{}:{display:"none"}},l.a.createElement(d.Row,{horizontal:!0},l.a.createElement(he.a,{component:z.a,className:"boxinfoContainer",style:{width:"100%"}},l.a.createElement(ce.a,{className:e.table,"aria-label":"customized table",stickyHeader:!0},l.a.createElement(me.a,null,l.a.createElement(oe.a,null,l.a.createElement(Ea,null,l.a.createElement("center",null,"Friends' Preferences and Conflicts")))),l.a.createElement(de.a,{style:{width:"100%"}},void 0!=this.state.rowsFriendPref?l.a.createElement("div",null,0==this.state.rowsFriendPref.length?l.a.createElement(fa,{key:"empty"},l.a.createElement(Ea,{rowSpan:3},"All friend's preferences were met.")):null,this.state.rowsFriendPref.map(e=>l.a.createElement(fa,{key:e,style:{width:"100%"}},l.a.createElement(Ea,{component:"th",scope:"row",style:{width:"100%"}},e)))):null))))))))}}var Ca=Object(V.a)(e=>({pencilIcon:{marginLeft:"10px","&:hover":{backgroundColor:"white",color:"gray"}},checkIcon:{color:"green",marginLeft:"10px","&:hover":{backgroundColor:"white",color:"#79c879"}}}))(ba),va=a(212),ya=a.n(va);a(210);class Sa extends s.Component{constructor(e){super(e),this.handleChange=(e,t)=>{var a=this.state.fields;a[e]=t.target.value,this.setState({fields:a})},this.state={dataReceived:!1,skeletons:[...Array(4).keys()],loading:!0,friendInfo:[{name:"Edward Elric",matched:"INOVATE S17, ALGOCOM S18",possible:"TREDTRI A51",unavailable:"SCIMATC"},{name:"Mark Ruffalo",matched:"INOVATE S17",possible:"TREDFOR S18",unavailable:"LBYMATC"}]}}createData(e,t,a,s){return{name:e,matched:t,possible:a,unavailable:s}}render(){this.props.classes;var e=Object(V.a)(e=>({head:{backgroundColor:"#006A4E",color:e.palette.common.white},body:{fontSize:14,borderBottom:"1px solid white"}}))(ie.a),t=Object(V.a)(e=>({root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default},"&:hover":{backgroundColor:"#efefef"}}}))(oe.a);return l.a.createElement("div",null,l.a.createElement("div",{className:"friend-container"},l.a.createElement("div",{className:"view-Friends",style:{}},l.a.createElement(he.a,null,l.a.createElement(ce.a,{"aria-label":"customized table",style:{marginBottom:25,marginTop:25},component:z.a},l.a.createElement(me.a,null,l.a.createElement(oe.a,null,l.a.createElement(e,null," Friend "),l.a.createElement(e,null," Matched Classes "),l.a.createElement(e,null," Possible Classes "),l.a.createElement(e,null," Clashing Courses "))),(a=>void 0!=this.state.friendInfo?l.a.createElement(de.a,null,this.state.friendInfo.map((a,s)=>l.a.createElement(t,{key:s},l.a.createElement(e,null," ",a.name," "),l.a.createElement(e,null," ",a.matched," "),l.a.createElement(e,null," ",a.possible," "),l.a.createElement(e,null," ",a.unavailable," ")))):l.a.createElement(de.a,null,l.a.createElement(t,null,l.a.createElement(e,{colSpan:9},l.a.createElement("center",null,l.a.createElement("p",null,"Friends were not added"))))))())))))}}Object(V.a)(e=>({root:{display:"flex",alignItems:"center"},wrapper:{position:"relative"},buttonProgress:{color:ee.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12,paddingTop:"5px",paddingBottom:"5px"}}))(Sa);function ka(e){return l.a.createElement(dt.a,Object.assign({elevation:6,variant:"filled"},e))}var wa=Object(V.a)({root:{"&$checked":{color:ee.a[600]}},checked:{}})(e=>l.a.createElement(et.a,Object.assign({color:"default"},e))),xa=Object(V.a)({root:{color:"white","&$checked":{color:"white"}},checked:{}})(e=>l.a.createElement(et.a,Object.assign({color:"default"},e)));class Na extends s.Component{constructor(e){super(e),this.saveCourses=()=>{},this.handleCourseDelete=e=>{v.a.delete("https://animosched-backend-backup.herokuapp.com/api/courseprioritylist/"+e.id+"/").then(t=>{console.log("deleted "+e.id);var a=[];this.state.courseList.map(e=>{a.push(e)}),a.push({id:e.course_id,course_code:e.data}),this.setState({courseList:a})}).catch(e=>{console.log(e.response)})},this.handleAutoCompleteChange=(e,t)=>{this.setState({currentCourse:t}),this.setState({AutoCompleteValue:t},()=>{localStorage.setItem("addCourses",JSON.stringify(t))})},this.handleAutoCompletePress=e=>{this.state.currentCourse;"Enter"===e.key&&this.handleAddCoursePriority()},this.handleAddCoursePriority=()=>{console.log(this.state.currentCourse);var e=this.state.currentCourse;if(localStorage.removeItem("addCourses"),void 0!=e&&e!=[]&&0!=e.length){this.setState({AutoCompleteValue:[]}),this.setState({currentCourse:[]}),this.setState({courseAdded:!1}),this.setState({loading:!0});var t=0,a=e.length;e.map(e=>{if(void 0!=e.course_code&&""!=e.course_code.trim()){var s=localStorage.getItem("user_id"),l={courses:e.id,priority:!0,user:s};v.a.post("https://animosched-backend-backup.herokuapp.com/api/coursepriority/",l,{headers:{"Content-Type":"application/json"}}).then(s=>{this.getSingleCourseOfferings(s.data.id,e,()=>{a>=(t+=1)&&this.setState({loading:!1},()=>{})})}).catch(e=>{console.log(e.response),this.setState({loading:!1})})}})}},this.handlePageChange=(e,t)=>{if(this.setState(e=>({currentContent:e.generatedContents[t]})),this.setState({currentPage:t}),this.setState(e=>({currentPage:t})),this.handleScrollToGen(),this.state.savedScheds.includes(this.state.generatedContents[t].key)){this.setState({saveButtonLabel:"Saved"});this.setState({saveButtonStyle:{margin:"30px",backgroundColor:"white",color:"#16775D"}})}else{this.setState({saveButtonLabel:"Save Schedule"});this.setState({saveButtonStyle:{margin:"30px",backgroundColor:"#16775D",color:"white"}})}},this.createTimeslot=(e,t,a)=>"M"==e?new Date(2018,5,25,t,a):"T"==e?new Date(2018,5,26,t,a):"W"==e?new Date(2018,5,27,t,a):"H"==e?new Date(2018,5,28,t,a):"F"==e?new Date(2018,5,29,t,a):"S"==e?new Date(2018,5,30,t,a):void 0,this.setSchedInfo=()=>{console.log(this.state.schedules);var e=this.state.schedules.map((e,t)=>l.a.createElement(Ca,{key:e.id,id:e.id,offerings:e.offerings,scheduleContent:e.scheduleContent,tableContent:e.tableContent,prefContent:e.prefContent,conflictsContent:e.conflictsContent,titleName:e.title,earliest:e.earliest,latest:e.latest,updateSchedTitle:this.updateSchedTitle}));this.setState({currentPage:0}),this.setState({generatedContents:e}),this.setState({hideGenContent:!1}),this.setState({pagesCount:e.length}),this.setState({currentContent:e[0]}),this.handleScrollToGen()},this.createSchedInfo=()=>{this.state.loading?(this.setState({success:!0}),this.setState({loading:!1}),this.toggleModalWait()):(this.setState({loading:!0}),this.setState({success:!1}),this.toggleModalWait()),this.setState({savedScheds:[],hideGenContent:!0,generatedContents:[],currentContent:""}),this.setState({saveButtonLabel:"Save Schedule"});this.setState({saveButtonStyle:{margin:"30px",backgroundColor:"#16775D",color:"white"}});var e=[];this.state.highCourses.map(t=>{t.siteData.map(t=>{t.checked||e.push(t)})}),this.state.lowCourses.map(t=>{t.siteData.map(t=>{t.checked||e.push(t)})}),this.setState({courseOfferings:e},()=>{console.log(e),v.a.post("https://animosched-backend-backup.herokuapp.com/api/generateschedule/",{highCourses:this.state.highCourses,lowCourses:this.state.lowCourses,user_id:localStorage.getItem("user_id"),filterFull:this.state.filterFull,courseOfferings:e}).then(e=>{console.log(e);var t=[],a=0;e.data.map(e=>{var s=0,l=[],n=9,r=17;e.offerings.map(e=>{var t=e.timeslot_begin.split(":"),a=e.timeslot_end.split(":"),i={id:s,title:e.course+" "+e.section,section:e.section,startDate:this.createTimeslot(e.day,t[0],t[1]),endDate:this.createTimeslot(e.day,a[0],a[1]),priorityId:3,location:e.room,professor:e.faculty,startTime:e.timeslot_begin.substring(0,e.timeslot_begin.length-3),endTime:e.timeslot_end.substring(0,e.timeslot_end.length-3),days:e.day,classCode:e.classnumber};n>Number(t[0])&&(n=Number(t[0])),r<Number(a[0])+1&&(r=Number(a[0])+1),l.push(i);var o,c,d,h,m,u,p,g,E,f;o=e.day,c=e.classnumber,d=e.course,h=e.section,m=e.faculty,u=e.timeslot_begin,p=e.timeslot_end,g=e.room,E=e.max_enrolled,f=e.current_enrolled;this.createData(c,d,h,m,o,u,p,g,E,f);s+=1}),a+=1,t.push({id:a,title:"Schedule "+a.toString(),scheduleContent:l,tableContent:[],prefContent:[],prefContent:e.preferences,conflictsContent:e.information,earliest:n,latest:r,offerings:e.offerings})}),console.log(t),this.state.cancelled||(localStorage.setItem("schedules",JSON.stringify(t)),this.setState({schedules:t}),this.setSchedInfo(),this.setState({success:!0}),this.setState({loading:!1}),this.setState({openModalWait:!1}),this.setState({cancelled:!1})),this.setState({cancelled:!1})}).catch(e=>{console.log(e.response),this.setState({success:!1}),this.setState({loading:!1}),this.setState({openModalWait:!1})})})},this.updateSchedTitle=e=>{var t=[],a=this.state.currentContent,s=l.a.createElement(Ca,{key:a.props.id,earliest:a.props.earliest,latest:a.props.latest,id:a.props.id,offerings:a.props.offerings,scheduleContent:a.props.scheduleContent,tableContent:a.props.tableContent,prefContent:a.props.prefContent,conflictsContent:a.props.conflictsContent,titleName:e,updateSchedTitle:this.updateSchedTitle});this.state.generatedContents.map(e=>{e.key==this.state.currentContent.key?t.push(s):t.push(e)}),this.setState({generatedContents:t}),this.setState({currentContent:s})},this.handleScrollToGen=()=>{window.scrollTo({top:this.generatedRef.current.offsetTop,behavior:"smooth"})},this.handleSaveChange=()=>{if(this.state.savedScheds.includes(this.state.currentContent.key));else{this.setState({loading:!0});var e=[],t=localStorage.getItem("user_id");console.log(this.state.currentContent),this.state.currentContent.props.offerings.map(t=>{e.push(t.id)}),v.a.post("https://animosched-backend-backup.herokuapp.com/api/schedules/",{title:this.state.currentContent.props.titleName,courseOfferings:e,user:t}).then(e=>{}).catch(e=>{console.log(e.response)}),this.setState(e=>({savedScheds:e.savedScheds.concat(e.currentContent.key)})),this.setState({loading:!1}),this.setState({saveButtonLabel:"Saved"});this.setState({saveButtonStyle:{margin:"30px",backgroundColor:"white",color:"#16775D",borderStyle:"solid",borderColor:"#16775D"}}),this.setState({snackBar:!0})}},this.handleCloseSnackBar=(e,t)=>{"clickaway"!==t&&this.setState({snackBar:!1})},this.handleFilterFull=()=>{this.setState({filterFull:!this.state.filterFull})},this.handleCheckbox=e=>{this.setState(t=>{var a=t.siteData;a[e].checked=!a[e].checked;var s=t.undesirableClass;return s[a[e].classNmbr]=a[e].checked,{siteData:a,undesirableClass:s}}),console.log(this.state.siteData[e])},this.handleAllCheckbox=()=>{this.setState(e=>{var t=e.siteData,a=e.undesirableClass;return t.map(e=>{this.state.allCheckBox?e.checked=!1:e.checked=!0,a[e.classNmbr]=e.checked}),{siteData:t,undesirableClass:a}},()=>{this.setState({allCheckBox:!this.state.allCheckBox})})},this.handleCourseOfferingChange=(e,t)=>{this.setState({courseOfferings:t})},this.triggerModal=(e,t)=>{this.setState({siteData:t}),this.setState({allCheckBox:!1},()=>{this.state.siteData.map(e=>{e.checked&&this.setState({allCheckBox:!0})})}),this.setState({openModalCourseOfferings:!0}),this.setState({modalCourseName:e})},this.handleCloseModalCourseOfferings=()=>{this.setState({openModalCourseOfferings:!1})},this.handleOpenModalCourseOfferings=()=>{this.setState({openModalCourseOfferings:!0})},this.toggleModal=()=>{var e=this.state.openModalCourseOfferings;this.setState({openModalCourseOfferings:!e})},this.handleSaveCourseOfferings=()=>{console.log("Course Offerings changes saved");for(var e=[],t=0,a=Object.entries(this.state.undesirableClass);t<a.length;t++){var s=Object(i.a)(a[t],2),l=s[0];s[1]||e.push(l)}console.log(e),v.a.post("https://animosched-backend-backup.herokuapp.com/api/removeundesirableclass/",{user_id:localStorage.getItem("user_id")}).then(t=>{v.a.post("https://animosched-backend-backup.herokuapp.com/api/addundesirableclass/",{classnumber:e,user_id:localStorage.getItem("user_id")}).then(e=>{this.setState({openModalCourseOfferings:!1})})})},this.toggleModalWait=()=>{var e=this.state.openModalWait;this.setState({openModalWait:!e})},this.onCancel=()=>{this.setState({openModalWait:!1}),this.setState({loading:!1}),this.setState({cancelled:!0})},this.updateHighPriority=this.updateHighPriority.bind(this),this.updateLowPriority=this.updateLowPriority.bind(this),this.generatedRef=l.a.createRef(),this.handleScrollToGen=this.handleScrollToGen.bind(this),this.handleSaveChange=this.handleSaveChange.bind(this),this.state={highPriorityId:"1",lowPriorityId:"2",value:"",highCourses:[],lowCourses:[],courseList:[],currentPage:0,currentContent:"",currentCourse:"",generatedContents:[],pagesCount:1,searchedCourse:"",hideGenContent:!0,savedScheds:[],saveButtonLabel:"Save Schedule",saveButtonStyle:{margin:"30px"},AutoCompleteValue:[],schedules:[],dataReceived:!1,snackBar:!1,loading:!1,success:!1,courseAdded:!0,filterFull:!0,courseOfferings:[],openModalCourseOfferings:!1,modalCourseName:"",siteData:[],siteDataArray:[],allCheckBox:!0,skeletons:[...Array(8).keys()],undesirableClass:{},tempUndesirableClass:{},openModalWait:!1},null==localStorage.getItem("hints")&&localStorage.setItem("hints",!0)}getLowCourseOfferings(e,t,a,s){if(""!=t.course_code.trim()){var l=[],n=[];v.a.get("https://animosched-backend-backup.herokuapp.com/api/searchcourse/"+t.course_code.trim()+"/").then(r=>{r.data.map(e=>{n.push(e.id)}),console.log(n),v.a.post("https://animosched-backend-backup.herokuapp.com/api/courseofferingslist/",{courses:n,applyPreference:!1,user_id:localStorage.getItem("user_id")}).then(n=>{n.data.map(e=>{var t=Be()(e,"classnumber");for(var a in t){var s=[],n="",r="",i="",o="",c="",d="",h="",m="",u="",p="";t[a].map(e=>{s.push(e.day),r=e.classnumber,i=e.course,e.course_id,o=e.section,c=e.faculty,d=e.timeslot_begin,h=e.timeslot_end,m=e.room,u=e.max_enrolled,p=e.current_enrolled}),s.map(e=>{n+=e});var g=this.state.undesirableClass[r];g=!(null!=g&&!g);var E=this.createData(r,i,o,c,n,d,h,m,u,p,g);l.push(E)}}),a.push({id:e,course_id:t.id,data:t.course_code,siteData:l}),console.log(a),this.setState({lowCourses:a},()=>{s()})})})}else a.push({id:e,course_id:t.id,data:t.course_code,siteData:[]}),this.setState({lowCourses:a},()=>{s()})}getCourseOfferings(e,t,a,s){if(""!=t.course_code.trim()){var l=[],n=[];v.a.get("https://animosched-backend-backup.herokuapp.com/api/searchcourse/"+t.course_code.trim()+"/").then(r=>{r.data.map(e=>{n.push(e.id)}),console.log(n),v.a.post("https://animosched-backend-backup.herokuapp.com/api/courseofferingslist/",{courses:n,applyPreference:!1,user_id:localStorage.getItem("user_id")}).then(n=>{n.data.map(e=>{var t=Be()(e,"classnumber");for(var a in t){var s=[],n="",r="",i="",o="",c="",d="",h="",m="",u="",p="";t[a].map(e=>{s.push(e.day),r=e.classnumber,i=e.course,e.course_id,o=e.section,c=e.faculty,d=e.timeslot_begin,h=e.timeslot_end,m=e.room,u=e.max_enrolled,p=e.current_enrolled}),s.map(e=>{n+=e});var g=this.state.undesirableClass[r];g=!(null!=g&&!g);var E=this.createData(r,i,o,c,n,d,h,m,u,p,g);l.push(E)}}),a.push({id:e,course_id:t.id,data:t.course_code,siteData:l}),console.log(a),this.setState({highCourses:a},()=>{s()})})})}else a.push({id:e,course_id:t.id,data:t.course_code,siteData:[]}),this.setState({highCourses:a},()=>{s()})}getSingleCourseOfferings(e,t,a){if(""!=t.course_code.trim()){var s=[],l=[];v.a.get("https://animosched-backend-backup.herokuapp.com/api/searchcourse/"+t.course_code.trim()+"/").then(n=>{n.data.map(e=>{l.push(e.id)}),console.log(l),v.a.post("https://animosched-backend-backup.herokuapp.com/api/courseofferingslist/",{courses:l,applyPreference:!1,user_id:localStorage.getItem("user_id")}).then(l=>{l.data.map(e=>{var t=Be()(e,"classnumber");for(var a in t){var l=[],n="",r="",i="",o="",c="",d="",h="",m="",u="",p="";t[a].map(e=>{l.push(e.day),r=e.classnumber,i=e.course,e.course_id,o=e.section,c=e.faculty,d=e.timeslot_begin,h=e.timeslot_end,m=e.room,u=e.max_enrolled,p=e.current_enrolled}),l.map(e=>{n+=e});var g=this.state.undesirableClass[r];g=!(null!=g&&!g);var E=this.createData(r,i,o,c,n,d,h,m,u,p,g);s.push(E)}});var n={id:e,course_id:t.id,data:t.course_code,siteData:s};this.setState(e=>({highCourses:e.highCourses.concat(n)})),a()})})}else{var n={id:e,course_id:t.id,data:t.course_code,siteData:[]};this.setState(e=>({highCourses:e.highCourses.concat(n)})),a()}}componentDidMount(){var e=localStorage.getItem("user_id"),t=JSON.parse(localStorage.getItem("addCourses")),a=localStorage.getItem("schedules"),s=!1;void 0!=a&&(a=JSON.parse(a)),null!=t&&(this.setState({AutoCompleteValue:t}),this.setState({currentCourse:t})),v.a.get("https://animosched-backend-backup.herokuapp.com/api/courses/").then(t=>{t.data.map(e=>{var t=this.state.courseList,a={id:e.id,course_code:e.course_code};t.push(a),this.setState({courseList:t})}),v.a.get("https://animosched-backend-backup.herokuapp.com/api/courseprioritylist/"+e+"/").then(e=>{console.log(e.data);var t=e.data.length,l=0;e.data.map(e=>{var a=e.id,n=e.priority,r=[];this.state.courseList.map(i=>{i.id==e.courses?n?this.getCourseOfferings(a,i,this.state.highCourses,()=>{l+=1,this.setState({dataReceived:!0},()=>{s||(this.setSchedInfo(),s=!0)})}):this.getLowCourseOfferings(a,i,this.state.lowCourses,()=>{l+=1,console.log("test 2"),t<=l&&this.setState({dataReceived:!0},()=>{s||(this.setSchedInfo(),s=!0)})}):r.push(i)}),this.setState({courseList:r})}),t<=l&&this.setState({dataReceived:!0},()=>{s||(this.setSchedInfo(),s=!0)}),console.log(a),void 0!=a&&this.setState({schedules:a}),console.log(this.state.highCourses.length),console.log(this.state.lowCourses.length),console.log(this.state.loading||this.state.highCourses.length+this.state.lowCourses.length<=0)})}),v.a.get("https://animosched-backend-backup.herokuapp.com/api/undesirableclasslist/"+e+"/").then(e=>{e.data.map(e=>{var t=this.state.undesirableClass;t[e.undesirable_classes]=!1,this.setState({undesirableClass:t})})})}componentDidUpdate(e,t){t.generatedContents!==this.state.generatedContents&&(this.handleScrollToGen(),t.generatedContents=this.state.generatedContents)}createData(e,t,a,s,l,n,r,i,o,c,d){return{classNmbr:e,course:t,section:a,faculty:s,day:l,startTime:n,endTime:r,room:i,capacity:o,enrolled:c,checked:d}}updateHighPriority(e){var t=[];e.map(e=>{t.push(e)}),this.setState({highCourses:t})}updateLowPriority(e){var t=[];e.map(e=>{t.push(e)}),this.setState({lowCourses:t})}render(){this.props.search_field;var e=this.props.classes,t=Object(V.a)(e=>({head:{backgroundColor:"#006A4E",color:e.palette.common.white},body:{fontSize:14,borderBottom:"1px solid white"}}))(ie.a),a=Object(V.a)(e=>({root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default}}}))(oe.a);return l.a.createElement("div",null,this.props.menu("generateSchedule"),this.state.dataReceived?l.a.createElement("div",null,l.a.createElement(d.Column,{flexGrow:1,style:{margin:"40px"}},l.a.createElement("div",{className:"courseInputContainer"},l.a.createElement(d.Row,{horizontal:"center"},l.a.createElement("h1",null,"SECOND TRIMESTER, AY 2019 - 2020")),l.a.createElement(ze.Hints,{enabled:"true"==localStorage.getItem("hints"),hints:[{element:"#launch",hint:"Click here to filter out your classes!",hintPosition:"top-middle"}],onClose:()=>{localStorage.setItem("hints",!1)}}),l.a.createElement(d.Row,{horizontal:"center",style:{margin:"20px"}},l.a.createElement("div",{id:"search_container"},l.a.createElement(ct,{page:"add",disabled:this.state.loading,onChange:this.handleAutoCompleteChange,onKeyPress:this.handleAutoCompletePress,value:this.state.AutoCompleteValue,defaultValue:this.state.AutoCompleteValue})),l.a.createElement("div",null,l.a.createElement(De.a,{variant:"contained",color:"Primary",disabled:this.state.loading,style:{backgroundColor:"green",color:"white",height:"56px"},"data-hint":"hello",onClick:this.handleAddCoursePriority},l.a.createElement(ya.a,{fontSize:"medium"})))),l.a.createElement(d.Row,{horizontal:"center",style:{margin:"20px"}},l.a.createElement(Qt.a,{control:l.a.createElement(wa,{disabled:this.state.loading,checked:this.state.filterFull,onChange:this.handleFilterFull,color:"primary"}),label:"Filter out closed classes"})),l.a.createElement("div",{className:"DnDContainer"},l.a.createElement(d.Row,{vertical:"center"},l.a.createElement(d.Column,{flexGrow:1,horizontal:"center"},l.a.createElement("h3",{className:"priortyTitle"},"Highest Priority"),l.a.createElement(ga,{idTag:this.state.highPriorityId,courses:this.state.highCourses,updateFunction:this.updateHighPriority,handleCourseDelete:this.handleCourseDelete,triggerModal:this.triggerModal,loading:this.state.loading})),l.a.createElement(d.Column,{flexGrow:1,horizontal:"center"},l.a.createElement("h3",{className:"priortyTitle"},"Lowest Priority"),l.a.createElement(ga,{idTag:this.state.lowPriorityId,courses:this.state.lowCourses,updateFunction:this.updateLowPriority,handleCourseDelete:this.handleCourseDelete,triggerModal:this.triggerModal,loading:this.state.loading})))),l.a.createElement($e.a,{dialogClassName:"modal-90w",size:"lg",style:{maxWidth:"1600px",width:"80%"},isOpen:this.state.openModalCourseOfferings,toggle:this.toggleModal,returnFocusAfterClose:!1,backdrop:"static","data-keyboard":"false"},l.a.createElement(Je.a,{toggle:this.toggleModal},"Course Information"),l.a.createElement(Xe.a,null,l.a.createElement("h4",null,this.state.modalCourseName),l.a.createElement("br",null),l.a.createElement(he.a,{component:z.a},l.a.createElement(ce.a,{"aria-label":"customized table"},l.a.createElement(me.a,null,l.a.createElement(oe.a,null,l.a.createElement(t,null," ",l.a.createElement(xa,{onClick:()=>this.handleAllCheckbox(),checked:this.state.allCheckBox})," "),l.a.createElement(t,null," Class Number "),l.a.createElement(t,null," Course "),l.a.createElement(t,null," Section "),l.a.createElement(t,null," Faculty "),l.a.createElement(t,null," Day "),l.a.createElement(t,null," Time "),l.a.createElement(t,null," Room "),l.a.createElement(t,null," Capacity "),l.a.createElement(t,null," Enrolled "))),this.state.loading?l.a.createElement(de.a,null,this.state.skeletons.map(e=>l.a.createElement(a,null,l.a.createElement(t,null," ",l.a.createElement(y.a,{width:"100%",height:"100%"})," "),l.a.createElement(t,null," ",l.a.createElement(y.a,{width:"100%",height:"100%"})," "),l.a.createElement(t,null," ",l.a.createElement(y.a,{width:"100%",height:"100%"})," "),l.a.createElement(t,null," ",l.a.createElement(y.a,{width:"100%",height:"100%"})," "),l.a.createElement(t,null," ",l.a.createElement(y.a,{width:"100%",height:"100%"})," "),l.a.createElement(t,null," ",l.a.createElement(y.a,{width:"100%",height:"100%"})," "),l.a.createElement(t,null," ",l.a.createElement(y.a,{width:"100%",height:"100%"})," "),l.a.createElement(t,null," ",l.a.createElement(y.a,{width:"100%",height:"100%"})," "),l.a.createElement(t,null," ",l.a.createElement(y.a,{width:"100%",height:"100%"})," "),l.a.createElement(t,null," ",l.a.createElement(y.a,{width:"100%",height:"100%"})," ")))):l.a.createElement(de.a,null,this.state.siteData.map((e,s)=>l.a.createElement(a,{key:e.classNmbr,style:e.capacity==e.enrolled?{color:"#0099CC"}:{color:"#006600"}},l.a.createElement(t,null," ",l.a.createElement(wa,{onClick:()=>this.handleCheckbox(s),checked:e.checked})),l.a.createElement(t,{style:e.capacity==e.enrolled?{color:"#0099CC"}:{color:"#006600"}}," ",e.classNmbr," "),l.a.createElement(t,{onClick:this.handleOpenModalCourseInfo,style:e.capacity==e.enrolled?{color:"#0099CC"}:{color:"#006600"}}," ",e.course," "),l.a.createElement(t,{style:e.capacity==e.enrolled?{color:"#0099CC"}:{color:"#006600"}}," ",e.section," "),l.a.createElement(t,{style:e.capacity==e.enrolled?{color:"#0099CC"}:{color:"#006600"}}," ",e.faculty," "),l.a.createElement(t,{style:e.capacity==e.enrolled?{color:"#0099CC"}:{color:"#006600"}}," ",e.day," "),l.a.createElement(t,{style:e.capacity==e.enrolled?{color:"#0099CC"}:{color:"#006600"}}," ",e.startTime," - ",e.endTime," "),l.a.createElement(t,{style:e.capacity==e.enrolled?{color:"#0099CC"}:{color:"#006600"}}," ",e.room," "),l.a.createElement(t,{align:"right",style:e.capacity==e.enrolled?{color:"#0099CC"}:{color:"#006600"}}," ",e.capacity," "),l.a.createElement(t,{align:"right",style:e.capacity==e.enrolled?{color:"#0099CC"}:{color:"#006600"}}," ",e.enrolled," "))))))),l.a.createElement(Qe.a,null,l.a.createElement(De.a,{style:{color:"gray"},onClick:this.toggleModal},"Cancel"),l.a.createElement(De.a,{color:"primary",onClick:this.handleSaveCourseOfferings},"Save Changes")," ")),l.a.createElement(d.Row,{horizontal:"center",style:{margin:"20px"}},l.a.createElement("div",{className:e.root},l.a.createElement("div",{className:e.wrapper,ref:this.generatedRef},l.a.createElement(De.a,{variant:"contained",className:e.schedButton,disabled:this.state.loading||this.state.highCourses.length+this.state.lowCourses.length<=0,onClick:()=>this.createSchedInfo()},"Generate Schedule"),this.state.loading&&l.a.createElement(it.a,{size:24,className:e.buttonProgress})))),l.a.createElement($e.a,{isOpen:this.state.openModalWait,toggle:this.toggleModalWait,returnFocusAfterClose:!1,backdrop:!0,"data-keyboard":"false",centered:!0},l.a.createElement(Je.a,{toggle:this.toggleModalWait},l.a.createElement("center",null,l.a.createElement("br",null),l.a.createElement("p",null,"Please wait...In the process of making your schedule"),l.a.createElement(at.a,{type:"spin",color:"#9BCFB8",height:"10%",width:"10%"}))),l.a.createElement(Qe.a,null,l.a.createElement(De.a,{onClick:this.onCancel,style:{color:"gray"}},"Cancel")))),l.a.createElement("div",{className:"genSchedInfoContainer",style:this.state.hideGenContent?{display:"none"}:{margin:"40px"}},l.a.createElement("span",null,this.state.currentContent),l.a.createElement("div",{className:"paginationContainer"},l.a.createElement(L.a,{"aria-label":"Page navigation example",style:{justifyContent:"center"}},l.a.createElement(O.a,{disabled:this.state.currentPage<=0},l.a.createElement(M.a,{onClick:e=>this.handlePageChange(e,this.state.currentPage-1),previous:!0})),[...Array(this.state.pagesCount)].map((e,t)=>l.a.createElement(O.a,{active:t===this.state.currentPage,key:t,className:"paginationItemStyle"},l.a.createElement(M.a,{onClick:e=>this.handlePageChange(e,t),className:"paginationLinkStyle"},t+1))),l.a.createElement(O.a,{disabled:this.state.currentPage>=this.state.generatedContents.length-1},l.a.createElement(M.a,{onClick:e=>this.handlePageChange(e,this.state.currentPage+1),next:!0})))),l.a.createElement(d.Row,{horizontal:"center"},l.a.createElement("div",{className:e.root},l.a.createElement("div",{className:e.wrapper},l.a.createElement(De.a,{variant:"contained",className:e.schedButton,onClick:this.handleSaveChange,style:this.state.saveButtonStyle},this.state.saveButtonLabel),this.state.loading&&l.a.createElement(it.a,{size:24,className:e.buttonProgressSave})),l.a.createElement(Me.a,{open:this.state.snackBar,autoHideDuration:4e3,onClose:this.handleCloseSnackBar},l.a.createElement(ka,{onClose:this.handleCloseSnackBar,severity:"success"},"Your schedule have been successfully saved! ",l.a.createElement("a",{href:"/",style:{color:"#D3D3D3"}},"View in homepage")))))))):l.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh"}},l.a.createElement(at.a,{type:"spin",color:"#9BCFB8",height:"5%",width:"5%"})))}}var _a=Object(V.a)(e=>({root:{display:"flex",alignItems:"center"},wrapper:{margin:e.spacing(1),position:"relative"},buttonSuccess:{backgroundColor:ee.a[500],"&:hover":{backgroundColor:ee.a[700]}},buttonProgress:{position:"absolute",top:"65%",left:"50%",marginTop:-12,marginLeft:-12},buttonProgressSave:{position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},schedButton:{textTransform:"none",borderRadius:"25px",padding:"10px",paddingLeft:"30px",paddingRight:"30px",backgroundColor:"#16775D",border:"none",color:"white",boxShadow:"6px 5px #e8f4ea",borderStyle:"solid",borderColor:"#16775D",marginTop:"20px","&:hover":{backgroundColor:"white",color:"#16775D"}}}))(Na),Pa=a(461),Da=a(231),Ia=a.n(Da),Ba=a(902),Ra=a(925);function Ta(e){return l.a.createElement(dt.a,Object.assign({elevation:6,variant:"filled"},e))}Object(V.a)({root:{"&$checked":{color:ee.a[600]}},checked:{}})(e=>l.a.createElement(et.a,Object.assign({color:"default"},e))),Object(V.a)({root:{color:"white","&$checked":{color:"white"}},checked:{}})(e=>l.a.createElement(et.a,Object.assign({color:"default"},e)));class Fa extends s.Component{constructor(e){super(e),this.renderRedirect=()=>l.a.createElement(o.c,{to:"/coordinate_schedule/"+this.state.shareCode+"/"}),this.reload=()=>{window.location.reload()},this.saveCourses=()=>{},this.createTimeslot=(e,t,a)=>"M"==e?new Date(2018,5,25,t,a):"T"==e?new Date(2018,5,26,t,a):"W"==e?new Date(2018,5,27,t,a):"H"==e?new Date(2018,5,28,t,a):"F"==e?new Date(2018,5,29,t,a):"S"==e?new Date(2018,5,30,t,a):void 0,this.setSchedInfo=e=>{var t=e.map((e,t)=>l.a.createElement(Ca,{key:e.id,id:e.id,offerings:e.offerings,scheduleContent:e.scheduleContent,tableContent:e.tableContent,prefFriendContent:e.prefFriendContent,prefContent:e.prefContent,conflictsContent:e.conflictsContent,titleName:e.title,earliest:e.earliest,latest:e.latest,updateSchedTitle:this.updateSchedTitle}));return this.setState({currentPage:0}),this.setState({pagesCount:t.length}),t},this.updateSchedTitle=e=>{var t=[],a=this.state.currentContent,s=l.a.createElement(Ca,{key:a.props.id,earliest:a.props.earliest,latest:a.props.latest,id:a.props.id,offerings:a.props.offerings,scheduleContent:a.props.scheduleContent,tableContent:a.props.tableContent,prefContent:a.props.prefContent,conflictsContent:a.props.conflictsContent,titleName:e,updateSchedTitle:this.updateSchedTitle});this.state.generatedContents.map(e=>{e.key==this.state.currentContent.key?t.push(s):t.push(e)}),this.setState({generatedContents:t}),this.setState({currentContent:s})},this.handleScrollToGen=()=>{},this.handleSaveChange=()=>{if(this.state.savedScheds.includes(this.state.currentContent.key));else{this.setState({loading:!0});var e=[],t=localStorage.getItem("user_id");console.log(this.state.currentContent),this.state.currentContent.props.offerings.map(t=>{e.push(t.id)}),v.a.post("https://animosched-backend-backup.herokuapp.com/api/schedules/",{title:this.state.currentContent.props.titleName,courseOfferings:e,user:t}).then(e=>{}).catch(e=>{console.log(e.response)}),this.setState(e=>({savedScheds:e.savedScheds.concat(e.currentContent.key)})),this.setState({loading:!1}),this.setState({saveButtonLabel:"Saved"});this.setState({saveButtonStyle:{margin:"30px",backgroundColor:"white",color:"#16775D",borderStyle:"solid",borderColor:"#16775D"}}),this.setState({snackBar:!0})}},this.handleCloseSnackBar=(e,t)=>{"clickaway"!==t&&this.setState({snackBar:!1})},this.handleFilterFull=()=>{this.setState({filterFull:!this.state.filterFull})},this.handleCheckbox=e=>{this.setState(t=>{var a=t.siteData;return a[e].checked=!a[e].checked,localStorage.setItem(a[e].classNmbr,a[e].checked),{siteData:a}}),console.log(this.state.siteData[e])},this.handleAllCheckbox=()=>{this.setState(e=>{var t=e.siteData;return t.map(e=>{this.state.allCheckBox?e.checked=!1:e.checked=!0,localStorage.setItem(e.classNmbr,e.checked)}),{siteData:t}},()=>{this.setState({allCheckBox:!this.state.allCheckBox})})},this.handleCourseOfferingChange=(e,t)=>{this.setState({courseOfferings:t})},this.triggerModal=(e,t)=>{this.setState({siteData:t}),this.setState({allCheckBox:!1},()=>{this.state.siteData.map(e=>{e.checked&&this.setState({allCheckBox:!0})})}),this.setState({openModalCourseOfferings:!0}),this.setState({modalCourseName:e})},this.handleCloseModalCourseOfferings=()=>{this.setState({openModalCourseOfferings:!1})},this.handleOpenModalCourseOfferings=()=>{this.setState({openModalCourseOfferings:!0})},this.toggleModal=()=>{var e=this.state.openModalCourseOfferings;this.setState({openModalCourseOfferings:!e})},this.handleSaveCourseOfferings=()=>{console.log("Course Offerings changes saved"),this.setState({openModalCourseOfferings:!1})},this.toggleModalWait=()=>{var e=this.state.openModalWait;this.setState({openModalWait:!e})},this.onCopy=()=>{console.log("copied"),this.setState({copyLabel:"Copied!"},()=>{setTimeout(()=>{this.setState({copyLabel:"Copy link to clipboard"})},1e3)})},this.handlePageChange=(e,t)=>{if(this.setState(e=>({currentContent:this.state.friends[this.state.currentFriend][t]})),this.setState({currentPage:t}),this.setState(e=>({currentPage:t})),this.handleScrollToGen(),this.state.savedScheds.includes(this.state.friends[this.state.currentFriend].key)){this.setState({saveButtonLabel:"Saved"});this.setState({saveButtonStyle:{margin:"30px",backgroundColor:"white",color:"#16775D"}})}else{this.setState({saveButtonLabel:"Save Schedule"});this.setState({saveButtonStyle:{margin:"30px",backgroundColor:"#16775D",color:"white"}})}},this.handleTab=(e,t)=>{this.state.currentFriend!=t&&void 0!=t&&(this.setState({currentFriend:t}),console.log("handle tab"),console.log(t),this.setState(e=>({currentContent:e.friends[t][this.state.currentPage]})),this.handleScrollToGen())},this.tutorialDone=()=>{localStorage.setItem("stepsFriends",!1)},this.generatedRef=l.a.createRef(),this.handleScrollToGen=this.handleScrollToGen.bind(this),this.handleSaveChange=this.handleSaveChange.bind(this),this.state={value:"",courseList:[],currentPage:0,currentContent:"",currentCourse:"",generatedContents:[],pagesCount:1,searchedCourse:"",hideGenContent:!0,savedScheds:[],saveButtonLabel:"Save Schedule",saveButtonStyle:{margin:"30px"},AutoCompleteValue:[],schedules:[],dataReceived:!1,snackBar:!1,loading:!1,success:!1,courseAdded:!0,filterFull:!0,courseOfferings:[],openModalCourseOfferings:!1,modalCourseName:"",siteData:[],siteDataArray:[],allCheckBox:!0,skeletons:[...Array(8).keys()],openModalWait:!1,shareCode:"",redirect:!1,copyLabel:"Copy link to clipboard",friends:{},friendKeys:[]},void 0==localStorage.getItem("stepsFriends")&&localStorage.setItem("stepsFriends",!0)}componentDidMount(){localStorage.getItem("user_id");console.log(this.props),v.a.get("https://animosched-backend-backup.herokuapp.com/api/getsharecode/"+this.props.params.id+"/").then(e=>{console.log(e);var t={},a=Object.keys(e.data);a.map(a=>{console.log(a),console.log(e.data[a]);var s=[],l=0;e.data[a].map(e=>{this.setState({shareCode:e.shareCode}),console.log(e);var t=0,n=[],r=9,i=17;e.offerings.map(e=>{var a=e.timeslot_begin.split(":"),s=e.timeslot_end.split(":"),l={id:t,title:e.course+" "+e.section,section:e.section,startDate:this.createTimeslot(e.day,a[0],a[1]),endDate:this.createTimeslot(e.day,s[0],s[1]),priorityId:3,location:e.room,professor:e.faculty,startTime:e.timeslot_begin.substring(0,e.timeslot_begin.length-3),endTime:e.timeslot_end.substring(0,e.timeslot_end.length-3),days:e.day,classCode:e.classnumber};r>Number(a[0])&&(r=Number(a[0])),i<Number(s[0])+1&&(i=Number(s[0])+1),n.push(l);var o,c,d,h,m,u,p,g,E,f;o=e.day,c=e.classnumber,d=e.course,h=e.section,m=e.faculty,u=e.timeslot_begin,p=e.timeslot_end,g=e.room,E=e.max_enrolled,f=e.current_enrolled;this.createData(c,d,h,m,o,u,p,g,E,f);t+=1}),l+=1,s.push({id:l,title:"Schedule "+l.toString(),scheduleContent:n,tableContent:[],prefContent:[],prefContent:e.preferences,prefFriendContent:e.friendPreferences,conflictsContent:e.information,earliest:r,latest:i,offerings:e.offerings,key:a})}),t[a]=this.setSchedInfo(s)}),console.log(t),console.log(a),this.setState({friends:t,friendKeys:a,currentContent:t[a[0]][0],currentFriend:a[0]},()=>{this.setState({success:!0}),this.setState({loading:!1}),this.setState({dataReceived:!0})}),this.toggleModalWait()}).catch(e=>{console.log(e),this.setState({success:!1}),this.setState({loading:!1}),this.toggleModalWait()})}componentDidUpdate(e,t){t.generatedContents!==this.state.generatedContents&&(this.handleScrollToGen(),t.generatedContents=this.state.generatedContents)}createData(e,t,a,s,l,n,r,i,o,c,d){return{classNmbr:e,course:t,section:a,faculty:s,day:l,startTime:n,endTime:r,room:i,capacity:o,enrolled:c,checked:d}}render(){this.props.search_field;var e=this.props.classes,t=(Object(V.a)(e=>({head:{backgroundColor:"#006A4E",color:e.palette.common.white},body:{fontSize:14,borderBottom:"1px solid white"}}))(ie.a),Object(V.a)(e=>({root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default}}}))(oe.a),"https://animosched.live/coordinate_schedule/"+this.state.shareCode+"/");return l.a.createElement("div",null,l.a.createElement("div",{class:"header",style:{backgroundColor:"#006A4E",padding:"10px"}},l.a.createElement("a",{className:"backBtn",href:"/view_friends"},l.a.createElement("div",{className:"backBtn",style:{marginTop:"5px"}}),l.a.createElement(_t.a,{fontSize:"large",className:e.backBtn,viewBox:"0 0 1 24"})," ",l.a.createElement("span",{className:"backBtn"},"Back")),l.a.createElement("div",{style:{color:"white"}},l.a.createElement("center",null,l.a.createElement("h5",null,"FIRST TRIMESTER, AY 2020 - 2021")))),this.state.dataReceived?l.a.createElement("div",null,l.a.createElement(ze.Steps,{enabled:"true"==localStorage.getItem("stepsFriends"),steps:[{intro:"Welcome to coordinate schedule! This is where you can find new schedules generated by the system."},{element:"#friendList",intro:"The generated schedules consider the preferences of the friends listed, and matched possible classes that can be taken by friends together."},{element:"#friendVariations",intro:"Here you can see what schedule each friend will have per schedule variation."},{element:"#multipleVariations",intro:"There are multiple schedule variations you can choose from."},{element:"#save",intro:"Saving a schedule here will save it to your own saved schedules."},{element:"#copy",intro:"Here you can copy and share these coordinated schedules."},{intro:"Decide on a schedule variation with your friends!"}],initialStep:0,onExit:this.tutorialDone,onComplete:this.tutorialDone}),l.a.createElement("div",null,l.a.createElement(d.Column,{flexGrow:1,style:{margin:"40px"}},l.a.createElement("center",null,l.a.createElement("h5",null,"Share with friends:",l.a.createElement(Pa.CopyToClipboard,{id:"copy",text:t,onCopy:this.onCopy},l.a.createElement(De.a,{variant:"outlined",startIcon:l.a.createElement(Ia.a,null)},this.state.copyLabel)))),l.a.createElement("center",null,l.a.createElement("h6",null,l.a.createElement("span",{id:"friendList"},"Coordinated schedules of: ",this.state.friendKeys.map((e,t)=>l.a.createElement("span",null,t+1!=this.state.friendKeys.length?e+", ":e)))),l.a.createElement("div",{style:{marginTop:"30px"}},l.a.createElement(Ra.a,{id:"friendVariations",value:this.state.currentFriend,exclusive:!0,onChange:this.handleTab,"aria-label":"text alignment"},this.state.friendKeys.map(e=>l.a.createElement(Ba.a,{value:e,"aria-label":"centered"},e))))),l.a.createElement("div",{className:"genSchedInfoContainer",style:{margin:"40px"}},l.a.createElement("span",null,this.state.currentContent),l.a.createElement("div",{className:"paginationContainer"},l.a.createElement(L.a,{"aria-label":"Page navigation example",style:{justifyContent:"center"}},l.a.createElement(O.a,{disabled:this.state.currentPage<=0},l.a.createElement(M.a,{onClick:e=>this.handlePageChange(e,this.state.currentPage-1),previous:!0})),[...Array(this.state.pagesCount)].map((e,t)=>l.a.createElement(O.a,{id:"multipleVariations",active:t===this.state.currentPage,key:t,className:"paginationItemStyle"},l.a.createElement(M.a,{onClick:e=>this.handlePageChange(e,t),className:"paginationLinkStyle"},t+1))),l.a.createElement(O.a,{disabled:this.state.currentPage>=this.state.friends[this.state.currentFriend].length-1},l.a.createElement(M.a,{onClick:e=>this.handlePageChange(e,this.state.currentPage+1),next:!0})))),l.a.createElement(d.Row,{horizontal:"center"},l.a.createElement("div",{className:e.root},l.a.createElement("div",{className:e.wrapper},l.a.createElement(De.a,{id:"save",variant:"contained",className:e.schedButton,onClick:this.handleSaveChange,style:this.state.saveButtonStyle},this.state.saveButtonLabel),this.state.loading&&l.a.createElement(it.a,{size:24,className:e.buttonProgressSave})),l.a.createElement(Me.a,{open:this.state.snackBar,autoHideDuration:4e3,onClose:this.handleCloseSnackBar},l.a.createElement(Ta,{onClose:this.handleCloseSnackBar,severity:"success"},"Your schedule have been successfully saved! ",l.a.createElement("a",{href:"/",style:{color:"#D3D3D3"}},"View in homepage"))))))))):l.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh"}},l.a.createElement(at.a,{type:"spin",color:"#9BCFB8",height:"5%",width:"5%"}),l.a.createElement("div",{className:"courseInputContainer"},l.a.createElement($e.a,{isOpen:!this.state.dataReceived,returnFocusAfterClose:!1,backdrop:!0,"data-keyboard":"false",centered:!0},l.a.createElement(Je.a,null,l.a.createElement("center",null,l.a.createElement("br",null),l.a.createElement("p",null,"Please wait...In the process of loading your schedules"),l.a.createElement(at.a,{type:"spin",color:"#9BCFB8",height:"10%",width:"10%"}))),l.a.createElement(Qe.a,null,l.a.createElement(De.a,{style:{color:"gray"}},"Cancel"))))))}}var La=Object(V.a)(e=>({root:{display:"flex",alignItems:"center"},wrapper:{margin:e.spacing(1),position:"relative"},buttonSuccess:{backgroundColor:ee.a[500],"&:hover":{backgroundColor:ee.a[700]}},buttonProgress:{position:"absolute",top:"65%",left:"50%",marginTop:-12,marginLeft:-12},buttonProgressSave:{position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},schedButton:{textTransform:"none",borderRadius:"25px",padding:"10px",paddingLeft:"30px",paddingRight:"30px",backgroundColor:"#16775D",border:"none",color:"white",boxShadow:"6px 5px #e8f4ea",borderStyle:"solid",borderColor:"#16775D",marginTop:"20px","&:hover":{backgroundColor:"white",color:"#16775D"}}}))(Fa),Oa=(a(295),a(820)),Ma=a(109),Aa=a.n(Ma),ja=Object(V.a)({root:{"&$checked":{color:ee.a[600]}},checked:{}})(e=>l.a.createElement(et.a,Object.assign({color:"default"},e)));function za(e){return l.a.createElement(dt.a,Object.assign({elevation:6,variant:"filled"},e))}class qa extends s.Component{constructor(e){super(e),this.handleCloseModalHelp=()=>{this.setState({openModalHelp:!1})},this.handleOpenModalHelp=()=>{this.setState({openModalHelp:!0})},this.toggleModal=()=>{var e=this.state.openModalHelp;this.setState({openModalHelp:!e})},this.handleProfPrefChange=(e,t)=>{var a=this.state.profList;this.state.selectedProfs.map(e=>{t.includes(e)||a.push(e)}),this.setState({selectedProfs:t,profList:a})},this.handleProfPrefPress=e=>{var t=this.state.selectedProfs;if("Enter"===e.key){var a=[];void 0!=t&&(this.state.profList.map(e=>{e.id!=t.id&&a.push(e)}),this.setState({profList:a}),console.log(e.target))}},this.handleSectionPrefChange=(e,t)=>{this.setState({selectedSections:t})},this.handleSectionPrefPress=e=>{var t=this.state.selectedProfs;if("Enter"===e.key){var a=[];void 0!=t&&(this.state.profList.map(e=>{e.id!=t.id&&a.push(e)}),this.setState({profList:a}),console.log(e.target))}},this.handleDateChange=e=>{this.setState({selectedDate:e})},this.handleDayChange=e=>{var t=[...this.state.daysList];t.map(t=>{t.id===Number(e.target.id)&&(t.checked=e.target.checked)}),this.setState({daysList:t})},this.handleBreakChange=e=>{this.setState({break_length:e.target.value})},this.handleBuildingChange=e=>{var t=[...this.state.buildingList];t.map(t=>{t.id===Number(e.target.id)&&(t.checked=e.target.checked)}),this.setState({buildingList:t})},this.handleEarliestChange=e=>{this.setState({earliest_class_time:e.target.value}),console.log(this.state)},this.handleLatestChange=e=>{this.setState({latest_class_time:e.target.value})},this.handleMinCourseChange=e=>{this.setState({min_courses:e.target.value})},this.handleMaxCourseChange=e=>{this.setState({max_courses:e.target.value})},this.handleSave=()=>{this.setState({dataSaved:!0});var e=localStorage.getItem("user_id");v.a.delete("https://animosched-backend-backup.herokuapp.com/api/preferencelist/"+e+"/").then(t=>{console.log(this.state.daysList),this.state.daysList.map(t=>{t.checked&&v.a.post("https://animosched-backend-backup.herokuapp.com/api/preferences/",{preferred_days:t.id,user:e},{headers:{"Content-Type":"application/json"}}).catch(e=>{console.log(e.response)})}),console.log(this.state.buildingList),this.state.buildingList.map(t=>{t.checked&&v.a.post("https://animosched-backend-backup.herokuapp.com/api/preferences/",{preferred_buildings:t.id,user:e},{headers:{"Content-Type":"application/json"}}).catch(e=>{console.log(e.response)})}),this.state.selectedProfs.map(t=>{console.log(t),v.a.post("https://animosched-backend-backup.herokuapp.com/api/preferences/",{preferred_faculty:t.id,user:e},{headers:{"Content-Type":"application/json"}}).catch(e=>{console.log(e.response)})}),this.state.selectedSections.map(t=>{console.log(t),v.a.post("https://animosched-backend-backup.herokuapp.com/api/preferences/",{preferred_sections:t.section_code,user:e},{headers:{"Content-Type":"application/json"}}).catch(e=>{console.log(e.response)})});var a={earliest_class_time:this.state.earliest_class_time,latest_class_time:this.state.latest_class_time,break_length:this.state.break_length,min_courses:this.state.min_courses,max_courses:this.state.max_courses,user:e};v.a.post("https://animosched-backend-backup.herokuapp.com/api/preferences/",a,{headers:{"Content-Type":"application/json"}}).then(e=>{this.setState({dataSaved:!1})}).catch(e=>{console.log(e.response)})}).catch(e=>{console.log(e.response)}),this.setState({savedPrefBar:!0})},this.handleCloseSaveBar=(e,t)=>{"clickaway"!==t&&this.setState({savedPrefBar:!1})},this.state={openModalHelp:!1,savedPrefBar:!1,earliest_class_time:"07:30",latest_class_time:"21:00",break_length:15,min_courses:0,max_courses:10,dataReceived:!1,dataSaved:!1,selectedProfs:[],profList:[],selectedSections:[],sectionList:[{id:0,section_code:"C",college:"College of Business"},{id:1,section_code:"K",college:"College of Business"},{id:2,section_code:"S",college:"College of Computer Studies"},{id:3,section_code:"L",college:"College of Education"},{id:4,section_code:"E",college:"College of Engineering"},{id:5,section_code:"A",college:"College of Liberal Arts"},{id:6,section_code:"N",college:"College of Science"},{id:11,section_code:"M",college:"College of Science"},{id:8,section_code:"M",college:"College of Education"},{id:7,section_code:"V",college:"School of Economics"},{id:9,section_code:"X",college:"STC Campus"},{id:10,section_code:"G",college:"Graduate Sections"}],selectedDate:"",daysList:[{id:1,day_code:"M",day:"Monday",checked:!1},{id:2,day_code:"T",day:"Tuesday",checked:!1},{id:3,day_code:"W",day:"Wednesday",checked:!1},{id:4,day_code:"H",day:"Thursday",checked:!1},{id:5,day_code:"F",day:"Friday",checked:!1},{id:6,day_code:"S",day:"Saturday",checked:!1}],buildingList:[{id:2,bldg_code:"LS",building:"St. La Salle Hall",checked:!1},{id:3,bldg_code:"Y",building:"Enrique Yuchengco Hall",checked:!1},{id:4,bldg_code:"J",building:"St. Joseph Hall",checked:!1},{id:5,bldg_code:"V",building:"Velasco Hall",checked:!1},{id:6,bldg_code:"M",building:"St. Miguel Hall",checked:!1},{id:7,bldg_code:"MU",building:"St. Mutien Marie Hall",checked:!1},{id:1,bldg_code:"GK",building:"Gokongwei Hall",checked:!1},{id:8,bldg_code:"A",building:"Br. Andrew Gonzales Hall",checked:!1}],breakOptions:[{option:"08:00 - 09:00",value:15},{option:"09:00 - 10:00",value:30},{option:"10:00 - 11:00",value:45},{option:"11:00 - 12:00",value:60},{option:"12:00 - 13:00",value:120},{option:"13:00 - 14:00",value:160},{option:"14:00 - 15:00",value:180},{option:"15:00 - 16:00",value:240},{option:"16:00 - 17:00",value:300},{option:"17:00 - 18:00",value:360}]}}componentDidMount(){var e=localStorage.getItem("user_id");v.a.get("https://animosched-backend-backup.herokuapp.com/api/faculty/").then(e=>{e.data.map(e=>{var t={id:e.id,profName:e.full_name};this.setState(e=>{var a=e.profList;return a.push(t),{profList:a}})})}),v.a.get("https://animosched-backend-backup.herokuapp.com/api/preferencelist/"+e+"/").then(e=>{console.log(e.data),e.data.map(e=>{if(null!=e.earliest_class_time&&this.setState({earliest_class_time:e.earliest_class_time}),null!=e.latest_class_time&&this.setState({latest_class_time:e.latest_class_time}),null!=e.preferred_days){var t=[];this.state.daysList.map(a=>{e.preferred_days==a.id?t.push({id:a.id,day_code:a.day_code,day:a.day,checked:!0}):t.push(a)}),this.setState({daysList:t})}if(null!=e.break_length&&this.setState({break_length:e.break_length}),null!=e.min_courses&&this.setState({min_courses:e.min_courses}),null!=e.max_courses&&this.setState({max_courses:e.max_courses}),null!=e.preferred_faculty){var a=this.state.selectedProfs,s={id:e.preferred_faculty.id,profName:e.preferred_faculty.full_name};a.push(s),this.setState({selectedProfs:a});var l=[];this.state.profList.map(e=>{e.profName!=s.profName&&l.push(e)}),this.setState({profList:l})}if(null!=e.preferred_buildings){var n=[];this.state.buildingList.map(t=>{e.preferred_buildings==t.id?n.push({id:t.id,bldg_code:t.bldg_code,building:t.building,checked:!0}):n.push(t)}),this.setState({buildingList:n})}if(null!=e.preferred_sections){var r=this.state.selectedSections,i=e.preferred_sections;this.state.sectionList.map(e=>{e.section_code==i&&r.push(e)}),this.setState({selectedSections:r})}}),this.setState({dataReceived:!0})})}render(){var e=this.props.classes,t=this.state.profList.map(e=>{var t=e.profName[0].toUpperCase();return Object(A.a)({firstLetter:/[0-9]/.test(t)?"0-9":t},e)});this.state.sectionList.map(e=>{var t=e.section_code.toUpperCase();return Object(A.a)({firstLetter:/[0-9]/.test(t)?"0-9":t},e)});return l.a.createElement("div",null,this.props.menu("preferences"),l.a.createElement($e.a,{isOpen:this.state.openModalHelp,toggle:this.toggleModal,returnFocusAfterClose:!1,backdrop:!0,"data-keyboard":"false"},l.a.createElement(Je.a,{toggle:this.toggleModal},l.a.createElement("h4",null,"Preferences")),l.a.createElement(Xe.a,null,l.a.createElement("p",null,"Adding your preferences will help our system identify the schedules that best suit you among all possible schedules. Take note that this will not necessarily guarantee that all your preferences will be satisfied, as taking into account the courses you need is our upmost priority."))),l.a.createElement(Me.a,{open:this.state.savedPrefBar,autoHideDuration:4e3,onClose:this.handleCloseSaveBar},l.a.createElement(za,{onClose:this.handleCloseSaveBar,severity:"success"},"Your preferences have been successfully saved!")),this.state.dataReceived?l.a.createElement("div",{className:"preference-category"},l.a.createElement("div",null),l.a.createElement("div",{className:"timePreferences"},l.a.createElement("h2",null,"Time Preferences",l.a.createElement(Oa.a,{"aria-label":"help",onClick:()=>this.handleOpenModalHelp()},l.a.createElement(Aa.a,null))),l.a.createElement("div",{className:"preference-category-content"},l.a.createElement(Pt.a,{xs:"2"},l.a.createElement(Dt.a,null,l.a.createElement("form",{className:"timeContainer",noValidate:!0},l.a.createElement(_.a,{id:"time",label:"No Classes Before",type:"time",value:this.state.earliest_class_time,className:"earliestTimeField",onChange:this.handleEarliestChange,InputLabelProps:{shrink:!0},inputProps:{step:900},style:{width:200}}))),l.a.createElement(Dt.a,null,l.a.createElement("form",{className:"timeContainer",noValidate:!0},l.a.createElement(_.a,{id:"time",label:"No Classes After",type:"time",value:this.state.latest_class_time,className:"lastestTimeField",onChange:this.handleLatestChange,InputLabelProps:{shrink:!0},inputProps:{step:300},style:{width:200}})))),l.a.createElement("br",null),l.a.createElement("div",{className:"days-preference"},l.a.createElement("div",{className:"subheader"},"Preferred Days"),l.a.createElement(Xt.a,{row:!0},l.a.createElement(Qt.a,{control:l.a.createElement(ja,{checked:this.state.daysList[0].checked,onChange:this.handleDayChange,id:this.state.daysList[0].id,color:"primary"}),label:"M"}),l.a.createElement(Qt.a,{control:l.a.createElement(ja,{checked:this.state.daysList[1].checked,onChange:this.handleDayChange,id:this.state.daysList[1].id,color:"primary"}),label:"T"}),l.a.createElement(Qt.a,{control:l.a.createElement(ja,{checked:this.state.daysList[2].checked,onChange:this.handleDayChange,id:this.state.daysList[2].id,color:"primary"}),label:"W"}),l.a.createElement(Qt.a,{control:l.a.createElement(ja,{checked:this.state.daysList[3].checked,onChange:this.handleDayChange,id:this.state.daysList[3].id,color:"primary"}),label:"H"}),l.a.createElement(Qt.a,{control:l.a.createElement(ja,{checked:this.state.daysList[4].checked,onChange:this.handleDayChange,id:this.state.daysList[4].id,color:"primary"}),label:"F"}),l.a.createElement(Qt.a,{control:l.a.createElement(ja,{checked:this.state.daysList[5].checked,onChange:this.handleDayChange,id:this.state.daysList[5].id,color:"primary"}),label:"S"}))),l.a.createElement("br",null),l.a.createElement("div",{className:"break-preference"},l.a.createElement(_.a,{id:"outlined-select-break",select:!0,label:"Preferred Break Time",onChange:this.handleBreakChange,value:null==this.state.break_length?120:this.state.break_length,helperText:"Please select your preferred break time",variant:"outlined",autoWidth:!0},this.state.breakOptions.map(e=>l.a.createElement(Ze.a,{key:e.value,value:e.value},e.option)))))),l.a.createElement("div",{className:"workloadPreferences"},l.a.createElement("h2",null,"Workload Preferences",l.a.createElement(Oa.a,{"aria-label":"help",onClick:()=>this.handleOpenModalHelp()},l.a.createElement(Aa.a,null))),l.a.createElement("div",{className:"preference-category-content"},l.a.createElement("br",null),l.a.createElement(Pt.a,{xs:"2"},l.a.createElement(Dt.a,null,l.a.createElement(_.a,{className:"workload-field",id:"min-courses",value:this.state.min_courses,label:"Minimum Courses per Day",onChange:this.handleMinCourseChange,type:"number",InputLabelProps:{shrink:!0},placeholder:"0",size:"medium",inputProps:{min:0,max:10}})),l.a.createElement(Dt.a,null,l.a.createElement(_.a,{className:"workload-field",id:"max-courses",value:this.state.max_courses,label:"Maximum Courses per Day",onChange:this.handleMaxCourseChange,type:"number",InputLabelProps:{shrink:!0},placeholder:"0",inputProps:{min:0,max:10}}))))),l.a.createElement("div",{className:"classDetails"},l.a.createElement("h2",null,"Class Details",l.a.createElement(Oa.a,{"aria-label":"help",onClick:()=>this.handleOpenModalHelp()},l.a.createElement(Aa.a,null))),l.a.createElement("div",{className:"preference-category-content"},l.a.createElement("div",{className:"professor-preference"},l.a.createElement("div",{className:"subheader"},"Faculty Preferences"),l.a.createElement(rt.a,{multiple:!0,id:"tags-outlined",options:t.sort((e,t)=>-t.firstLetter.localeCompare(e.firstLetter)),defaultValue:this.state.selectedProfs,groupBy:e=>e.firstLetter,getOptionLabel:e=>e.profName,filterSelectedOptions:!0,renderInput:e=>l.a.createElement(_.a,Object.assign({},e,{variant:"outlined"})),onChange:this.handleProfPrefChange})),l.a.createElement("div",{className:"building-preference"},l.a.createElement("div",{className:"subheader"},"Building Preferences"),l.a.createElement(K.a,{container:!0,spacing:6},l.a.createElement(K.a,{item:!0,xs:6},l.a.createElement(Xt.a,null,l.a.createElement(Qt.a,{control:l.a.createElement(ja,{checked:this.state.buildingList[0].checked,onChange:this.handleBuildingChange,id:this.state.buildingList[0].id,color:"primary"}),label:this.state.buildingList[0].building}),l.a.createElement(Qt.a,{control:l.a.createElement(ja,{checked:this.state.buildingList[1].checked,onChange:this.handleBuildingChange,id:this.state.buildingList[1].id,color:"primary"}),label:this.state.buildingList[1].building}),l.a.createElement(Qt.a,{control:l.a.createElement(ja,{checked:this.state.buildingList[2].checked,onChange:this.handleBuildingChange,id:this.state.buildingList[2].id,color:"primary"}),label:this.state.buildingList[2].building}),l.a.createElement(Qt.a,{control:l.a.createElement(ja,{checked:this.state.buildingList[3].checked,onChange:this.handleBuildingChange,id:this.state.buildingList[3].id,color:"primary"}),label:this.state.buildingList[3].building}))),l.a.createElement(K.a,{item:!0,xs:6},l.a.createElement(Xt.a,null,l.a.createElement(Qt.a,{control:l.a.createElement(ja,{checked:this.state.buildingList[4].checked,onChange:this.handleBuildingChange,id:this.state.buildingList[4].id,color:"primary"}),label:this.state.buildingList[4].building}),l.a.createElement(Qt.a,{control:l.a.createElement(ja,{checked:this.state.buildingList[5].checked,onChange:this.handleBuildingChange,id:this.state.buildingList[5].id,color:"primary"}),label:this.state.buildingList[5].building}),l.a.createElement(Qt.a,{control:l.a.createElement(ja,{checked:this.state.buildingList[6].checked,onChange:this.handleBuildingChange,id:this.state.buildingList[6].id,color:"primary"}),label:this.state.buildingList[6].building}),l.a.createElement(Qt.a,{control:l.a.createElement(ja,{checked:this.state.buildingList[7].checked,onChange:this.handleBuildingChange,id:this.state.buildingList[7].id,color:"primary"}),label:this.state.buildingList[7].building}))))),l.a.createElement("div",{className:"section-preference"},l.a.createElement("div",{className:"subheader"},"Section Preferences"),l.a.createElement(rt.a,{multiple:!0,id:"tags-outlined",options:this.state.sectionList,defaultValue:this.state.selectedSections,groupBy:e=>e.college,getOptionLabel:e=>e.section_code,filterSelectedOptions:!0,renderInput:e=>l.a.createElement(_.a,Object.assign({},e,{variant:"outlined"})),onChange:this.handleSectionPrefChange}))))):l.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"90vh"}},l.a.createElement(at.a,{type:"spin",color:"#9BCFB8",height:"5%",width:"5%"})),this.state.dataSaved?l.a.createElement("center",null,l.a.createElement(De.a,{variant:"contained",className:e.buttonStyle,onClick:this.handleSave,disabled:!0},"Save Preferences")):l.a.createElement("center",null,l.a.createElement(De.a,{variant:"contained",className:e.buttonStyle,onClick:this.handleSave},"Save Preferences")))}}var Ha=Object(V.a)(e=>({homeButton:{color:"green",marginLeft:"10px","&:hover":{color:"#79c879"}},iconStyle:{margin:"10px","&:hover":{color:ee.a[500]}},buttonStyle:{marginBottom:"50px",textTransform:"none",width:"160px",borderRadius:"25px",padding:"10px",paddingLeft:"10px",paddingRight:"10px",backgroundColor:"#16775D",border:"none",color:"white",boxShadow:"6px 5px #e8f4ea",borderStyle:"solid",borderColor:"#16775D",marginTop:"20px",justifyContent:"center","&:hover":{backgroundColor:"white",color:"#16775D"}}}))(qa),Ua=a(914),Va=a(886),Wa=a(869),Ga=a(155),Ka=a.n(Ga),Ya=a(903),$a=Object(V.a)({root:{"&$checked":{color:ee.a[600]}},checked:{}})(e=>l.a.createElement(Ua.a,Object.assign({color:"default"},e))),Ja=Object(V.a)({switchBase:{"&$checked":{color:ee.a[600]},"&$checked + $track":{backgroundColor:ee.a[600]}},checked:{},track:{}})(Ya.a);class Xa extends s.Component{constructor(e){super(e),this.handleChange=(e,t)=>{var a=this.state.fields;a[e]=t.target.value,this.setState({fields:a})},this.setFilter=()=>{var e=this.state.radioVal,t=[];if("all"==e){var a=(t=this.state.allSiteData).reduce((e,{classNmbr:t,course:a,section:s,faculty:l,day:n,startTime:r,endTime:i,room:o,capacity:c,enrolled:d})=>(e[a]||(e[a]=[]),e[a].push({classNmbr:t,course:a,section:s,faculty:l,day:n,startTime:r,endTime:i,room:o,capacity:c,enrolled:d}),e),{});this.setState({siteData:t,testGroupedData:a},()=>{})}else if("open"==e){for(l=0;l<this.state.allSiteData.length;l++)this.state.allSiteData[l].enrolled<this.state.allSiteData[l].capacity&&t.push(this.state.allSiteData[l]);var s=t.reduce((e,{classNmbr:t,course:a,section:s,faculty:l,day:n,startTime:r,endTime:i,room:o,capacity:c,enrolled:d})=>(e[a]||(e[a]=[]),e[a].push({classNmbr:t,course:a,section:s,faculty:l,day:n,startTime:r,endTime:i,room:o,capacity:c,enrolled:d}),e),{});console.log("GROUPED IN OPEN"),console.log(s),this.setState({siteData:t,testGroupedData:s})}else{var l;for(l=0;l<this.state.allSiteData.length;l++)this.state.allSiteData[l].enrolled>=this.state.allSiteData[l].capacity&&t.push(this.state.allSiteData[l]);var n=t.reduce((e,{classNmbr:t,course:a,section:s,faculty:l,day:n,startTime:r,endTime:i,room:o,capacity:c,enrolled:d})=>(e[a]||(e[a]=[]),e[a].push({classNmbr:t,course:a,section:s,faculty:l,day:n,startTime:r,endTime:i,room:o,capacity:c,enrolled:d}),e),{});console.log("GROUPED IN CLOSED"),console.log(n),this.setState({siteData:t,testGroupedData:n})}},this.handleFilter=(e,t)=>{this.setState({radioVal:t.target.value},()=>{this.setFilter()})},this.searchCourses=()=>{this.state.selectedCourses.length>0&&(this.setState({siteData:[]}),this.setState({showPlaceholder:!1},()=>{this.setState({loading:!0})}));var e=[];this.state.selectedCourses.map(t=>{e.push(t.id);var a=this.state.courseInfo;v.a.get("https://animosched-backend-backup.herokuapp.com/api/courseinfo/"+t.id).then(e=>{a[t.course_code]=e.data,this.setState({courseInfo:a})})}),v.a.post("https://animosched-backend-backup.herokuapp.com/api/courseofferingslist/",{courses:e,applyPreference:this.state.applyPreference,user_id:localStorage.getItem("user_id")}).then(e=>{var t=[];e.data.map(e=>{var a=Be()(e,"classnumber");for(var s in a){var l=[],n="",r="",i="",o="",c="",d="",h="",m="",u="",p="";a[s].map(e=>{l.push(e.day),r=e.classnumber,i=e.course,o=e.section,c=e.faculty,d=e.timeslot_begin.substring(0,e.timeslot_begin.length-3),h=e.timeslot_end.substring(0,e.timeslot_end.length-3),m=e.room,u=e.max_enrolled,p=e.current_enrolled}),l.map(e=>{n+=e});var g=this.createData(r,i,o,c,n,d,h,m,u,p);t.push(g)}}),this.setState({siteData:t,allSiteData:t},()=>{console.log(this.state.siteData),this.setFilter(),this.setState({loading:!1})})}).catch(e=>{console.log(e.response)})},this.handleSearch=(e,t)=>{this.state.selectedCourses=t,localStorage.setItem("selectedCourses",JSON.stringify(t))},this.handleSearchPress=e=>{this.state.currentCourse;"Enter"===e.key&&this.searchCourses()},this.handleClick=(e,t)=>a=>{console.log("You clicked on row with id ".concat(e,", in column ").concat(t,"."))},this.handleCloseModalCourseInfo=()=>{this.setState({openModalCourseInfo:!1})},this.handleOpenModalCourseInfo=(e,t,a)=>{this.setState({courseCode:e,courseName:t,courseUnits:a},()=>{console.log(this.state.courseInfo[this.state.courseCode].course_code)}),this.setState({openModalCourseInfo:!0})},this.handleApplyPreference=()=>{this.setState({applyPreference:!this.state.applyPreference})},this.toggleModal=()=>{var e=this.state.openModalCourseInfo;this.setState({openModalCourseInfo:!e})},this.state={fields:{},database:[],siteData:[],allSiteData:[],selectedCourses:[],loading:!1,radioVal:"all",dataReceived:!1,skeletons:[...Array(8).keys()],rowStyle:"",openModalCourseInfo:!1,showPlaceholder:!0,applyPreference:!1,noResults:!1,testGroupedData:[],courseInfo:{}},this.radioRef=l.a.createRef()}componentDidMount(){var e=JSON.parse(localStorage.getItem("selectedCourses"));null!=e&&this.setState({selectedCourses:e}),this.setState({dataReceived:!0})}createData(e,t,a,s,l,n,r,i,o,c){return{classNmbr:e,course:t,section:a,faculty:s,day:l,startTime:n,endTime:r,room:i,capacity:o,enrolled:c}}render(){var e=this.props.classes,t=Object(V.a)(e=>({head:{backgroundColor:"#006A4E",color:e.palette.common.white},body:{fontSize:14,borderBottom:"1px solid white"}}))(ie.a),a=Object(V.a)(e=>({root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default},"&:hover":{backgroundColor:"#efefef"}}}))(oe.a),s=e=>this.state.siteData.length>0&&void 0!=this.state.testGroupedData[e]?l.a.createElement(de.a,null,this.state.testGroupedData[e].map(e=>l.a.createElement(ha.a,{title:"More Details",placement:"bottom"},l.a.createElement(a,{key:e.classNmbr,onClick:()=>this.handleOpenModalCourseInfo(e.course,"","3"),style:{cursor:"pointer"}},l.a.createElement(t,{style:e.capacity<=e.enrolled?{color:"#0099CC"}:{color:"#006600"}}," ",e.classNmbr," "),l.a.createElement(t,{style:e.capacity<=e.enrolled?{color:"#0099CC"}:{color:"#006600"}}," ",e.course," "),l.a.createElement(t,{style:e.capacity<=e.enrolled?{color:"#0099CC"}:{color:"#006600"}}," ",e.section," "),l.a.createElement(t,{style:e.capacity<=e.enrolled?{color:"#0099CC"}:{color:"#006600"}}," ",e.faculty," "),l.a.createElement(t,{style:e.capacity<=e.enrolled?{color:"#0099CC"}:{color:"#006600"}}," ",e.day," "),l.a.createElement(t,{style:e.capacity<=e.enrolled?{color:"#0099CC"}:{color:"#006600"}}," ",e.startTime," - ",e.endTime," "),l.a.createElement(t,{style:e.capacity<=e.enrolled?{color:"#0099CC"}:{color:"#006600"}}," ",e.room," "),l.a.createElement(t,{align:"right",style:e.capacity<=e.enrolled?{color:"#0099CC"}:{color:"#006600"}}," ",e.capacity," "),l.a.createElement(t,{align:"right",style:e.capacity<=e.enrolled?{color:"#0099CC"}:{color:"#006600"}}," ",e.enrolled," "))))):l.a.createElement(de.a,null,l.a.createElement(a,null,l.a.createElement(t,{colSpan:9},l.a.createElement("center",null,l.a.createElement("p",null,"No available course offerings.")))));return l.a.createElement("div",null,this.props.menu("search_courses"),this.state.dataReceived?l.a.createElement("div",{className:"search-container"},l.a.createElement("div",{className:"searchBar"},l.a.createElement("h2",null,"Search all your courses in one go!"),l.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},l.a.createElement("div",{className:"barArea"},l.a.createElement(ct,{style:{width:"-webkit-fill-available"},page:"search",onChange:this.handleSearch,onKeyPress:this.handleSearchPress,defaultValue:this.state.selectedCourses})),l.a.createElement("div",{className:e.root},l.a.createElement("div",{className:e.wrapper},l.a.createElement(De.a,{variant:"contained",color:"Primary",disabled:this.state.loading,style:{backgroundColor:"green",color:"white",height:"55px"},onClick:this.searchCourses},l.a.createElement(lt.a,null)),this.state.loading&&l.a.createElement(it.a,{size:24,className:e.buttonProgress}))))),l.a.createElement("div",{className:"filters"},l.a.createElement("center",null,l.a.createElement(Wa.a,{component:"fieldset"},l.a.createElement(Va.a,{ref:this.radioRef,row:!0,"aria-label":"filter",name:"filter",onChange:this.handleFilter.bind(this,"filter"),value:this.state.radioVal},l.a.createElement(Qt.a,{value:"all",control:l.a.createElement($a,null),label:"All Sections"}),l.a.createElement(Qt.a,{value:"open",control:l.a.createElement($a,null),label:"Open Sections"}),l.a.createElement(Qt.a,{value:"closed",control:l.a.createElement($a,null),label:"Closed Sections"}))))),l.a.createElement("div",null,l.a.createElement("center",null,l.a.createElement(Wa.a,{component:"fieldset"},l.a.createElement(Qt.a,{value:"closed",control:l.a.createElement(Ja,{checked:this.state.applyPreference,onChange:this.handleApplyPreference,color:"primary",name:"checkedB",inputProps:{"aria-label":"primary checkbox"}}),label:"Apply Preferences"})))),l.a.createElement("div",{className:"legend"},l.a.createElement("div",{className:"legendItems"},l.a.createElement("center",null,l.a.createElement("div",null,"Open Sections - ",l.a.createElement(z.a,{style:{backgroundColor:"#006600",height:"15px",width:"15px",display:"inline-flex"}}," ")," Green"))),l.a.createElement("div",{className:"legendItems"},l.a.createElement("center",null,l.a.createElement("div",null,"Closed Sections - ",l.a.createElement(z.a,{style:{backgroundColor:"#0099CC",height:"15px",width:"15px",display:"inline-flex"}}," ")," Blue")))),l.a.createElement("div",{className:"viewCourses",style:this.state.showPlaceholder?{display:"none"}:{}},l.a.createElement(he.a,null,this.state.selectedCourses.map(e=>l.a.createElement(ce.a,{"aria-label":"customized table",style:{marginBottom:25},component:z.a},l.a.createElement(me.a,null,l.a.createElement(oe.a,null,l.a.createElement(t,null," Class Number "),l.a.createElement(t,null," Course "),l.a.createElement(t,null," Section "),l.a.createElement(t,null," Faculty "),l.a.createElement(t,null," Day "),l.a.createElement(t,null," Time "),l.a.createElement(t,null," Room "),l.a.createElement(t,null," Capacity "),l.a.createElement(t,null," Enrolled "))),this.state.loading?l.a.createElement(de.a,null,this.state.skeletons.map(e=>l.a.createElement(a,null,l.a.createElement(t,null," ",l.a.createElement(y.a,{width:"100%",height:"100%"})," "),l.a.createElement(t,null," ",l.a.createElement(y.a,{width:"100%",height:"100%"})," "),l.a.createElement(t,null," ",l.a.createElement(y.a,{width:"100%",height:"100%"})," "),l.a.createElement(t,null," ",l.a.createElement(y.a,{width:"100%",height:"100%"})," "),l.a.createElement(t,null," ",l.a.createElement(y.a,{width:"100%",height:"100%"})," "),l.a.createElement(t,null," ",l.a.createElement(y.a,{width:"100%",height:"100%"})," "),l.a.createElement(t,null," ",l.a.createElement(y.a,{width:"100%",height:"100%"})," "),l.a.createElement(t,null," ",l.a.createElement(y.a,{width:"100%",height:"100%"})," "),l.a.createElement(t,null," ",l.a.createElement(y.a,{width:"100%",height:"100%"})," ")))):s(e.course_code)))),this.state.openModalCourseInfo?l.a.createElement($e.a,{isOpen:this.state.openModalCourseInfo,toggle:this.toggleModal,returnFocusAfterClose:!1,backdrop:!0,"data-keyboard":"false"},l.a.createElement(Je.a,{toggle:this.toggleModal},l.a.createElement("h4",null,"Course Information")),l.a.createElement(Xe.a,null,l.a.createElement("h4",null,this.state.courseInfo[this.state.courseCode].course_code),l.a.createElement("h5",null,this.state.courseInfo[this.state.courseCode].course_name),l.a.createElement("br",null),l.a.createElement("u",null,l.a.createElement("h5",null,"Description")),l.a.createElement("p",null,this.state.courseInfo[this.state.courseCode].course_desc),l.a.createElement("br",null),l.a.createElement("u",null,l.a.createElement("h5",null,"Pre-requisite/s")),l.a.createElement("p",null,this.state.courseInfo[this.state.courseCode].prerequisite_to.toString()),l.a.createElement("p",null,this.state.courseInfo[this.state.courseCode].soft_prerequisite_to.toString()),l.a.createElement("br",null),l.a.createElement("u",null,l.a.createElement("h5",null,"Co-requisite/s")),l.a.createElement("p",null,this.state.courseInfo[this.state.courseCode].co_requisite.toString()),l.a.createElement("br",null),l.a.createElement("u",null,l.a.createElement("h5",null,"Number of Units")),l.a.createElement("p",null,this.state.courseInfo[this.state.courseCode].units))):null),l.a.createElement("div",{className:"noContent",style:this.state.showPlaceholder?{}:{display:"none"}},l.a.createElement("center",null,l.a.createElement("img",{style:{width:"30%"},src:Ka.a})))):l.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh"}},l.a.createElement(at.a,{type:"spin",color:"#9BCFB8",height:"5%",width:"5%"})))}}var Qa=Object(V.a)(e=>({root:{display:"flex",alignItems:"center"},wrapper:{position:"relative"},buttonProgress:{color:ee.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12,paddingTop:"5px",paddingBottom:"5px"}}))(Xa);Object(V.a)({root:{"&$checked":{color:ee.a[600]}},checked:{}})(e=>l.a.createElement(Ua.a,Object.assign({color:"default"},e))),Object(V.a)({switchBase:{"&$checked":{color:ee.a[600]},"&$checked + $track":{backgroundColor:ee.a[600]}},checked:{},track:{}})(Ya.a);class Za extends s.Component{constructor(e){super(e),this.handleChange=(e,t)=>{var a=this.state.fields;a[e]=t.target.value,this.setState({fields:a})},this.setFilter=()=>{var e=this.state.radioVal,t=[];if("all"==e)console.log("all"),t=this.state.allSiteData,this.setState({siteData:t}),console.log(t);else if("open"==e){for(console.log("open"),a=0;a<this.state.allSiteData.length;a++)this.state.allSiteData[a].enrolled<this.state.allSiteData[a].capacity&&t.push(this.state.allSiteData[a]);this.setState({siteData:t}),console.log(t)}else{var a;for(console.log("closed"),a=0;a<this.state.allSiteData.length;a++)this.state.allSiteData[a].enrolled>=this.state.allSiteData[a].capacity&&t.push(this.state.allSiteData[a]);this.setState({siteData:t}),console.log(t)}},this.handleFilter=(e,t)=>{this.setState({radioVal:t.target.value},()=>{this.setFilter()})},this.searchCourses=()=>{this.state.selectedCourses.length>0&&(this.setState({siteData:[]}),this.setState({showPlaceholder:!1},()=>{this.setState({loading:!0})}));var e=[];this.state.selectedCourses.map(t=>{e.push(t.id)}),v.a.post("https://animosched-backend-backup.herokuapp.com/api/courseofferingslist/",{courses:e,applyPreference:this.state.applyPreference,user_id:localStorage.getItem("user_id")}).then(e=>{var t=[];console.log(e.data),e.data.map(e=>{var a=Be()(e,"classnumber");for(var s in console.log(a),a){console.log(s,a[s]);var l=[],n="",r="",i="",o="",c="",d="",h="",m="",u="",p="";a[s].map(e=>{l.push(e.day),r=e.classnumber,i=e.course,o=e.section,c=e.faculty,d=e.timeslot_begin,h=e.timeslot_end,m=e.room,u=e.max_enrolled,p=e.current_enrolled}),l.map(e=>{n+=e});var g=this.createData(r,i,o,c,n,d,h,m,u,p);t.push(g)}}),this.setState({siteData:t,allSiteData:t},()=>{this.setFilter(),this.setState({loading:!1})})}).catch(e=>{console.log(e.response)})},this.handleSearch=(e,t)=>{this.setState({selectedCourses:t})},this.handleClick=(e,t)=>a=>{console.log("You clicked on row with id ".concat(e,", in column ").concat(t,"."))},this.handleCloseModalCourseInfo=()=>{this.setState({openModalCourseInfo:!1})},this.handleOpenModalCourseInfo=(e,t,a)=>{this.setState({courseCode:e,courseName:"Lorem ipsum",courseUnits:a}),this.setState({courseDesc:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",coursePre:"N/A",courseCo:"N/A",courseEq:"N/A"}),this.setState({openModalCourseInfo:!0})},this.handleApplyPreference=()=>{this.setState({applyPreference:!this.state.applyPreference})},this.toggleModal=()=>{var e=this.state.openModalCourseInfo;this.setState({openModalCourseInfo:!e})},this.state={fields:{},database:[],siteData:[],allSiteData:[],selectedCourses:[],loading:!1,radioVal:"all",dataReceived:!1,skeletons:[...Array(8).keys()],rowStyle:"",openModalCourseInfo:!1,showPlaceholder:!0,applyPreference:!1},this.radioRef=l.a.createRef()}componentDidMount(){this.setState({dataReceived:!0})}createData(e,t,a,s,l,n,r,i,o,c){return{classNmbr:e,course:t,section:a,faculty:s,day:l,startTime:n,endTime:r,room:i,capacity:o,enrolled:c}}render(){var e=this.props.classes,t=Object(V.a)(e=>({head:{backgroundColor:"#006A4E",color:e.palette.common.white},body:{fontSize:14,borderBottom:"1px solid white"}}))(ie.a),a=Object(V.a)(e=>({root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default}}}))(oe.a);return l.a.createElement("div",null,this.props.menu("search_courses"),this.state.dataReceived?l.a.createElement("div",{className:"search-container"},l.a.createElement("div",{className:"searchBar"},l.a.createElement("h2",null,"Search Course Offerings"),l.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},l.a.createElement(ct,{style:{width:"-webkit-fill-available"},page:"search_simple",onChange:this.handleSearch}),l.a.createElement("div",{className:e.root},l.a.createElement("div",{className:e.wrapper},l.a.createElement(De.a,{variant:"contained",color:"Primary",disabled:this.state.loading,style:{backgroundColor:"green",color:"white",height:"55px"},onClick:this.searchCourses},l.a.createElement(lt.a,null)),this.state.loading&&l.a.createElement(it.a,{size:24,className:e.buttonProgress}))))),l.a.createElement("div",{className:"viewCourses",style:this.state.showPlaceholder?{display:"none"}:{}},l.a.createElement(he.a,{component:z.a},l.a.createElement(ce.a,{"aria-label":"customized table"},l.a.createElement(me.a,null,l.a.createElement(oe.a,null,l.a.createElement(t,null," Class Number "),l.a.createElement(t,null," Course "),l.a.createElement(t,null," Section "),l.a.createElement(t,null," Faculty "),l.a.createElement(t,null," Day "),l.a.createElement(t,null," Time "),l.a.createElement(t,null," Room "),l.a.createElement(t,null," Capacity "),l.a.createElement(t,null," Enrolled "))),this.state.loading?l.a.createElement(de.a,null,this.state.skeletons.map(e=>l.a.createElement(a,null,l.a.createElement(t,null," ",l.a.createElement(y.a,{width:"100%",height:"100%"})," "),l.a.createElement(t,null," ",l.a.createElement(y.a,{width:"100%",height:"100%"})," "),l.a.createElement(t,null," ",l.a.createElement(y.a,{width:"100%",height:"100%"})," "),l.a.createElement(t,null," ",l.a.createElement(y.a,{width:"100%",height:"100%"})," "),l.a.createElement(t,null," ",l.a.createElement(y.a,{width:"100%",height:"100%"})," "),l.a.createElement(t,null," ",l.a.createElement(y.a,{width:"100%",height:"100%"})," "),l.a.createElement(t,null," ",l.a.createElement(y.a,{width:"100%",height:"100%"})," "),l.a.createElement(t,null," ",l.a.createElement(y.a,{width:"100%",height:"100%"})," "),l.a.createElement(t,null," ",l.a.createElement(y.a,{width:"100%",height:"100%"})," ")))):l.a.createElement(de.a,null,this.state.siteData.map(e=>l.a.createElement(a,{key:e.classNmbr,style:e.capacity==e.enrolled?{color:"#0099CC"}:{color:"#006600"}},l.a.createElement(t,{style:e.capacity==e.enrolled?{color:"#0099CC"}:{color:"#006600"}}," ",e.classNmbr," "),l.a.createElement(ha.a,{title:"More Details",placement:"left"},l.a.createElement(t,{onClick:()=>this.handleOpenModalCourseInfo(e.course,"","3"),style:e.capacity==e.enrolled?{color:"#0099CC",cursor:"pointer",textDecorationLine:"underline"}:{color:"#006600",cursor:"pointer",textDecorationLine:"underline"}}," ",e.course," ")),l.a.createElement(t,{style:e.capacity==e.enrolled?{color:"#0099CC"}:{color:"#006600"}}," ",e.section," "),l.a.createElement(t,{style:e.capacity==e.enrolled?{color:"#0099CC"}:{color:"#006600"}}," ",e.faculty," "),l.a.createElement(t,{style:e.capacity==e.enrolled?{color:"#0099CC"}:{color:"#006600"}}," ",e.day," "),l.a.createElement(t,{style:e.capacity==e.enrolled?{color:"#0099CC"}:{color:"#006600"}}," ",e.startTime," - ",e.endTime," "),l.a.createElement(t,{style:e.capacity==e.enrolled?{color:"#0099CC"}:{color:"#006600"}}," ",e.room," "),l.a.createElement(t,{align:"right",style:e.capacity==e.enrolled?{color:"#0099CC"}:{color:"#006600"}}," ",e.capacity," "),l.a.createElement(t,{align:"right",style:e.capacity==e.enrolled?{color:"#0099CC"}:{color:"#006600"}}," ",e.enrolled," ")))))),l.a.createElement($e.a,{isOpen:this.state.openModalCourseInfo,toggle:this.toggleModal,returnFocusAfterClose:!1,backdrop:"static","data-keyboard":"false"},l.a.createElement(Je.a,{toggle:this.toggleModal},"Course Information"),l.a.createElement(Xe.a,null,l.a.createElement("h4",null,this.state.courseCode),l.a.createElement("h5",null,this.state.courseName),l.a.createElement("br",null),l.a.createElement("u",null,l.a.createElement("h5",null,"Description")),l.a.createElement("p",null,this.state.courseDesc),l.a.createElement("br",null),l.a.createElement("u",null,l.a.createElement("h5",null,"Pre-requisite/s")),l.a.createElement("p",null,this.state.coursePre),l.a.createElement("br",null),l.a.createElement("u",null,l.a.createElement("h5",null,"Co-requisite/s")),l.a.createElement("p",null,this.state.courseCo),l.a.createElement("br",null),l.a.createElement("u",null,l.a.createElement("h5",null,"Course Equivalent")),l.a.createElement("p",null,this.state.courseEq),l.a.createElement("br",null),l.a.createElement("u",null,l.a.createElement("h5",null,"Number of Units")),l.a.createElement("p",null,this.state.courseUnits)))),l.a.createElement("div",{className:"noContent",style:this.state.showPlaceholder?{}:{display:"none"}},l.a.createElement("center",null,l.a.createElement("img",{style:{width:"30%"},src:Ka.a})))):l.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh"}},l.a.createElement(at.a,{type:"spin",color:"#9BCFB8",height:"5%",width:"5%"})))}}var es=Object(V.a)(e=>({root:{display:"flex",alignItems:"center"},wrapper:{position:"relative"},buttonProgress:{color:ee.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12,paddingTop:"5px",paddingBottom:"5px"}}))(Za),ts=Object(V.a)({root:{"&$checked":{color:ee.a[600]}},checked:{}})(e=>l.a.createElement(Ua.a,Object.assign({color:"default"},e)));Object(V.a)({switchBase:{"&$checked":{color:ee.a[600]},"&$checked + $track":{backgroundColor:ee.a[600]}},checked:{},track:{}})(Ya.a);class as extends s.Component{constructor(e){super(e),this.handleChange=(e,t)=>{var a=this.state.fields;a[e]=t.target.value,this.setState({fields:a})},this.setFilter=()=>{var e=this.state.radioVal,t=[];if("all"==e)console.log("all"),t=this.state.allSiteData,this.setState({siteData:t}),console.log(t);else if("open"==e){for(console.log("open"),a=0;a<this.state.allSiteData.length;a++)this.state.allSiteData[a].enrolled<this.state.allSiteData[a].capacity&&t.push(this.state.allSiteData[a]);this.setState({siteData:t}),console.log(t)}else{var a;for(console.log("closed"),a=0;a<this.state.allSiteData.length;a++)this.state.allSiteData[a].enrolled>=this.state.allSiteData[a].capacity&&t.push(this.state.allSiteData[a]);this.setState({siteData:t}),console.log(t)}},this.handleFilter=(e,t)=>{this.setState({radioVal:t.target.value},()=>{this.setFilter()})},this.searchCourses=()=>{this.state.selectedCourses.length>0&&(this.setState({siteData:[]}),this.setState({showPlaceholder:!1},()=>{this.setState({loading:!0})}));var e=[];this.state.selectedCourses.map(t=>{e.push(t.id)}),v.a.post("https://animosched-backend-backup.herokuapp.com/api/courseofferingslist/",{courses:e,applyPreference:this.state.applyPreference,user_id:localStorage.getItem("user_id")}).then(e=>{var t=[];console.log(e.data),e.data.map(e=>{var a=Be()(e,"classnumber");for(var s in console.log(a),a){console.log(s,a[s]);var l=[],n="",r="",i="",o="",c="",d="",h="",m="",u="",p="";a[s].map(e=>{l.push(e.day),r=e.classnumber,i=e.course,o=e.section,c=e.faculty,d=e.timeslot_begin,h=e.timeslot_end,m=e.room,u=e.max_enrolled,p=e.current_enrolled}),l.map(e=>{n+=e});var g=this.createData(r,i,o,c,n,d,h,m,u,p);t.push(g)}}),this.setState({siteData:t,allSiteData:t},()=>{this.setFilter(),this.setState({loading:!1})})}).catch(e=>{console.log(e.response)})},this.handleSearch=(e,t)=>{this.setState({selectedCourses:t})},this.handleClick=(e,t)=>a=>{console.log("You clicked on row with id ".concat(e,", in column ").concat(t,"."))},this.handleCloseModalCourseInfo=()=>{this.setState({openModalCourseInfo:!1})},this.handleOpenModalCourseInfo=(e,t,a)=>{this.setState({courseCode:e,courseName:"Lorem ipsum",courseUnits:a}),this.setState({courseDesc:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",coursePre:"N/A",courseCo:"N/A",courseEq:"N/A"}),this.setState({openModalCourseInfo:!0})},this.handleApplyPreference=()=>{this.setState({applyPreference:!this.state.applyPreference})},this.toggleModal=()=>{var e=this.state.openModalCourseInfo;this.setState({openModalCourseInfo:!e})},this.state={fields:{},database:[],siteData:[],allSiteData:[],selectedCourses:[],loading:!1,radioVal:"all",dataReceived:!1,skeletons:[...Array(8).keys()],rowStyle:"",openModalCourseInfo:!1,showPlaceholder:!0,applyPreference:!1},this.radioRef=l.a.createRef()}componentDidMount(){this.setState({dataReceived:!0})}createData(e,t,a,s,l,n,r,i,o,c){return{classNmbr:e,course:t,section:a,faculty:s,day:l,startTime:n,endTime:r,room:i,capacity:o,enrolled:c}}render(){var e=this.props.classes,t=Object(V.a)(e=>({head:{backgroundColor:"#006A4E",color:e.palette.common.white},body:{fontSize:14,borderBottom:"1px solid white"}}))(ie.a),a=Object(V.a)(e=>({root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default}}}))(oe.a);return l.a.createElement("div",null,this.props.menu("search_courses"),this.state.dataReceived?l.a.createElement("div",{className:"search-container"},l.a.createElement("div",{className:"searchBar"},l.a.createElement("h2",null,"Search all your courses in one go!"),l.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},l.a.createElement(ct,{style:{width:"-webkit-fill-available"},page:"search",onChange:this.handleSearch}),l.a.createElement("div",{className:e.root},l.a.createElement("div",{className:e.wrapper},l.a.createElement(De.a,{variant:"contained",color:"Primary",disabled:this.state.loading,style:{backgroundColor:"green",color:"white",height:"55px"},onClick:this.searchCourses},l.a.createElement(lt.a,null)),this.state.loading&&l.a.createElement(it.a,{size:24,className:e.buttonProgress}))))),l.a.createElement("div",{className:"filters"},l.a.createElement("center",null,l.a.createElement(Wa.a,{component:"fieldset"},l.a.createElement(Va.a,{ref:this.radioRef,row:!0,"aria-label":"filter",name:"filter",onChange:this.handleFilter.bind(this,"filter"),value:this.state.radioVal},l.a.createElement(Qt.a,{value:"all",control:l.a.createElement(ts,null),label:"All Sections"}),l.a.createElement(Qt.a,{value:"open",control:l.a.createElement(ts,null),label:"Open Sections"}),l.a.createElement(Qt.a,{value:"closed",control:l.a.createElement(ts,null),label:"Closed Sections"}))))),l.a.createElement("div",{className:"legend"},l.a.createElement("div",{className:"legendItems"},l.a.createElement("center",null,l.a.createElement("div",null,"Open Sections - ",l.a.createElement(z.a,{style:{backgroundColor:"#006600",height:"15px",width:"15px",display:"inline-flex"}}," ")," Green"))),l.a.createElement("div",{className:"legendItems"},l.a.createElement("center",null,l.a.createElement("div",null,"Closed Sections - ",l.a.createElement(z.a,{style:{backgroundColor:"#0099CC",height:"15px",width:"15px",display:"inline-flex"}}," ")," Blue")))),l.a.createElement("div",{className:"viewCourses",style:this.state.showPlaceholder?{display:"none"}:{}},l.a.createElement(he.a,{component:z.a},l.a.createElement(ce.a,{"aria-label":"customized table"},l.a.createElement(me.a,null,l.a.createElement(oe.a,null,l.a.createElement(t,null," Class Number "),l.a.createElement(t,null," Course "),l.a.createElement(t,null," Section "),l.a.createElement(t,null," Faculty "),l.a.createElement(t,null," Day "),l.a.createElement(t,null," Time "),l.a.createElement(t,null," Room "),l.a.createElement(t,null," Capacity "),l.a.createElement(t,null," Enrolled "))),this.state.loading?l.a.createElement(de.a,null,this.state.skeletons.map(e=>l.a.createElement(a,null,l.a.createElement(t,null," ",l.a.createElement(y.a,{width:"100%",height:"100%"})," "),l.a.createElement(t,null," ",l.a.createElement(y.a,{width:"100%",height:"100%"})," "),l.a.createElement(t,null," ",l.a.createElement(y.a,{width:"100%",height:"100%"})," "),l.a.createElement(t,null," ",l.a.createElement(y.a,{width:"100%",height:"100%"})," "),l.a.createElement(t,null," ",l.a.createElement(y.a,{width:"100%",height:"100%"})," "),l.a.createElement(t,null," ",l.a.createElement(y.a,{width:"100%",height:"100%"})," "),l.a.createElement(t,null," ",l.a.createElement(y.a,{width:"100%",height:"100%"})," "),l.a.createElement(t,null," ",l.a.createElement(y.a,{width:"100%",height:"100%"})," "),l.a.createElement(t,null," ",l.a.createElement(y.a,{width:"100%",height:"100%"})," ")))):l.a.createElement(de.a,null,this.state.siteData.map(e=>l.a.createElement(a,{key:e.classNmbr,style:e.capacity==e.enrolled?{color:"#0099CC"}:{color:"#006600"}},l.a.createElement(t,{style:e.capacity==e.enrolled?{color:"#0099CC"}:{color:"#006600"}}," ",e.classNmbr," "),l.a.createElement(ha.a,{title:"More Details",placement:"left"},l.a.createElement(t,{onClick:()=>this.handleOpenModalCourseInfo(e.course,"","3"),style:e.capacity==e.enrolled?{color:"#0099CC",cursor:"pointer",textDecorationLine:"underline"}:{color:"#006600",cursor:"pointer",textDecorationLine:"underline"}}," ",e.course," ")),l.a.createElement(t,{style:e.capacity==e.enrolled?{color:"#0099CC"}:{color:"#006600"}}," ",e.section," "),l.a.createElement(t,{style:e.capacity==e.enrolled?{color:"#0099CC"}:{color:"#006600"}}," ",e.faculty," "),l.a.createElement(t,{style:e.capacity==e.enrolled?{color:"#0099CC"}:{color:"#006600"}}," ",e.day," "),l.a.createElement(t,{style:e.capacity==e.enrolled?{color:"#0099CC"}:{color:"#006600"}}," ",e.startTime," - ",e.endTime," "),l.a.createElement(t,{style:e.capacity==e.enrolled?{color:"#0099CC"}:{color:"#006600"}}," ",e.room," "),l.a.createElement(t,{align:"right",style:e.capacity==e.enrolled?{color:"#0099CC"}:{color:"#006600"}}," ",e.capacity," "),l.a.createElement(t,{align:"right",style:e.capacity==e.enrolled?{color:"#0099CC"}:{color:"#006600"}}," ",e.enrolled," ")))))),l.a.createElement($e.a,{isOpen:this.state.openModalCourseInfo,toggle:this.toggleModal,returnFocusAfterClose:!1,backdrop:"static","data-keyboard":"false"},l.a.createElement(Je.a,{toggle:this.toggleModal},"Course Information"),l.a.createElement(Xe.a,null,l.a.createElement("h4",null,this.state.courseCode),l.a.createElement("h5",null,this.state.courseName),l.a.createElement("br",null),l.a.createElement("u",null,l.a.createElement("h5",null,"Description")),l.a.createElement("p",null,this.state.courseDesc),l.a.createElement("br",null),l.a.createElement("u",null,l.a.createElement("h5",null,"Pre-requisite/s")),l.a.createElement("p",null,this.state.coursePre),l.a.createElement("br",null),l.a.createElement("u",null,l.a.createElement("h5",null,"Co-requisite/s")),l.a.createElement("p",null,this.state.courseCo),l.a.createElement("br",null),l.a.createElement("u",null,l.a.createElement("h5",null,"Course Equivalent")),l.a.createElement("p",null,this.state.courseEq),l.a.createElement("br",null),l.a.createElement("u",null,l.a.createElement("h5",null,"Number of Units")),l.a.createElement("p",null,this.state.courseUnits)))),l.a.createElement("div",{className:"noContent",style:this.state.showPlaceholder?{}:{display:"none"}},l.a.createElement("center",null,l.a.createElement("img",{style:{width:"30%"},src:Ka.a})))):l.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh"}},l.a.createElement(at.a,{type:"spin",color:"#9BCFB8",height:"5%",width:"5%"})))}}var ss=Object(V.a)(e=>({root:{display:"flex",alignItems:"center"},wrapper:{position:"relative"},buttonProgress:{color:ee.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12,paddingTop:"5px",paddingBottom:"5px"}}))(as),ls=(a(805),a(910)),ns=a(462),rs=a.n(ns),is=a(904),os=a(905),cs=a(906),ds=a(463),hs=a.n(ds),ms=a(466),us=a.n(ms),ps=a(471),gs=a.n(ps),Es=a(472),fs=a.n(Es),bs=a(464),Cs=a.n(bs),vs=a(465),ys=a.n(vs),Ss=l.a.createElement(Cs.a,{fontSize:"small"}),ks=l.a.createElement(ys.a,{fontSize:"small"});Object(V.a)({root:{"&$checked":{color:ee.a[600]}},checked:{}})(e=>l.a.createElement(et.a,Object.assign({color:"default"},e)));function ws(e){return l.a.createElement(dt.a,Object.assign({elevation:6,variant:"filled"},e))}class xs extends s.Component{constructor(e){super(e),this.createTimeslot=(e,t,a)=>"M"==e?new Date(2018,5,25,t,a):"T"==e?new Date(2018,5,26,t,a):"W"==e?new Date(2018,5,27,t,a):"H"==e?new Date(2018,5,28,t,a):"F"==e?new Date(2018,5,29,t,a):"S"==e?new Date(2018,5,30,t,a):void 0,this.handlePageChange=(e,t)=>{this.setState(e=>({currentContent:e.generatedContents[t]})),this.setState({currentPage:t}),this.setState(e=>({currentPage:t})),console.log("pressed page "+t),console.log(this.state.generatedContents[t]),window.scrollTo({top:0,behavior:"smooth"})},this.setSchedInfo=()=>{console.log(this.state.schedules);var e=JSON.parse(localStorage.getItem("palette")),t=this.state.schedules.map((t,a)=>l.a.createElement(ve,{key:t.id,id:t.id,offerings:t.offerings,tableContent:t.tableContent,scheduleContent:t.scheduleContent,titleName:t.title,allowEdit:this.state.allowEdit,palette:e}));this.setState({generatedContents:t},()=>{this.setState({currentContent:t[0]},()=>{this.setState({pagesCount:t.length},()=>{this.setState({currentPage:0},()=>{this.setState({hasSelectedFriend:!0})})})})})},this.tempTest=()=>{this.setState({hasSelectedFriend:!0})},this.handleClickOpenAlert=e=>{this.setState({openAlert:!0}),this.setState({selectedFriend:e})},this.handleCloseAlert=()=>{this.setState({openAlert:!1})},this.handleClick=(e,t)=>{var a=this.state.requests;this.setState({contentSelected:!0}),this.setState({selectedFriendId:a[t].id}),this.setState({hasSelectedFriend:!1}),this.setState({friend:a[t]}),this.setState({generateList:[a[t].id]}),v.a.get("https://animosched-backend-backup.herokuapp.com/api/schedulelist/"+a[t].id+"/").then(e=>{var s=[];e.data.map(e=>{var t=0,a=[],l=[],n=9,r=17,i=Be()(e.courseOfferings,"classnumber");for(var o in i){var c=[],d="",h="",m="",u="",p="",g="",E="",f="",b="",C="";i[o].map(e=>{c.push(e.day),h=e.classnumber,m=e.course,u=e.section,p=e.faculty,g=e.timeslot_begin.substring(0,e.timeslot_begin.length-3),E=e.timeslot_end.substring(0,e.timeslot_end.length-3),f=e.room,b=e.max_enrolled,C=e.current_enrolled}),c.map(e=>{d+=e});var v=this.createData(h,m,u,p,d,g,E,f,b,C);l.push(v)}e.courseOfferings.map(e=>{var s=e.timeslot_begin.split(":"),l=e.timeslot_end.split(":"),i={id:t,title:e.course+" "+e.section,section:e.section,startDate:this.createTimeslot(e.day,s[0],s[1]),endDate:this.createTimeslot(e.day,l[0],l[1]),location:e.room,professor:e.faculty,startTime:e.timeslot_begin.substring(0,e.timeslot_begin.length-3),endTime:e.timeslot_end.substring(0,e.timeslot_end.length-3),days:e.day,classCode:e.classnumber};n>Number(s[0])&&(n=Number(s[0])),r<Number(l[0])+1&&(r=Number(l[0])+1),a.push(i),t+=1}),s.push({id:e.id,title:e.title,scheduleContent:a,tableContent:l,prefContent:[],conflictsContent:e.information,earliest:n,latest:r,offerings:e.courseOfferings})}),v.a.get("https://animosched-backend-backup.herokuapp.com/api/preferencelist/"+a[t].id+"/").then(e=>{var l=[],n=[],r=[],i=[];console.log(e.data),e.data.map(e=>{if(null!=e.earliest_class_time&&this.setState({earliest_class_time:e.earliest_class_time}),null!=e.latest_class_time&&this.setState({latest_class_time:e.latest_class_time}),null!=e.preferred_days&&this.state.daysList.map(t=>{e.preferred_days==t.id&&r.push(t.day)}),null!=e.break_length&&this.setState({break_length:e.break_length}),null!=e.min_courses&&this.setState({min_courses:e.min_courses}),null!=e.max_courses&&this.setState({max_courses:e.max_courses}),null!=e.preferred_faculty){var t=e.preferred_faculty;l.push(t)}if(null!=e.preferred_buildings&&this.state.buildingList.map(t=>{e.preferred_buildings==t.id&&i.push(t.building)}),null!=e.preferred_sections){var a=e.preferred_sections;n.push(a)}}),console.log(l);var o=a[t].id_num.toString().slice(0,3);this.setState({firstName:a[t].firstName,lastName:a[t].lastName,sectionList:n,profList:l,buildingList:i,daysList:r,schedules:s,college:a[t].college,degree:a[t].degree,idnum:o},()=>{this.setSchedInfo()})})}).catch(e=>{console.log(e)})},this.toggleDrop=()=>{var e=this.state.dropdownOpen;this.setState({dropdownOpen:!e})},this.handleSearchChange=e=>{this.filterSearchFriendsThrottled(e.target.value)},this.handleSearchCompare=e=>{this.filterSearchFriendsThrottled(e.target.value)},this.filterSearchFriends=e=>{this.setState({searchQuery:e})},this.deleteFriend=()=>{var e=[];this.state.friendList.map(t=>{t!=this.state.selectedFriendId&&e.push(t)}),v.a.patch("https://animosched-backend-backup.herokuapp.com/api/users/"+localStorage.getItem("user_id")+"/",{friends:e}).catch(e=>{console.log(e.response)}),window.location.reload(),this.setState({openAlert:!1})},this.toggleModalCompare=()=>{var e=this.state.openModalCompare;this.setState({openModalCompare:!e})},this.handleCompareChange=e=>{var t=[...this.state.friendListCompare];t.map(t=>{t.id===Number(e.target.id)&&(t.checked=e.target.checked)}),this.setState({friendListCompare:t})},this.toggleModalSuggest=()=>{var e=this.state.openModalSuggest;this.setState({openModalSuggest:!e})},this.handleSuggestChange=e=>{var t=[...this.state.friendListSuggest];t.map(t=>{t.id===Number(e.target.id)&&(t.checked=e.target.checked)}),this.setState({friendListSuggest:t})},this.handleCopy=()=>{var e=[];this.state.currentContent.props.offerings.map(t=>{e.push(t.id)}),v.a.post("https://animosched-backend-backup.herokuapp.com/api/schedules/",{title:this.state.currentContent.props.titleName+" ("+this.state.firstName+")",courseOfferings:e,user:localStorage.getItem("user_id")}).then(e=>{console.log(e.data),this.setState({copyBar:!0})}).catch(e=>{console.log(e.response)})},this.handleCloseCopyBar=(e,t)=>{"clickaway"!==t&&this.setState({copyBar:!1})},this.compareOnChange=(e,t)=>{var a=[];t.map(e=>{a.push(e.id)}),this.setState({compareList:a}),console.log(t)},this.generateOnChange=(e,t)=>{var a=[];t.map(e=>{a.push(e.id)}),this.setState({generateList:a}),console.log(t)},this.handleConfigChanges=(e,t)=>{"saved"==t?this.setState({savedConfig:e.target.checked}):"pref"==t?this.setState({prefConfig:e.target.checked}):"filter"==t&&this.setState({filterConfig:e.target.checked})},this.handleCoordinate=()=>{this.setState({coordinating:!1}),v.a.post("https://animosched-backend-backup.herokuapp.com/api/generateschedulefriends/",{friends:this.state.generateList,user_id:localStorage.getItem("user_id"),filterFull:!0}).then(e=>{this.setState({shareCode:e.data},()=>{this.state.cancelled?(this.setState({coordinating:!0}),console.log("cancelled")):this.setState({doGenerate:!0}),this.setState({cancelled:!1})})}).catch(e=>{console.log(e.response),this.setState({coordinating:!0}),this.setState({snackBarText:"Error occured while coordinating schedule."}),this.setState({snackBar:!0}),this.setState({cancelled:!1})})},this.onCancel=()=>{this.setState({cancelled:!0}),this.setState({coordinating:!0})},this.state={requests:[],currentPage:0,currentContent:"",generatedContents:[],pagesCount:1,dataReceived:!1,allowEdit:!1,openAlert:!1,selectedFriend:"",selectedFriendId:"",hasSelectedFriend:!1,contentSelected:!1,fromModalIndex:"",schedules:[],profList:[],dropdownOpen:!1,friendList:[],openModalCompare:!1,friendListCompare:[],openModalSuggest:!1,friendListSuggest:[],copyBar:!1,compareList:[],generateList:[],doGenerate:!1,savedConfig:!0,prefConfig:!0,filterConfig:!0,daysList:[{id:1,day_code:"M",day:"Monday",checked:!1},{id:2,day_code:"T",day:"Tuesday",checked:!1},{id:3,day_code:"W",day:"Wednesday",checked:!1},{id:4,day_code:"H",day:"Thursday",checked:!1},{id:5,day_code:"F",day:"Friday",checked:!1},{id:6,day_code:"S",day:"Saturday",checked:!1}],buildingList:[{id:2,bldg_code:"LS",building:"St. La Salle Hall",checked:!1},{id:3,bldg_code:"Y",building:"Enrique Yuchengco Hall",checked:!1},{id:4,bldg_code:"J",building:"St. Joseph Hall",checked:!1},{id:5,bldg_code:"V",building:"Velasco Hall",checked:!1},{id:6,bldg_code:"M",building:"St. Miguel Hall",checked:!1},{id:7,bldg_code:"MU",building:"St. Mutien Marie Hall",checked:!1},{id:1,bldg_code:"GK",building:"Gokongwei Hall",checked:!1},{id:8,bldg_code:"A",building:"Br. Andrew Gonzales Hall",checked:!1}],college:"",degree:"",idnum:"",earliest_class_time:"",latest_class_time:"",break_length:"",firstName:"",lastName:"",searchQuery:"",highList:[],lowList:[],coordinating:!0,snackBar:!1,snackBarText:"",cancelled:!1},this.filterSearchFriendsThrottled=D.a.debounce(this.filterSearchFriends,500),console.log(e)}createData(e,t,a,s,l,n,r,i,o,c){return{classNmbr:e,course:t,section:a,faculty:s,day:l,startTime:n,endTime:r,room:i,capacity:o,enrolled:c}}createRequests(e,t,a,s,l,n,r){return{firstName:e,lastName:t,status:a,id:s,college:l,degree:n,id_num:r}}componentDidMount(){v.a.get("https://animosched-backend-backup.herokuapp.com/api/friendlist/"+localStorage.getItem("user_id")+"/").then(e=>{var t=[],a=[];e.data.map(e=>{t.push(this.createRequests(e.first_name,e.last_name,"accept",e.id,e.college,e.degree,e.id_num)),a.push(e.id)}),this.setState({friendList:a}),this.setState({requests:t},()=>{if(void 0!=this.props.location.state){var e=this.props.location.state.selectedFriendId;-1!=e&&t.map((t,a)=>{t.id==e&&this.handleClick(null,a)});var a=this.props,s=a.location,l=a.history;s.state=void 0,l.replace()}this.setState({dataReceived:!0})})})}componentWillReceiveProps(e){if(this.setState({dataReceived:!1}),void 0!=e.location.state){var t=e.location.state.selectedFriendId;-1!=t?this.state.requests.map((e,a)=>{e.id==t&&this.handleClick(null,a)}):this.setState({selectedFriendId:"",contentSelected:!1,hasSelectedFriend:!1});var a=e.location,s=e.history;a.state=void 0,s.replace()}this.setState({dataReceived:!0})}render(){for(var e=[],t=this.props.classes,a=0;a<this.state.requests.length;a++)if("accept"==this.state.requests[a].status){var s=this.state.requests[a];(s.firstName.toLowerCase().includes(this.state.searchQuery.toLowerCase())||s.lastName.toLowerCase().includes(this.state.searchQuery.toLowerCase()))&&e.push(this.state.requests[a])}var n=l.a.forwardRef(({children:e,onClick:t},a)=>l.a.createElement("a",{ref:a,onClick:e=>{e.preventDefault(),t(e)}},e,l.a.createElement(us.a,{fontSize:"large"})));return l.a.createElement("div",null,this.props.menu(),this.state.dataReceived?l.a.createElement("div",null,this.state.doGenerate&&l.a.createElement(o.c,{to:{pathname:"/coordinate_schedule/"+this.state.shareCode+"/"}}),l.a.createElement("div",{class:"friendMenu"},l.a.createElement("div",{class:"titleRow"},l.a.createElement("center",null,l.a.createElement("h1",null,"FRIENDS"),l.a.createElement("svg",{class:"bi bi-people-fill",width:"75",height:"75",viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{"fill-rule":"evenodd",d:"M9 16s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1H9zm4-6a3 3 0 100-6 3 3 0 000 6zm-5.784 6A2.238 2.238 0 017 15c0-1.355.68-2.75 1.936-3.72A6.325 6.325 0 007 11c-4 0-5 3-5 4s1 1 1 1h4.216zM6.5 10a2.5 2.5 0 100-5 2.5 2.5 0 000 5z","clip-rule":"evenodd"})))),l.a.createElement("div",{style:{height:"100%"}},l.a.createElement("div",{style:{justifyContent:"center",justify:"center",justifyItems:"center",margin:"auto 10px"}},l.a.createElement(_.a,{key:"friendPage_searchFriends",id:"friendPage_searchFriends",variant:"outlined",style:{width:"95%",marginBottom:"10%",justifyContent:"center"},filterSelectedOptions:!0,label:"Search Friends",onChange:this.handleSearchChange})),l.a.createElement(is.a,{flush:!0,style:{height:"50%",overflowX:"hidden"}},e.map((e,t)=>l.a.createElement(os.a,{color:this.state.selectedFriendId==e.id?"success":"",type:"button",tag:"a",onClick:e=>this.handleClick(e,t),action:!0},l.a.createElement(w.a,null,l.a.createElement(x.a,{xs:6,md:1},l.a.createElement(P.a,{name:e.firstName+" "+e.lastName,textSizeRatio:2.3,round:!0,size:"25",style:{marginRight:"5px"}})),l.a.createElement(x.a,{xs:12,md:8},l.a.createElement("span",null," ",e.firstName," ",e.lastName," ")),l.a.createElement(x.a,{xs:6,md:2},l.a.createElement("div",{className:"friend_btn"},l.a.createElement(ls.a,{isOpen:this.state.dropdownOpen,toggle:this.toggleDrop},l.a.createElement(ls.a.Toggle,{as:n,id:"dropdown-custom-components"},l.a.createElement(ls.a.Menu,{right:!0},l.a.createElement(ls.a.Item,{eventKey:"1",onClick:()=>this.handleClickOpenAlert(e)},"Unfriend"))))))))),0==e.length&&l.a.createElement(os.a,null,l.a.createElement("center",null,"No Friends"))),l.a.createElement(Re.a,{open:this.state.openAlert,onClose:this.handleCloseAlert,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},l.a.createElement(Oe.a,{id:"alert-dialog-title"},"Remove From Friend List"),l.a.createElement(Fe.a,null,l.a.createElement(Le.a,{id:"alert-dialog-description"},'Do you want to unfriend "',this.state.selectedFriend.firstName," ",this.state.selectedFriend.lastName,'"?')),l.a.createElement(Te.a,null,l.a.createElement(De.a,{onClick:this.deleteFriend,color:"primary",autoFocus:!0},"Unfriend"),l.a.createElement(De.a,{onClick:this.handleCloseAlert,color:"primary"},"Cancel"))))),this.state.contentSelected?l.a.createElement("div",null,this.state.hasSelectedFriend?l.a.createElement("div",{class:"sidemenu-main"},l.a.createElement(sa.a,{defaultActiveKey:"schedule",id:"uncontrolled-tab-example"},l.a.createElement(la.a,{eventKey:"details",title:"Details"},l.a.createElement("div",{className:"friendName"},l.a.createElement(te.a,{gutterBottom:!0,variant:"h4",align:"center",style:{color:"black"}},this.state.firstName," ",this.state.lastName)),l.a.createElement("div",{className:"friendDetails"},l.a.createElement("div",{class:"column",style:{float:"left",width:"65%"}},l.a.createElement("div",null,l.a.createElement(te.a,{gutterBottom:!0,variant:"h5",align:"left",style:{color:"black"}},"Details"),l.a.createElement(cs.a,{responsive:!0,size:"sm"},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("th",{scope:"row"},"College"),l.a.createElement("td",null,this.state.college)),l.a.createElement("tr",null,l.a.createElement("th",{scope:"row"},"Degree"),l.a.createElement("td",null,this.state.degree)),l.a.createElement("tr",null,l.a.createElement("th",{scope:"row"},"ID Number"),l.a.createElement("td",null,this.state.idnum))))),l.a.createElement("div",null,l.a.createElement(te.a,{gutterBottom:!0,variant:"h5",align:"left",style:{color:"black"}},"Preferences"),l.a.createElement(cs.a,{responsive:!0,size:"sm",style:{overflow:"hidden"}},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("th",{scope:"row"},"Earliest Time"),l.a.createElement("td",null,this.state.earliest_class_time)),l.a.createElement("tr",null,l.a.createElement("th",{scope:"row"},"Latest Time"),l.a.createElement("td",null,this.state.latest_class_time)),l.a.createElement("tr",null,l.a.createElement("th",{scope:"row"},"Break Length"),l.a.createElement("td",null,this.state.break_length)),l.a.createElement("tr",null,l.a.createElement("th",{scope:"row"},"Minimum Courses"),l.a.createElement("td",null,this.state.min_courses)),l.a.createElement("tr",null,l.a.createElement("th",{scope:"row"},"Maximum Courses"),l.a.createElement("td",null,this.state.max_courses)),l.a.createElement("tr",null,l.a.createElement("th",{scope:"row"},"Faculty"),l.a.createElement("td",null,this.state.profList.map(e=>l.a.createElement(nt.a,{label:e.full_name})))),l.a.createElement("tr",null,l.a.createElement("th",{scope:"row"},"Section"),l.a.createElement("td",null,this.state.sectionList.map(e=>l.a.createElement(nt.a,{label:e.section_code})))),l.a.createElement("tr",null,l.a.createElement("th",{scope:"row"},"Days"),l.a.createElement("td",null,this.state.daysList.map(e=>l.a.createElement(nt.a,{label:e})))),l.a.createElement("tr",null,l.a.createElement("th",{scope:"row"},"Buildings"),l.a.createElement("td",null,this.state.buildingList.map(e=>l.a.createElement(nt.a,{label:e})))),l.a.createElement("tr",null,l.a.createElement("th",{scope:"row"},"High Priority Courses"),l.a.createElement("td",null,this.state.highList.map(e=>l.a.createElement(nt.a,{label:e})))),l.a.createElement("tr",null,l.a.createElement("th",{scope:"row"},"Low Priority Courses"),l.a.createElement("td",null,this.state.lowList.map(e=>l.a.createElement(nt.a,{label:e})))))))),l.a.createElement("div",{class:"columnn",style:{float:"left",width:"35%"}},l.a.createElement("center",null,l.a.createElement("img",{id:"loweeer",src:rs.a}))))),l.a.createElement(la.a,{eventKey:"schedule",title:"Schedule"},l.a.createElement("div",{className:"hasSchedules",style:this.state.generatedContents.length>0?{}:{display:"none"}},l.a.createElement(K.a,{container:!0},l.a.createElement(K.a,{item:!0,xs:12},l.a.createElement("br",null),l.a.createElement(te.a,{gutterBottom:!0,variant:"h3",align:"center",style:{color:"black"}},"SECOND TRIMESTER, AY 2019 - 2020")),l.a.createElement(K.a,{item:!0,xs:4,justify:"center",alignItems:"center",justifyContent:"center",alignContent:"center"},l.a.createElement("center",null,l.a.createElement(De.a,{variant:"contained",className:t.buttonStyle,startIcon:l.a.createElement(Ia.a,null),onClick:this.handleCopy},"Copy Schedule"))),l.a.createElement(Me.a,{open:this.state.copyBar,autoHideDuration:4e3,onClose:this.handleCloseCopyBar},l.a.createElement(ws,{onClose:this.handleCloseCopyBar,severity:"success"},"New schedule has been copied and saved! ",l.a.createElement("a",{href:"/",style:{color:"#D3D3D3"}},"View in homepage"))),l.a.createElement(K.a,{item:!0,xs:4,justify:"center",alignItems:"center",justifyContent:"center",alignContent:"center"},l.a.createElement("center",null,l.a.createElement(c.Link,{to:"/compare_schedule/"+this.state.selectedFriendId},l.a.createElement(De.a,{variant:"contained",className:t.buttonStyle,startIcon:l.a.createElement(gs.a,null),onClick:this.toggleModalCompare},"Compare Schedules"))),l.a.createElement($e.a,{isOpen:this.state.openModalCompare,toggle:this.toggleModalCompare,returnFocusAfterClose:!1,backdrop:!0,"data-keyboard":"false"},l.a.createElement(Je.a,{toggle:this.toggleModalCompare},l.a.createElement("h4",null,"Compare Multiple Schedules")),l.a.createElement(Xe.a,null,l.a.createElement("h5",null,"Who do you want to compare schedules with?"),l.a.createElement("p",null,"Maximum of 4 friends"),l.a.createElement("div",{style:{justifyContent:"center",justify:"center",justifyItems:"center",margin:"auto 10px"}},l.a.createElement(rt.a,{multiple:!0,id:"checkboxes-tags-demo",options:e,disableCloseOnSelect:!0,getOptionLabel:e=>e.firstName+" "+e.lastName,defaultValue:[e[0]],renderOption:(e,{selected:t})=>l.a.createElement(l.a.Fragment,null,l.a.createElement(et.a,{icon:Ss,checkedIcon:ks,style:{marginRight:8},checked:t}),e.firstName+" "+e.lastName),renderInput:e=>l.a.createElement(_.a,Object.assign({},e,{variant:"outlined",label:"Checkboxes",placeholder:"Favorites"})),onChange:this.compareOnChange}))),l.a.createElement(Qe.a,null,l.a.createElement(De.a,{style:{color:"gray"},onClick:this.toggleModalCompare},"Cancel"),l.a.createElement(De.a,{color:"primary"},"Done")))),l.a.createElement(K.a,{item:!0,xs:4,justify:"center",alignItems:"center",justifyContent:"center",alignContent:"center"},l.a.createElement("center",null,l.a.createElement(De.a,{variant:"contained",className:t.buttonStyle,startIcon:l.a.createElement(fs.a,null),onClick:this.toggleModalSuggest},"Coordinate Schedules")),l.a.createElement($e.a,{isOpen:this.state.openModalSuggest,toggle:this.toggleModalSuggest,returnFocusAfterClose:!1,backdrop:!0,"data-keyboard":"false"},l.a.createElement(Je.a,{toggle:this.toggleModalSuggest},l.a.createElement("h4",null,"Generate Suggested Friend Schedules")),l.a.createElement(Xe.a,null,l.a.createElement("h5",null,"Generate possible schedules you can share with your friends",l.a.createElement(ha.a,{title:"The schedules generated will try to assign everyone possible same classes and leave certain time-slots empty in the schedule for the consideration of your friends' dissimilar courses",placement:"right"},l.a.createElement(Aa.a,null))),l.a.createElement("p",null,"Who do you want to create a schedule with?"),l.a.createElement("div",{style:{justifyContent:"center",justify:"center",justifyItems:"center",margin:"auto 10px"}},l.a.createElement(rt.a,{multiple:!0,id:"checkboxes-tags-demo",options:e,disableCloseOnSelect:!0,getOptionLabel:e=>e.firstName+" "+e.lastName,defaultValue:[this.state.friend],renderOption:(e,{selected:t})=>l.a.createElement(l.a.Fragment,null,l.a.createElement(et.a,{icon:Ss,checkedIcon:ks,style:{marginRight:8},checked:t}),e.firstName+" "+e.lastName),renderInput:e=>l.a.createElement(_.a,Object.assign({},e,{variant:"outlined",label:"Friends"})),onChange:this.generateOnChange})),l.a.createElement("br",null)),l.a.createElement(Qe.a,null,l.a.createElement(De.a,{style:{color:"gray"},onClick:this.toggleModalSuggest},"Cancel"),l.a.createElement(De.a,{onClick:this.handleCoordinate,color:"primary"},"Done"))),l.a.createElement("div",{className:"courseInputContainer"},l.a.createElement($e.a,{isOpen:!this.state.coordinating,returnFocusAfterClose:!1,backdrop:!0,"data-keyboard":"false",centered:!0},l.a.createElement(Je.a,null,l.a.createElement("center",null,l.a.createElement("br",null),l.a.createElement("p",null,"Please wait...In the process of loading your schedules"),l.a.createElement(at.a,{type:"spin",color:"#9BCFB8",height:"10%",width:"10%"}))),l.a.createElement(Qe.a,null,l.a.createElement(De.a,{onClick:this.onCancel,style:{color:"gray"}},"Cancel"))))),l.a.createElement(K.a,{item:!0,xs:12,className:"gridSavedContent"},l.a.createElement("div",{id:"savedContent",className:"savedContent",style:{height:"80em",color:"black"}},l.a.createElement("span",null,this.state.currentContent))),l.a.createElement(K.a,{item:!0,xs:12,justify:"center",alignItems:"center",justifyContent:"center",alignContent:"center"},l.a.createElement("div",{className:"paginationContainer",style:null!=this.state.generatedContents?{}:{display:"none"}},l.a.createElement(L.a,{"aria-label":"Page navigation example",style:{justifyContent:"center"}},l.a.createElement(O.a,{disabled:this.state.currentPage<=0},l.a.createElement(M.a,{onClick:e=>this.handlePageChange(e,this.state.currentPage-1),previous:!0})),[...Array(this.state.pagesCount)].map((e,t)=>l.a.createElement(O.a,{active:t===this.state.currentPage,key:t,className:"paginationItemStyle"},l.a.createElement(M.a,{onClick:e=>this.handlePageChange(e,t),className:"paginationLinkStyle"},t+1))),l.a.createElement(O.a,{disabled:this.state.currentPage>=this.state.generatedContents.length-1},l.a.createElement(M.a,{onClick:e=>this.handlePageChange(e,this.state.currentPage+1),next:!0}))))))),l.a.createElement("div",{className:"noSchedules",style:this.state.generatedContents.length<=0&&this.state.hasSelectedFriend?{justifyContent:"center"}:{display:"none"}},l.a.createElement("div",{className:"sidemenu-main",style:{justifyContent:"center",alignItems:"center"}},l.a.createElement("center",null,l.a.createElement("img",{src:Ot.a,style:{height:"10em",display:"block",whiteSpace:"pre",marginTop:"10em"}})),l.a.createElement("br",null),l.a.createElement("center",null,l.a.createElement("h3",null,"Your friend has not made any schedules yet")))))),l.a.createElement(Me.a,{open:this.state.snackBar,autoHideDuration:4e3,onClose:this.handleCloseSnackBar},l.a.createElement(ws,{onClose:this.handleCloseSnackBar,severity:"error"},this.state.snackBarText))):l.a.createElement("div",{className:"sidemenu-main",style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"90vh"}},l.a.createElement(at.a,{type:"spin",color:"#9BCFB8",height:"5%",width:"5%"}))):l.a.createElement("div",{className:"sidemenu-main"},l.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},l.a.createElement("img",{src:hs.a,style:{height:"10em",display:"block",whiteSpace:"pre",marginTop:"10em"}})),l.a.createElement("br",null),l.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},l.a.createElement("h3",null,"Select a friend to see their schedule!")))):l.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh"}},l.a.createElement(at.a,{type:"spin",color:"#9BCFB8",height:"5%",width:"5%"})))}}var Ns=Object(V.a)(e=>({pencilIcon:{marginLeft:"10px","&:hover":{backgroundColor:"white",color:"gray"}},checkIcon:{color:"green","&:hover":{backgroundColor:"white",color:"#79c879"}},unfriendBtnStyle:{textTransform:"none",width:"20px",borderRadius:"100px",border:"2px solid #16775D",borderStyle:"solid",borderColor:"#16775D",justifyContent:"center",backgroundColor:"white",color:"#16775D","&:hover:after":{content:"Unfriend"}},buttonStyle:{textTransform:"none",textDecoration:"none",width:"60%",fontSize:"95%",borderRadius:"10px",padding:"10px",paddingLeft:"10px",paddingRight:"10px",backgroundColor:"#16775D",border:"none",color:"white",boxShadow:"6px 5px #e8f4ea",borderStyle:"solid",borderColor:"#16775D",marginTop:"20px",alignContent:"center",alignItems:"center",justifyContent:"center",justify:"center",marginBottom:"1em","&:hover":{backgroundColor:"white",color:"#16775D"}}}))(Object(o.o)(xs)),_s=a(927),Ps=a(928),Ds=a(911),Is=Object(V.a)({root:{"&$checked":{color:ee.a[600]}},checked:{}})(e=>l.a.createElement(Ua.a,Object.assign({color:"default"},e))),Bs=Object(V.a)({root:{color:"#52af77",height:8},thumb:{height:12,width:12,backgroundColor:"#fff",border:"2px solid currentColor",marginTop:-8,marginLeft:-12,"&:focus, &:hover, &$active":{boxShadow:"inherit"}},active:{},valueLabel:{left:"calc(-50% + 4px)"},track:{height:8,borderRadius:4},rail:{height:8,borderRadius:4}})(_s.a);Object(V.a)({root:{"&$checked":{color:ee.a[600]}},checked:{}})(e=>l.a.createElement(et.a,Object.assign({color:"default"},e)));function Rs(e){return l.a.createElement(dt.a,Object.assign({elevation:6,variant:"filled"},e))}class Ts extends s.Component{constructor(e){super(e),this.checkEmptyFields=()=>0!=this.state.smeqResult&&""!=this.state.name.trim()&&""!=this.state.groupno.trim()&&""!=this.state.method.trim()&&(!this.state.susResult.includes(0)&&(!this.state.ueqResult.includes(0)&&(!this.state.nasaResult.includes(0)&&(!this.state.panasResult.includes(0)&&(!this.state.stressResult.includes(0)&&(!this.state.cognitiveResult.includes(0)&&(!this.state.decisionResult.includes(0)&&!this.state.groupResult.includes(0)))))))),this.handleChange=e=>{this.setState({selectedValue:e.target.value})},this.susScale=(e,t)=>l.a.createElement("div",{className:"scale"},l.a.createElement("span",{className:"survey-statements"},e),l.a.createElement(Va.a,{row:!0,"aria-label":"position",name:"sus"+t,onChange:e=>this.handleRadioChange(e,"sus",t)},l.a.createElement("span",null,"Strongly Disagree"),l.a.createElement(Qt.a,{value:"1",control:l.a.createElement(Is,null),label:"1",labelPlacement:"top"}),l.a.createElement(Qt.a,{value:"2",control:l.a.createElement(Is,null),label:"2",labelPlacement:"top"}),l.a.createElement(Qt.a,{value:"3",control:l.a.createElement(Is,null),label:"3",labelPlacement:"top"}),l.a.createElement(Qt.a,{value:"4",control:l.a.createElement(Is,null),label:"4",labelPlacement:"top"}),l.a.createElement(Qt.a,{value:"5",control:l.a.createElement(Is,null),label:"5",labelPlacement:"top"}),l.a.createElement("span",null,"Strongly Agree"))),this.stressScale=(e,t)=>l.a.createElement("div",{className:"scale"},l.a.createElement("span",{className:"survey-statements"},e),l.a.createElement(Va.a,{row:!0,"aria-label":"position",name:"position",onChange:e=>this.handleRadioChange(e,"stress",t)},l.a.createElement("span",null,"Strongly Disagree"),l.a.createElement(Qt.a,{value:"1",control:l.a.createElement(Is,null),label:"1",labelPlacement:"top"}),l.a.createElement(Qt.a,{value:"2",control:l.a.createElement(Is,null),label:"2",labelPlacement:"top"}),l.a.createElement(Qt.a,{value:"3",control:l.a.createElement(Is,null),label:"3",labelPlacement:"top"}),l.a.createElement(Qt.a,{value:"4",control:l.a.createElement(Is,null),label:"4",labelPlacement:"top"}),l.a.createElement("span",null,"Strongly Agree"))),this.ueqScale=(e,t,a,s)=>a?l.a.createElement("div",{className:"scale",style:{placeItems:"center",justify:"center"}},l.a.createElement(Va.a,{row:!0,"aria-label":"position",name:"ueq"+s,onChange:e=>this.handleRadioChange(e,"ueq",s)},l.a.createElement(K.a,{container:!0,spacing:1},l.a.createElement(K.a,{item:!0,xs:2},l.a.createElement("span",null,e)),l.a.createElement(K.a,{item:!0,xs:8},l.a.createElement(Qt.a,{value:"-3",control:l.a.createElement(Is,null),label:"1",labelPlacement:"top"}),l.a.createElement(Qt.a,{value:"-2",control:l.a.createElement(Is,null),label:"2",labelPlacement:"top"}),l.a.createElement(Qt.a,{value:"-1",control:l.a.createElement(Is,null),label:"3",labelPlacement:"top"}),l.a.createElement(Qt.a,{value:"0",control:l.a.createElement(Is,null),label:"4",labelPlacement:"top"}),l.a.createElement(Qt.a,{value:"1",control:l.a.createElement(Is,null),label:"5",labelPlacement:"top"}),l.a.createElement(Qt.a,{value:"2",control:l.a.createElement(Is,null),label:"6",labelPlacement:"top"}),l.a.createElement(Qt.a,{value:"3",control:l.a.createElement(Is,null),label:"7",labelPlacement:"top"})),l.a.createElement(K.a,{item:!0,xs:2},l.a.createElement("span",null,t))))):l.a.createElement("div",{className:"scale"},l.a.createElement(Va.a,{row:!0,"aria-label":"position",name:"ueq"+s,onChange:e=>this.handleRadioChange(e,"ueq",s)},l.a.createElement(K.a,{container:!0,spacing:1},l.a.createElement(K.a,{item:!0,xs:2},l.a.createElement("span",null,e)),l.a.createElement(K.a,{item:!0,xs:8},l.a.createElement(Qt.a,{value:"3",control:l.a.createElement(Is,null),label:"1",labelPlacement:"top"}),l.a.createElement(Qt.a,{value:"2",control:l.a.createElement(Is,null),label:"2",labelPlacement:"top"}),l.a.createElement(Qt.a,{value:"1",control:l.a.createElement(Is,null),label:"3",labelPlacement:"top"}),l.a.createElement(Qt.a,{value:"0",control:l.a.createElement(Is,null),label:"4",labelPlacement:"top"}),l.a.createElement(Qt.a,{value:"-1",control:l.a.createElement(Is,null),label:"5",labelPlacement:"top"}),l.a.createElement(Qt.a,{value:"-2",control:l.a.createElement(Is,null),label:"6",labelPlacement:"top"}),l.a.createElement(Qt.a,{value:"-3",control:l.a.createElement(Is,null),label:"7",labelPlacement:"top"})),l.a.createElement(K.a,{item:!0,xs:2},l.a.createElement("span",null,t))))),this.basicScale=(e,t,a)=>l.a.createElement("div",{className:"scale"},l.a.createElement("span",{className:"survey-statements"},e),l.a.createElement(Va.a,{row:!0,"aria-label":"position",name:a+t,onChange:e=>this.handleRadioChange(e,a,t)},l.a.createElement("span",null,"Very Difficult"),l.a.createElement(Qt.a,{value:"1",control:l.a.createElement(Is,null),label:"1",labelPlacement:"top"}),l.a.createElement(Qt.a,{value:"2",control:l.a.createElement(Is,null),label:"2",labelPlacement:"top"}),l.a.createElement(Qt.a,{value:"3",control:l.a.createElement(Is,null),label:"3",labelPlacement:"top"}),l.a.createElement(Qt.a,{value:"4",control:l.a.createElement(Is,null),label:"4",labelPlacement:"top"}),l.a.createElement("span",null,"Very Easy"))),this.panasScale=(e,t)=>l.a.createElement("div",{className:"scale"},l.a.createElement("span",{className:"survey-statements"},e),l.a.createElement(Va.a,{row:!0,"aria-label":"position",name:"panas"+t,onChange:e=>this.handleRadioChange(e,"panas",t)},l.a.createElement("span",null,"Very slightly or not at all"),l.a.createElement(Qt.a,{value:"1",control:l.a.createElement(Is,null),label:"1",labelPlacement:"top"}),l.a.createElement(Qt.a,{value:"2",control:l.a.createElement(Is,null),label:"2",labelPlacement:"top"}),l.a.createElement(Qt.a,{value:"3",control:l.a.createElement(Is,null),label:"3",labelPlacement:"top"}),l.a.createElement(Qt.a,{value:"4",control:l.a.createElement(Is,null),label:"4",labelPlacement:"top"}),l.a.createElement(Qt.a,{value:"5",control:l.a.createElement(Is,null),label:"5",labelPlacement:"top"}),l.a.createElement("span",null,"Extremely"))),this.nasaScale=(e,t,a)=>l.a.createElement("div",{className:"scale"},l.a.createElement("h5",null,e),l.a.createElement("span",{className:"survey-statements"},t),l.a.createElement(Va.a,{row:!0,"aria-label":"position",name:"nasa"+a,onChange:e=>this.handleRadioChange(e,"nasa",a)},l.a.createElement("span",null,"Very Low"),l.a.createElement(Qt.a,{value:"1",control:l.a.createElement(Is,null),label:"1",labelPlacement:"top"}),l.a.createElement(Qt.a,{value:"2",control:l.a.createElement(Is,null),label:"2",labelPlacement:"top"}),l.a.createElement(Qt.a,{value:"3",control:l.a.createElement(Is,null),label:"3",labelPlacement:"top"}),l.a.createElement(Qt.a,{value:"4",control:l.a.createElement(Is,null),label:"4",labelPlacement:"top"}),l.a.createElement(Qt.a,{value:"5",control:l.a.createElement(Is,null),label:"5",labelPlacement:"top"}),l.a.createElement(Qt.a,{value:"6",control:l.a.createElement(Is,null),label:"6",labelPlacement:"top"}),l.a.createElement(Qt.a,{value:"7",control:l.a.createElement(Is,null),label:"7",labelPlacement:"top"}),l.a.createElement(Qt.a,{value:"8",control:l.a.createElement(Is,null),label:"8",labelPlacement:"top"}),l.a.createElement(Qt.a,{value:"9",control:l.a.createElement(Is,null),label:"9",labelPlacement:"top"}),l.a.createElement(Qt.a,{value:"10",control:l.a.createElement(Is,null),label:"10",labelPlacement:"top"}),l.a.createElement("span",null,"Very High"))),this.handleRadioChange=(e,t,a)=>{if(console.log(t),"smeq"==t)this.state.smeqResult=e;else var s=e.target.value;if("sus"==t){var l=this.state.susResult;l.splice(a,1,s),console.log(l),console.log(this.state.susResult)}else if("ueq"==t){var n=this.state.ueqResult;n.splice(a,1,s),console.log(n),console.log(this.state.ueqResult)}else if("nasa"==t){var r=this.state.nasaResult;r.splice(a,1,s),console.log(r),console.log(this.state.nasaResult)}else if("panas"==t){var i=this.state.panasResult;i.splice(a,1,s),console.log(i),console.log(this.state.panasResult)}else if("stress"==t){var o=this.state.stressResult;o.splice(a,1,s),console.log(o),console.log(this.state.stressResult)}else if("cognitive"==t){var c=this.state.cognitiveResult;c.splice(a,1,s),console.log(c),console.log(this.state.cognitiveResult)}else if("decision"==t){var d=this.state.decisionResult;d.splice(a,1,s),console.log(d),console.log(this.state.decisionResult)}else if("group"==t){var h=this.state.groupResult;h.splice(a,1,s),console.log(h),console.log(this.state.groupResult)}},this.handleName=e=>{this.setState({name:e.target.value})},this.handleField=(e,t)=>{e.target.value;this.handleFieldChange(e,t)},this.handleFieldChange=(e,t)=>{var a=e.target.value;"name"==t?(this.state.name=a,console.log(this.state.name)):"groupno"==t?this.state.groupno=a:"method"==t?this.state.method=a:"cogntive"==t||"decision"==t||"group"==t||"comments"==t&&(this.state.comments=a)},this.handleSubmit=e=>{if(e.preventDefault(),console.log("submit pressed"),this.checkEmptyFields()){var t={susResult:this.state.susResult,ueqResult:this.state.ueqResult,nasaResult:this.state.nasaResult,smeqResult:this.state.smeqResult,panasResult:this.state.panasResult,stressResult:this.state.stressResult,cognitiveResult:this.state.cognitiveResult,decisionResult:this.state.decisionResult,groupResult:this.state.groupResult,comments:this.state.comments,name:this.state.name,groupno:this.state.groupno,method:this.state.method};console.log(JSON.stringify(t).length),v.a.post("https://animosched-backend-backup.herokuapp.com/api/surveys/",{data:JSON.stringify(t)}).then(e=>{this.setState({redirect:!0})}).catch(e=>{this.setState({snackBarText:"Error in submitting form.",snackBar:!0})})}else this.setState({snackBarText:"You have unanswered questions.",snackBar:!0})},this.handleCloseSnackBar=()=>{this.setState({snackBar:!1})},this.state={selectedValue:0,dataReceived:!0,currentWords:[],words:["Accessible","Effortless","Ordinary","Advanced","Empowering","Organised","Ambiguous","Energetic","Overwhelming","Annoying","Engaging","Patronising","Appealing","Entertaining","Poor quality","Approachable","Exciting","Powerful","Attractive","Expected","Predictable","Awkward","Familiar","Professional","Boring","Fast","Relevant","Bright","Faulty","Reliable","Business-like","Flexible","Responsive","Busy","Fresh","Rigid","Clean","Friendly","Satisfying","Clear","Frustrating","Secure","Cluttered","Fun","Simple","Compelling","Hard to Use","Simplistic","Complex","High quality","Slow","Comprehensive","Illogical","Sophisticated","Confusing","Impressive","Stable","Consistent","Inadequate","Stimulating","Contradictory","Incomprehensible","Straightforward","Controllable","Inconsistent","Stressful","Convenient","Ineffective","System-oriented","Counter-intuitive","Innovative","Time-consuming","Creative","Insecure","Time-saving","Credible","Intimidating","Too technical","Cutting edge","Intuitive","Trustworthy","Dated","Irrelevant","Unattractive","Desirable","Meaningful","Unconventional","Difficult","Misleading","Understandable","Distracting","Motivating","Unpredictable","Dull","New","Unrefined","Easy to use","Non-standard","Usable","Effective","Obscure","Useful","Efficient","Old","Vague"],wordList:[],susResult:[0,0,0,0,0,0,0,0,0,0],ueqResult:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],nasaResult:[0,0,0,0,0,0],smeqResult:0,panasResult:[0,0,0,0,0,0,0,0,0,0],stressResult:[0,0,0,0,0],wordResult:[],cognitiveResult:[0,0,0,0,0,0,0,0,0,0,0,0,0],decisionResult:[0,0,0,0,0,0],groupResult:[0,0,0,0,0,0,0,0,0],comments:"",stressComments:"",cognitiveComments:"",decisionComments:"",groupComments:"",name:"",groupno:"",method:"",snackBarText:"",snackBar:!1,redirect:!1}}componentDidMount(){var e=1,t=[];this.state.words.sort().map(a=>{t.push({id:e,word:a,checked:!1}),e+=1}),this.setState({wordList:t})}render(){var e=this.props.classes;return l.a.createElement("div",null,this.props.menu("preferences"),this.state.dataReceived?l.a.createElement("div",{className:"survey-category"},l.a.createElement("div",null,this.state.redirect?l.a.createElement(o.c,{to:"/surveythanks"}):null,l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("h1",{style:{marginTop:"20px"}},"Survey"),l.a.createElement("span",null,"Please make sure to answer all the questions in the questionnaires below, you're not allowed to skip any questions. All of these questions are related to the method you used for the experiment and your experience with it. Thank you!"),l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement("h3",null,"Participant Details"),l.a.createElement(_.a,{id:"outlined-basic",label:"Last Name, First Name",name:"fullName",placeholder:"Velasco, John",style:{marginRight:"25",width:"750"},onChange:e=>this.handleField(e,"name")}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(_.a,{id:"outlined-basic",label:"Group Number",name:"Group Number",placeholder:"A1",style:{marginRight:"25",width:"750"},onChange:e=>this.handleField(e,"groupno")}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(Wa.a,{className:e.formControl},l.a.createElement(Ps.a,{id:"demo-simple-select-label"},"Method Used"),l.a.createElement(Ds.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",style:{width:"230px"},onChange:e=>this.handleField(e,"method")},l.a.createElement(Ze.a,{value:"Traditional Method"},"Your own usual method"),l.a.createElement(Ze.a,{value:"AnimoSched Method"},"AnimoSched method")))),l.a.createElement("div",null),l.a.createElement("div",{className:"timePreferences"},l.a.createElement("h2",null,"SUS Survey"),l.a.createElement("p",null,"Please accomplish all the questions with the first answer you think of. All of these questions pertain to the method you used for the experiment. Feel free to ask for clarifications if you do not understand the question. Thank you!"),l.a.createElement("p",null,"*note: System refers to the method or process you use to create a schedule in this experiment."),l.a.createElement("div",{className:"preference-category-content"},["I think I would like to use this system frequently","I found the system unnecessarily complex","I thought the system was easy to use","I think that I would need the support of a technical person to be able to use this system","I found the various functions in this system well integrated","I thought there was too much inconsistency in this system","I would imagine that most people will learn to use this system very quickly","I found the system very cumbersome (difficult/awkward) to use the system very quickly","I felt very confident using the system","I needed to learn a lot of things before I could get going with this system"].map((e,t)=>this.susScale(e,t)))),l.a.createElement("div",{className:"ueq-survey"},l.a.createElement("h2",null,"User Experience Questionnaire"),l.a.createElement("p",null,"For the assessment of the method or process you used for this experiment, please fill out the following questionnaire. The questionnaire consists of pairs of contrasting attributes that may apply to the process. The circles between the attributes represent gradations between the opposites. You can express your agreement with the attributes by ticking the circle that most closely reflects your impression"),l.a.createElement("p",null,"Please decide spontaneously. Don\u2019t think too long about your decision to make sure that you convey your original impression."),l.a.createElement("p",null,"Sometimes you may not be completely sure about your agreement with a particular attribute or you may find that the attribute does not apply completely to the particular process. Nevertheless, please tick a circle in every line."),l.a.createElement("p",null,"It is your personal opinion that counts. Please remember: there is no wrong or right answer!"),l.a.createElement("div",{className:"preference-category-content"},l.a.createElement(Pt.a,{horizontal:"center",style:{justifyContent:"center"}},l.a.createElement("div",{style:{placeItems:"center"}},[["annoying","enjoyable",!0],["not understandable","understandable",!0],["creative","dull",!1],["easy to learn","difficult to learn",!1],["valuable","inferior",!1],["boring","exciting",!0],["not interesting","interesting",!0],["unpredictable","predictable",!0],["fast","slow",!1],["inventive","conventional",!1],["obstructive","supportive",!0],["good","bad",!1],["complicated","easy",!0],["unlikable","pleasing",!0],["usual","leading edge",!1],["unpleasant","pleasant",!0],["secure","not secure",!1],["motivating","demotivating",!1],["meets expectations","does not meet expectations",!1],["inefficient","efficient",!0],["clear","confusing",!1],["impractical","practical",!0],["organized","cluttered",!1],["attractive","unattractive",!1],["friendly","unfriendly",!1],["conservative","innovative",!0]].map((e,t)=>this.ueqScale(e[0],e[1],e[2],t)))))),l.a.createElement("div",{className:"nasa-survey"},l.a.createElement("h2",null,"NASA TLX"),l.a.createElement("span",null,"This questionnaire assesses the work load you've experienced with the tasks."),l.a.createElement("div",{className:"preference-category-content"},[["Mental Demand","How mentally demanding was the task?"],["Physical Demand","How physically demanding was the task?"],["Temporal Demand","How hurried or rushed was the pace of the task?"],["Performance","How successful were you in accomplishing what you were asked to do?"],["Effort","How hard did you have to work to accomplish your level of performance?"],["Frustration","How insecure, discouraged, irritated, stressed, and annoyed were you?"]].map((e,t)=>this.nasaScale(e[0],e[1],t)))),l.a.createElement("div",{className:"workloadPreferences"},l.a.createElement("h2",null,"Subjective Mental Effort Questionnaire (SMEQ)"),l.a.createElement("span",null,"To assess mental effort you exerted in the tasks, use the slider that goes from 0-150 to specify the difficulty. The levels of difficulty are also found in the slider."),l.a.createElement("div",{className:"preference-category-content"},l.a.createElement(Pt.a,{horizontal:"center",style:{justifyContent:"center"}},l.a.createElement("div",{className:"scale",style:{height:500,placeItems:"center"}},l.a.createElement(Bs,{valueLabelDisplay:"auto",orientation:"vertical",defaultValue:0,"aria-labelledby":"vertical-slider",marks:[{value:1.367578,label:"Not at all hard to do"},{value:11.62609,label:"Not very hard to do"},{value:25.53207,label:"A bit hard to do"},{value:36.47449,label:"Fairly hard to do"},{value:56.30762,label:"Rather hard to do"},{value:70.66954,label:"Pretty hard to do"},{value:85.03146,label:"Very hard to do"},{value:101.445,label:"Very very hard to do"},{value:113.4133,label:"Tremendously hard to do"}],max:150,onChange:(e,t)=>this.handleRadioChange(t,"smeq","none")}))))),l.a.createElement("div",{className:"panas-survey"},l.a.createElement("h2",null,"PANAS"),l.a.createElement("span",null,"This questionnaire contains 10-items of emotions. Please answer them based on all the emotions you've felt throughout the tasks."),l.a.createElement("div",{className:"preference-category-content"},["Upset","Hostile","Alert","Ashamed","Inspired","Nervous","Determined","Attentive","Active","Afraid"].map((e,t)=>this.panasScale(e,t)))),l.a.createElement("div",{className:"stress-survey"},l.a.createElement("h2",null,"Stress"),l.a.createElement("p",null,"We want to understand which specific parts of the process makes you feel stressed. Please answer the scale and explain your answer so we may understand what your logic and thought process was behind it."),l.a.createElement("div",{className:"preference-category-content"},["I find creating schedules for myself to be stressful","I think coordinating class schedules with my friends is stressful","I find it stressful to re-adjust just my schedule because of sudden changes","I find it stressful to re-adjust my schedule with my friends after sudden changes","It is stressful to keep track of a lot of things for creating my/our schedule"].map((e,t)=>this.stressScale(e,t)))),l.a.createElement("div",{className:"cognitive-survey"},l.a.createElement("h2",null,"Cognitive Load & Decision-making"),l.a.createElement("p",null,"We want to understand which specific parts of the process makes you feel overwhelmed (cognitive load) and your thoughts on decision-making."),l.a.createElement("div",{className:"preference-category-content"},["Overall, the task of creating a schedule for yourself was?","Keeping track of the classes I like was?","Keeping track of the classes I dislike was?","Keeping track of all the necessary information I need to create my schedule was?","Keeping track of the classes I can't get (full or unavailable) was?","Keeping track of what I want in a schedule was?","Organizing my choices and options was?","Visualizing my schedule was?","Resolving course conflicts was?","Creating different schedule possibilities was?","Keeping track of the different schedule possibilities was?","Keeping track of the schedule I want was?","Adjusting my schedule based on changes was?"].map((e,t)=>this.basicScale(e,t,"cognitive")),["Overall, making decisions while creating a schedule was?","Efficiently weighing my choices and options was?","Picking my classes was?","Picking a final schedule was?","Picking between equally good choices was?","Picking between equally bad choices was?"].map((e,t)=>this.basicScale(e,t,"decision")),["Overall, the task of creating a schedule with your friends was?","Coordinating with my friends to create a schedule was?","Coordinating possible similar classes with all of my friends was?","Factoring in my friends' preferences in my schedule was?","Keeping track and resolving possible conflicts between our schedules was?","Creating multiple possible schedules with my friends was?","Adjusting my schedule due to sudden changes with my friends was?","Comparing my schedule with my friends' schedule was?","Picking a schedule my friends and I are happy with"].map((e,t)=>this.basicScale(e,t,"group")))),l.a.createElement("div",{className:"comments-survey"},l.a.createElement("h2",null,"Comments"),l.a.createElement("p",null,"Feel free to leave any interesting comments and insights here if it was not covered in any of the questions above."),l.a.createElement("div",{className:"preference-category-content"},l.a.createElement(_.a,{id:"standard-full-width",label:"Comments, insights, realizations",style:{margin:8},placeholder:"Answer here",fullWidth:!0,margin:"normal",onChange:e=>this.handleField(e,"comments")}))),l.a.createElement("center",null,l.a.createElement(De.a,{variant:"contained",className:e.buttonStyle,onClick:this.handleSave,type:"submit"},"SUBMIT")))),l.a.createElement(Me.a,{open:this.state.snackBar,autoHideDuration:4e3,onClose:this.handleCloseSnackBar},l.a.createElement(Rs,{onClose:this.handleCloseSnackBar,severity:"error"},this.state.snackBarText))):l.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"90vh"}},l.a.createElement(at.a,{type:"spin",color:"#9BCFB8",height:"5%",width:"5%"})))}}var Fs=Object(V.a)(e=>({homeButton:{color:"green",marginLeft:"10px","&:hover":{color:"#79c879"}},iconStyle:{margin:"10px","&:hover":{color:ee.a[500]}},buttonStyle:{marginBottom:"50px",textTransform:"none",width:"160px",borderRadius:"25px",padding:"10px",paddingLeft:"10px",paddingRight:"10px",backgroundColor:"#16775D",border:"none",color:"white",boxShadow:"6px 5px #e8f4ea",borderStyle:"solid",borderColor:"#16775D",marginTop:"20px",justifyContent:"center","&:hover":{backgroundColor:"white",color:"#16775D"},formControl:{margin:e.spacing(1),minWidth:500},selectEmpty:{marginTop:e.spacing(2)}}}))(Ts);class Ls extends s.Component{constructor(e){super(e),this.handleSimul=()=>{v.a.get("https://animosched-backend-backup.herokuapp.com/api/enlist/").then(e=>{window.location.reload()})},this.handleEmptyAll=()=>{v.a.get("https://animosched-backend-backup.herokuapp.com/api/empty/").then(e=>{window.location.reload()})},this.handleFull=e=>{v.a.post("https://animosched-backend-backup.herokuapp.com/api/modifyoffering/",{classnumber:e,action:"full"}).then(e=>{window.location.reload()})},this.handleEmpty=e=>{v.a.post("https://animosched-backend-backup.herokuapp.com/api/modifyoffering/",{classnumber:e,action:"empty"}).then(e=>{window.location.reload()})},this.handleAllow=e=>{v.a.post("https://animosched-backend-backup.herokuapp.com/api/enlists/",{idnum:e,allowed:!0}).then(e=>{window.location.reload()})},this.handleChange=e=>{this.setState({addIdnum:e.target.value})},this.handleAddEnlist=()=>{v.a.post("https://animosched-backend-backup.herokuapp.com/api/enlists/",{idnum:this.state.addIdnum,allowed:!0}).then(e=>{window.location.reload()})},this.handleDeleteEnlist=e=>{v.a.delete("https://animosched-backend-backup.herokuapp.com/api/enlists/"+e).then(e=>{window.location.reload()})},this.state={rows:[],enlists:[],addIdnum:"",dataReceived:!1}}createData(e,t,a,s,l,n,r){return{course:e,section:t,classnumber:a,idnum:s,name:l,enrolled:n,capacity:r}}createEnlistData(e,t,a){return{id:e,idnum:t,allowed:a}}componentDidMount(){this.setState({dataReceived:!1});var e=[],t=[];v.a.get("https://animosched-backend-backup.herokuapp.com/api/carts/").then(t=>{t.data.map(t=>{v.a.get("https://animosched-backend-backup.herokuapp.com/api/getclass/"+t.classnumber).then(a=>{var s=a.data[0][0];void 0!=s&&(e.push(this.createData(s.course,s.section,s.classnumber,t.idnum,t.name,s.current_enrolled,s.max_enrolled)),this.setState({rows:e}))})})}),v.a.get("https://animosched-backend-backup.herokuapp.com/api/enlists/").then(e=>{console.log(e.data),e.data.map(e=>{t.push(this.createEnlistData(e.id,e.idnum,e.allowed)),this.setState({enlists:t})})}),this.setState({dataReceived:!0})}render(){return l.a.createElement("div",null,this.state.dataReceived?l.a.createElement("div",null,l.a.createElement(he.a,{component:z.a},l.a.createElement(ce.a,{"aria-label":"simple table"},l.a.createElement(me.a,null,l.a.createElement(oe.a,null,l.a.createElement(ie.a,null,"Action"),l.a.createElement(ie.a,null,"Course"),l.a.createElement(ie.a,{align:"right"},"Classnumber"),l.a.createElement(ie.a,{align:"right"},"ID Number"),l.a.createElement(ie.a,{align:"right"},"Name"),l.a.createElement(ie.a,{align:"right"},"Enrolled"),l.a.createElement(ie.a,{align:"right"},"Capacity"))),l.a.createElement(de.a,null,this.state.rows.map(e=>l.a.createElement(oe.a,{key:e.course},l.a.createElement(ie.a,null,l.a.createElement(De.a,{variant:"contained",onClick:()=>this.handleFull(e.classnumber)},"Full"),l.a.createElement(De.a,{variant:"contained",onClick:()=>this.handleEmpty(e.classnumber)},"Empty"),l.a.createElement(De.a,{variant:"contained",onClick:()=>this.handleAllow(e.idnum)},"Allow")),l.a.createElement(ie.a,{component:"th",scope:"row"},e.course+" "+e.section),l.a.createElement(ie.a,{align:"right"},e.classnumber),l.a.createElement(ie.a,{align:"right"},e.idnum),l.a.createElement(ie.a,{align:"right"},e.name),l.a.createElement(ie.a,{align:"right"},e.enrolled),l.a.createElement(ie.a,{align:"right"},e.capacity)))))),l.a.createElement(R.a,null),l.a.createElement(he.a,{component:z.a},l.a.createElement(ce.a,{"aria-label":"simple table"},l.a.createElement(me.a,null,l.a.createElement(oe.a,null,l.a.createElement(ie.a,null,"Actions"),l.a.createElement(ie.a,null,"ID Number"),l.a.createElement(ie.a,null,"Allowed"))),l.a.createElement(de.a,null,this.state.enlists.map(e=>l.a.createElement(oe.a,{key:e.idnum},l.a.createElement(ie.a,null,l.a.createElement(De.a,{variant:"contained",onClick:()=>this.handleDeleteEnlist(e.id)},"Delete")),l.a.createElement(ie.a,{component:"th",scope:"row"},e.idnum),l.a.createElement(ie.a,null,e.allowed?"true":"false")))))),l.a.createElement("span",null,l.a.createElement(De.a,{variant:"contained",onClick:this.handleSimul},"Simulate Enlistment"),l.a.createElement(De.a,{variant:"contained",onClick:this.handleEmptyAll},"Empty course offerings")),l.a.createElement("span",null,l.a.createElement(_.a,{onChange:this.handleChange}),l.a.createElement(De.a,{variant:"contained",onClick:this.handleAddEnlist},"Add allowed"))):null)}}var Os=Ls;a(806);class Ms extends s.Component{constructor(e){super(e),this.createTimeslot=(e,t,a)=>"M"==e?new Date(2018,5,25,t,a):"T"==e?new Date(2018,5,26,t,a):"W"==e?new Date(2018,5,27,t,a):"H"==e?new Date(2018,5,28,t,a):"F"==e?new Date(2018,5,29,t,a):"S"==e?new Date(2018,5,30,t,a):void 0,this.handlePageChange=(e,t,a)=>{this.setState({dataReceived:!1},()=>{if("user"==a){var e=this.state.generatedContentsUser[t],s=this.state.currentContentFriend,l=e.props.tableContent,n=s.props.tableContent;e.props.matched.length=0,s.props.matched.length=0;for(var r=0;r<l.length;r++)for(var i=0;i<n.length;i++)e.props.tableContent[r].compareMatch=!1,s.props.tableContent[i].compareMatch=!1;for(r=0;r<l.length;r++)for(i=0;i<n.length;i++)l[r].classNmbr==n[i].classNmbr&&(e.props.tableContent[r].compareMatch=!0,s.props.tableContent[i].compareMatch=!0,e.props.matched.push(l[r].course+" "+l[r].section),s.props.matched.push(l[r].course+" "+l[r].section));this.setState({currentContentUser:e}),this.setState({currentContentFriend:s}),this.setState({currentPageUser:t}),this.setState({currentPageFriend:this.state.currentPageFriend}),this.setState({dataReceived:!0}),console.log("pressed page "+t)}else if("friend"==a){e=this.state.currentContentUser,s=this.state.generatedContentsFriend[t],l=e.props.tableContent,n=s.props.tableContent;e.props.matched.length=0,s.props.matched.length=0;for(r=0;r<l.length;r++)for(i=0;i<n.length;i++)e.props.tableContent[r].compareMatch=!1,s.props.tableContent[i].compareMatch=!1;for(r=0;r<l.length;r++)for(i=0;i<n.length;i++)l[r].classNmbr==n[i].classNmbr&&(e.props.tableContent[r].compareMatch=!0,s.props.tableContent[i].compareMatch=!0,e.props.matched.push(l[r].course+" "+l[r].section),s.props.matched.push(l[r].course+" "+l[r].section));this.setState({currentContentUser:e}),this.setState({currentContentFriend:s}),this.setState({currentPageUser:this.state.currentPageUser}),this.setState({currentPageFriend:t}),this.setState({dataReceived:!0}),console.log("pressed page "+t)}})},this.setSchedInfo=()=>{JSON.parse(localStorage.getItem("palette"));var e=["#1161c6","#136cdd","#1d79ec","#3587ee","#4d95f0","#64a3f2","#7cb1f4"],t=["#c61a11","#dd1e13","#ec291d","#ee3f35","#f0554d","#f26c64","#f4827c"];console.log(this.state.schedulesUser);var a=this.state.schedulesUser.map((t,a)=>l.a.createElement(ve,{key:t.id,id:t.id,offerings:t.offerings,tableContent:t.tableContent,scheduleContent:t.scheduleContent,titleName:t.title,allowEdit:this.state.allowEdit,earliest:7,latest:18,palette:e,matched:[]}));console.log(this.state.schedulesFriend);var s=this.state.schedulesFriend.map((e,a)=>l.a.createElement(ve,{key:e.id,id:e.id,offerings:e.offerings,tableContent:e.tableContent,scheduleContent:e.scheduleContent,titleName:e.title,allowEdit:this.state.allowEdit,earliest:7,latest:18,palette:t,matched:[]}));this.setState({generatedContentsFriend:s},()=>{this.setState({currentContentFriend:s[0]},()=>{console.log(this.state.currentContentFriend),this.setState({generatedContentsUser:a},()=>{this.setState({currentContentUser:a[0]},()=>{console.log(this.state.currentContentUser);var e=this.state.currentContentUser,t=this.state.currentContentFriend;console.log(e),console.log(t);for(var a=e.props.tableContent,s=t.props.tableContent,l=0;l<a.length;l++)for(var n=0;n<s.length;n++)a[l].classNmbr==s[n].classNmbr&&(e.props.tableContent[l].compareMatch=!0,t.props.tableContent[n].compareMatch=!0,e.props.matched.push(a[l].course+" "+a[l].section),t.props.matched.push(a[l].course+" "+a[l].section),console.log(e),console.log(t));this.setState({currentContentUser:e}),this.setState({currentContentFriend:t})}),this.setState({pagesCountUser:a.length}),this.setState({currentPageUser:0})})}),this.setState({pagesCountFriend:s.length}),this.setState({currentPageFriend:0})})},this.state={currentPageUser:0,currentContentUser:"",generatedContentsUser:[],pagesCountUser:1,currentPageFriend:0,currentContentFriend:"",generatedContentsFriend:[],pagesCountFriend:1,schedulesUser:[],schedulesFriend:[],dataReceived:!1,friendName:"",matched:[],matchPalette:["#ee4035","#f37736","#fdf498","#7bc043","#0392cf","#d11141","#00b159","#00aedb","#f37735","#ffc425"],matchPalCount:0}}createData(e,t,a,s,l,n,r,i,o,c,d){return{classNmbr:e,course:t,section:a,faculty:s,day:l,startTime:n,endTime:r,room:i,capacity:o,enrolled:c,compareMatch:d}}checkCompare(){for(var e=this.state.generatedContentsUser,t=this.state.generatedContentsFriend,a=0;a<e.length;a++)for(var s=0;s<t.length;s++){console.log(e),console.log(t);for(var l=e[a].props.tableContent,n=t[s].props.tableContent,r=[],i=0;i<l.length;i++)for(var o=0;o<n.length;o++)l[i].classNmbr==n[o].classNmbr&&(e[a].props.tableContent[i].compareMatch=!0,t[s].props.tableContent[o].compareMatch=!0,r.push(e[a].title),this.setState({generatedContentsUser:e}),this.setState({generatedContentsFriend:t}),console.log(e),console.log(t))}console.log(r),this.setState({matched:r})}componentDidMount(){this.state.dataReceived||v.a.get("https://animosched-backend-backup.herokuapp.com/api/schedulelist/"+localStorage.getItem("user_id")+"/").then(e=>{var t=[];e.data.map(e=>{var a=0,s=[],l=[],n=9,r=17,i=Be()(e.courseOfferings,"classnumber");for(var o in i){var c=[],d="",h="",m="",u="",p="",g="",E="",f="",b="",C="";i[o].map(e=>{c.push(e.day),h=e.classnumber,m=e.course,u=e.section,p=e.faculty,g=e.timeslot_begin.substring(0,e.timeslot_begin.length-3),E=e.timeslot_end.substring(0,e.timeslot_end.length-3),f=e.room,b=e.max_enrolled,C=e.current_enrolled}),c.map(e=>{d+=e});var v=this.createData(h,m,u,p,d,g,E,f,b,C,!1);l.push(v)}e.courseOfferings.map(e=>{var t=e.timeslot_begin.split(":"),l=e.timeslot_end.split(":"),i={id:a,title:e.course+" "+e.section,section:e.section,startDate:this.createTimeslot(e.day,t[0],t[1]),endDate:this.createTimeslot(e.day,l[0],l[1]),location:e.room,professor:e.faculty,startTime:e.timeslot_begin.substring(0,e.timeslot_begin.length-3),endTime:e.timeslot_end.substring(0,e.timeslot_end.length-3),days:e.day,classCode:e.classnumber};n>Number(t[0])&&(n=Number(t[0])),r<Number(l[0])+1&&(r=Number(l[0])+1),s.push(i),a+=1}),t.unshift({id:e.id,title:e.title,scheduleContent:s,tableContent:l,prefContent:[],conflictsContent:e.information,earliest:n,latest:r,offerings:e.courseOfferings})}),console.log(t),this.setState({schedulesUser:t}),v.a.get("https://animosched-backend-backup.herokuapp.com/api/schedulelist/"+this.props.params.id+"/").then(e=>{var t=[];e.data.map(e=>{var a=0,s=[],l=[],n=9,r=17,i=Be()(e.courseOfferings,"classnumber");for(var o in i){var c=[],d="",h="",m="",u="",p="",g="",E="",f="",b="",C="";i[o].map(e=>{c.push(e.day),h=e.classnumber,m=e.course,u=e.section,p=e.faculty,g=e.timeslot_begin.substring(0,e.timeslot_begin.length-3),E=e.timeslot_end.substring(0,e.timeslot_end.length-3),f=e.room,b=e.max_enrolled,C=e.current_enrolled}),c.map(e=>{d+=e});var v=this.createData(h,m,u,p,d,g,E,f,b,C,!1);l.push(v)}e.courseOfferings.map(e=>{var t=e.timeslot_begin.split(":"),l=e.timeslot_end.split(":"),i={id:a,title:e.course+" "+e.section,section:e.section,startDate:this.createTimeslot(e.day,t[0],t[1]),endDate:this.createTimeslot(e.day,l[0],l[1]),location:e.room,professor:e.faculty,startTime:e.timeslot_begin.substring(0,e.timeslot_begin.length-3),endTime:e.timeslot_end.substring(0,e.timeslot_end.length-3),days:e.day,classCode:e.classnumber};n>Number(t[0])&&(n=Number(t[0])),r<Number(l[0])+1&&(r=Number(l[0])+1),s.push(i),a+=1}),t.unshift({id:e.id,title:e.title,scheduleContent:s,tableContent:l,prefContent:[],conflictsContent:e.information,earliest:n,latest:r,offerings:e.courseOfferings})}),console.log(t),this.setState({schedulesFriend:t}),this.setSchedInfo(),this.setState({success:!0}),this.setState({loading:!1}),this.setState({dataReceived:!0})}).catch(e=>{console.log(e)}),v.a.get("https://animosched-backend-backup.herokuapp.com/api/users/"+this.props.params.id+"/").then(e=>{this.setState({friendName:e.data.first_name})}).catch(e=>{console.log(e)})}).catch(e=>{console.log(e)});var e=[];e.push(this.props.params.id),v.a.post("https://animosched-backend-backup.herokuapp.com/api/generateschedulefriends/",{user_id:localStorage.getItem("user_id"),filterFull:!0,friends:e}).then(e=>{console.log(e.data)}).catch(e=>{console.log(e.response)})}componentWillMount(){this.setState({pagesCountUser:this.state.generatedContentsUser.length}),this.setState({pagesCountFriend:this.state.generatedContentsFriend.length}),this.setState({currentContentUser:this.state.generatedContentsUser[this.state.currentPageUser]},()=>{}),this.setState({currentContentFriend:this.state.generatedContentsFriend[this.state.currentPageFriend]},()=>{})}render(){var e=this.props.classes;return l.a.createElement("div",null,l.a.createElement("div",{class:"header",style:{backgroundColor:"#006A4E",padding:"10px"}},l.a.createElement("a",{className:"backBtn",href:"/view_friends"},l.a.createElement("div",{className:"backBtn",style:{marginTop:"5px"}}),l.a.createElement(_t.a,{fontSize:"large",className:e.backBtn,viewBox:"0 0 1 24"})," ",l.a.createElement("span",{className:"backBtn"},"Back")),l.a.createElement("div",{style:{color:"white"}},l.a.createElement("center",null,l.a.createElement("h5",null,"SECOND TRIMESTER, AY 2019 - 2020")))),this.state.dataReceived?l.a.createElement("div",null,l.a.createElement(K.a,{container:!0,style:{marginTop:"30px"}},l.a.createElement(K.a,{item:!0,xs:12,justify:"center",alignItems:"center",justifyContent:"center",alignContent:"center"}),l.a.createElement(K.a,{item:!0,xs:6},l.a.createElement("center",null,l.a.createElement("h6",null,"Your Schedule")),l.a.createElement("div",{className:"scheduleContent"},l.a.createElement("center",null,l.a.createElement("span",null,this.state.currentContentUser)),l.a.createElement("div",{className:"paginationContainer",style:null!=this.state.generatedContentsUser?{}:{display:"none"}},l.a.createElement(L.a,{"aria-label":"Page navigation example",style:{justifyContent:"center"}},l.a.createElement(O.a,{disabled:this.state.currentPageUser<=0},l.a.createElement(M.a,{onClick:e=>this.handlePageChange(e,this.state.currentPageUser-1,"user"),previous:!0})),[...Array(this.state.pagesCountUser)].map((e,t)=>l.a.createElement(O.a,{active:t===this.state.currentPageUser,key:t,className:"paginationItemStyle"},l.a.createElement(M.a,{onClick:e=>this.handlePageChange(e,t,"user"),className:"paginationLinkStyle"},t+1))),l.a.createElement(O.a,{disabled:this.state.currentPageUser>=this.state.generatedContentsUser.length-1},l.a.createElement(M.a,{onClick:e=>this.handlePageChange(e,this.state.currentPageUser+1,"user"),next:!0})))))),l.a.createElement(K.a,{item:!0,xs:6},l.a.createElement("center",null,l.a.createElement("h6",null,this.state.friendName,"'s Schedule")),l.a.createElement("div",{className:"scheduleContent"},l.a.createElement("center",null,l.a.createElement("span",null,this.state.currentContentFriend)),l.a.createElement("div",{className:"paginationContainer",style:null!=this.state.generatedContentsFriend?{}:{display:"none"}},l.a.createElement(L.a,{"aria-label":"Page navigation example",style:{justifyContent:"center"}},l.a.createElement(O.a,{disabled:this.state.currentPageFriend<=0},l.a.createElement(M.a,{onClick:e=>this.handlePageChange(e,this.state.currentPageFriend-1,"friend"),previous:!0})),[...Array(this.state.pagesCountFriend)].map((e,t)=>l.a.createElement(O.a,{active:t===this.state.currentPageFriend,key:t,className:"paginationItemStyle"},l.a.createElement(M.a,{onClick:e=>this.handlePageChange(e,t,"friend"),className:"paginationLinkStyle"},t+1))),l.a.createElement(O.a,{disabled:this.state.currentPageFriend>=this.state.generatedContentsFriend.length-1},l.a.createElement(M.a,{onClick:e=>this.handlePageChange(e,this.state.currentPageFriend+1,"friend"),next:!0})))))))):l.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh"}},l.a.createElement(at.a,{type:"spin",color:"#9BCFB8",height:"5%",width:"5%"})))}}var As=Object(V.a)(e=>({root:{display:"flex",alignItems:"center"},wrapper:{margin:e.spacing(1),position:"relative"},buttonSuccess:{backgroundColor:ee.a[500],"&:hover":{backgroundColor:ee.a[700]}},buttonProgress:{color:ee.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},backBtn:{color:"white","&:hover":{color:"#d3d3d3"}}}))(Ms),js={minHeight:"100vh",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",overflow:"hidden",backgroundImage:"linear-gradient(#086e53, #579d8b)"};class zs extends s.Component{constructor(e){super()}render(){var e=this.props.classes;return l.a.createElement("div",{style:js},l.a.createElement("div",{className:"backBtn"},l.a.createElement("a",{className:"backBtn",href:"/"},l.a.createElement(_t.a,{fontSize:"large",className:e.backBtn,viewBox:"0 0 1 24"})," ",l.a.createElement("span",{className:"backBtn"},"Back"))),l.a.createElement("div",{style:{textAlign:"center"}},l.a.createElement(Pt.a,null,l.a.createElement(Dt.a,null),l.a.createElement(Dt.a,{lg:"8"},l.a.createElement("h1",{style:{color:"white"}},l.a.createElement("img",{alt:"",src:"/logo.svg",width:"40",height:"40",className:"d-inline-block align-top"}),"AnimoSched"),l.a.createElement(It.a,{style:{padding:32,backgroundColor:"white",marginLeft:"15%",marginRight:"15%",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)"}},l.a.createElement("h3",null,"Your email has been verified!"),l.a.createElement("a",{href:"/login"},l.a.createElement(Pt.a,{horizontal:"center",style:{justifyContent:"center"}},l.a.createElement("div",{className:e.root},l.a.createElement("div",{className:e.wrapper},l.a.createElement(De.a,{variant:"contained",color:"primary",className:e.buttonLogin,style:{}},"Login here"))))))),l.a.createElement(Dt.a,null))))}}var qs=Object(V.a)(e=>({root:{display:"flex",alignItems:"center"},wrapper:{margin:e.spacing(1),position:"relative",alignItems:"center",justifyContent:"center"},buttonLogin:{fontSize:"100%",width:"110%",alignItems:"center",justifyContent:"center",textTransform:"none",borderRadius:"30px",padding:"10px",paddingLeft:"30px",paddingRight:"30px",backgroundColor:"green",border:"none",color:"white",boxShadow:"6px 5px #e8f4ea",borderStyle:"solid",borderColor:"green","&:hover":{color:"green",backgroundColor:"#FFFFFF"}},buttonProgress:{color:ee.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},backBtn:{color:"white",marginLeft:"5px","&:hover":{color:"#d3d3d3"}}}))(zs),Hs=a(473),Us=a.n(Hs);Object(V.a)({root:{"&$checked":{color:ee.a[600]}},checked:{}})(e=>l.a.createElement(Ua.a,Object.assign({color:"default"},e))),Object(V.a)({root:{color:"#52af77",height:8},thumb:{height:12,width:12,backgroundColor:"#fff",border:"2px solid currentColor",marginTop:-8,marginLeft:-12,"&:focus, &:hover, &$active":{boxShadow:"inherit"}},active:{},valueLabel:{left:"calc(-50% + 4px)"},track:{height:8,borderRadius:4},rail:{height:8,borderRadius:4}})(_s.a),Object(V.a)({root:{"&$checked":{color:ee.a[600]}},checked:{}})(e=>l.a.createElement(et.a,Object.assign({color:"default"},e)));class Vs extends s.Component{constructor(e){super(e),this.state={dataReceived:!0}}render(){return l.a.createElement("div",null,this.props.menu("preferences"),this.state.dataReceived?l.a.createElement("div",{className:"survey-category"},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("center",null,l.a.createElement("h1",{style:{marginTop:"20px"}},"Thank you for participating!")),l.a.createElement("center",null,l.a.createElement("h3",null,"Thank you so much for you time. You and your friends are officially part of the raffle!")),l.a.createElement("br",null),l.a.createElement("center",null,l.a.createElement("img",{style:{width:"30%"},src:Us.a}))):l.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"90vh"}},l.a.createElement(at.a,{type:"spin",color:"#9BCFB8",height:"5%",width:"5%"})))}}var Ws=Object(V.a)(e=>({homeButton:{color:"green",marginLeft:"10px","&:hover":{color:"#79c879"}},iconStyle:{margin:"10px","&:hover":{color:ee.a[500]}},buttonStyle:{marginBottom:"50px",textTransform:"none",width:"160px",borderRadius:"25px",padding:"10px",paddingLeft:"10px",paddingRight:"10px",backgroundColor:"#16775D",border:"none",color:"white",boxShadow:"6px 5px #e8f4ea",borderStyle:"solid",borderColor:"#16775D",marginTop:"20px",justifyContent:"center","&:hover":{backgroundColor:"white",color:"#16775D"},formControl:{margin:e.spacing(1),minWidth:500},selectEmpty:{marginTop:e.spacing(2)}}}))(Vs),Gs=a(474),Ks=a.n(Gs),Ys=a(475),$s=a.n(Ys),Js=a(907);class Xs extends s.Component{constructor(e){super(e),this.handle_login=(e,t)=>{v.a.post("https://animosched-backend-backup.herokuapp.com/api/auth/login/",e,{headers:{"Content-Type":"application/json"}}).then(e=>{localStorage.setItem("token",e.data.token),localStorage.setItem("first_name",e.data.user.first_name),localStorage.setItem("last_name",e.data.user.last_name),localStorage.setItem("user_id",e.data.user.id),this.setState({logged_in:!0,first_name:e.data.user.first_name,last_name:e.data.user.last_name,user_id:e.data.user.id}),t(null)}).catch(e=>{console.log(e.response),t(e.response)})},this.responseGoogle=(e,t)=>{var a=e.email,s=e.lastName,l=e.firstName;v.a.post("https://animosched-backend-backup.herokuapp.com/api/googlelogin/",{email:a,firstName:l,lastName:s}).then(e=>{e.data.loggedIn&&(localStorage.setItem("first_name",l),localStorage.setItem("last_name",s),localStorage.setItem("user_id",e.data.user),this.setState({logged_in:!0,first_name:l,last_name:s,user_id:e.data.user})),t(e.data.loggedIn)}).catch(e=>{console.log(e),console.log(e.response)})},this.handle_register=(e,t)=>{v.a.post("https://animosched-backend-backup.herokuapp.com/api/auth/registration/",e,{headers:{"Content-Type":"application/json"}}).then(e=>{console.log(e.data),localStorage.setItem("token",e.data.token),localStorage.setItem("first_name",e.data.user.first_name),localStorage.setItem("last_name",e.data.user.last_name),localStorage.setItem("user_id",e.data.user.id),this.setState({logged_in:!0,first_name:e.data.user.first_name,last_name:e.data.user.last_name,user_id:e.data.user.id}),t(null)}).catch(e=>{console.log(e),t(e)})},this.handle_resetPassword=(e,t)=>{v.a.post("https://animosched-backend-backup.herokuapp.com/api/auth/password/reset/",e,{headers:{"Content-Type":"application/json"}}).then(e=>{console.log(e.data),console.log(e.data.email),t(!0)}).catch(e=>{console.log(e.response),t(!1)})},this.handle_resetPasswordConfirm=(e,t)=>{v.a.post("https://animosched-backend-backup.herokuapp.com/api/auth/password/reset/confirm/",e,{headers:{"Content-Type":"application/json"}}).then(e=>{console.log(e.data),t(!0)}).catch(e=>{console.log(e.response),t(!1)})},this.wipe_logout=()=>(localStorage.clear(),this.setState({logged_in:!1,first_name:"",last_name:"",id_num:""}),l.a.createElement(o.c,{to:"/login"})),this.handle_logout=()=>(localStorage.removeItem("token"),localStorage.removeItem("first_name"),localStorage.removeItem("last_name"),localStorage.removeItem("id_num"),localStorage.removeItem("user_id"),localStorage.removeItem("hints"),this.setState({logged_in:!1,first_name:"",last_name:"",id_num:""}),l.a.createElement(o.c,{to:"/login"})),this.loginPage=e=>l.a.createElement(Ft,{handle_login:this.handle_login,responseGoogle:this.responseGoogle,props:e}),this.registerPage=e=>l.a.createElement(zt,{handle_register:this.handle_register,props:e}),this.resetPasswordPage=()=>l.a.createElement(Vt,{handle_resetPassword:this.handle_resetPassword}),this.resetPasswordDonePage=()=>l.a.createElement(Gt,null),this.resetPasswordConfirmPage=()=>l.a.createElement(Yt,{handle_resetPasswordConfirm:this.handle_resetPasswordConfirm}),this.resetPasswordCompletePage=()=>l.a.createElement(Jt,null),this.menu=()=>l.a.createElement(F,{handle_logout:this.handle_logout,logged_in:this.state.logged_in,first_name:this.state.first_name,last_name:this.state.last_name}),this.menu=e=>l.a.createElement(F,{handle_logout:this.handle_logout,logged_in:this.state.logged_in,first_name:this.state.first_name,last_name:this.state.last_name,currentPage:e}),this.mainPage=e=>{console.log(e.location.search);var t=Ks.a.parse(e.location.search);return console.log(t),l.a.createElement(kt,{menu:this.menu,logged_in:this.state.logged_in})},this.redirected=e=>{var t=Object(Js.a)(["sessionid","XCSRF-TOKEN"]),a=Object(i.a)(t,2),s=(a[0],a[1]),n=$s.a.parse(e.location.search);return localStorage.setItem("sessionid",n.sessionid),localStorage.setItem("XCSRF-TOKEN",n["XCSRF-TOKEN"]),s("sessionid",n.sessionid,{path:"/"}),s("XCSRF-TOKEN",n["XCSRF-TOKEN"],{path:"/"}),l.a.createElement(o.c,{to:"/"})},this.profilePage=()=>l.a.createElement(ta,{menu:this.menu}),this.generateSchedulePage=()=>l.a.createElement(_a,{menu:this.menu}),this.preferencesPage=()=>l.a.createElement(Ha,{menu:this.menu}),this.searchCoursesPage=()=>l.a.createElement(Qa,{menu:this.menu}),this.searchCoursesGuestPage=()=>l.a.createElement(ss,{menu:this.menu}),this.searchCoursesSimplePage=()=>l.a.createElement(es,{menu:this.menu}),this.viewFriendsPage=()=>l.a.createElement(Ns,{menu:this.menu}),this.flowchartPage=()=>l.a.createElement(ia,{menu:this.menu}),this.compareSchedulePage=e=>l.a.createElement(As,{menu:this.menu,params:e.match.params}),this.generateScheduleFriendsPage=e=>(console.log(e),l.a.createElement(La,{menu:this.menu,props:e,params:e.match.params})),this.surveyPage=e=>l.a.createElement(Fs,{menu:this.menu,params:e.match.params}),this.surveyThanksPage=e=>l.a.createElement(Ws,{menu:this.menu,params:e.match.params}),this.adminPage=e=>l.a.createElement(Os,{params:e.match.params}),this.emailVerificationCompletePage=()=>l.a.createElement(qs,null),this.state={logged_in:!!localStorage.getItem("user_id"),first_name:localStorage.getItem("first_name"),last_name:localStorage.getItem("last_name"),user_id:localStorage.getItem("user_id"),colleges:{},degrees:{}}}componentDidMount(){}componentWillMount(){"10/07/20-1"!=localStorage.getItem("integrity_check")&&(this.wipe_logout(),localStorage.setItem("integrity_check","10/07/20-1"))}render(){return l.a.createElement(c.HashRouter,null,l.a.createElement(o.g,null,l.a.createElement(o.d,{exact:!0,path:"/",render:this.mainPage}),l.a.createElement(o.d,{exact:!0,path:"/redirect",render:this.redirected}),!this.state.logged_in&&l.a.createElement(o.d,{exact:!0,path:"/login",component:this.loginPage}),!this.state.logged_in&&l.a.createElement(o.d,{exact:!0,path:"/search_courses",component:this.searchCoursesGuestPage}),!this.state.logged_in&&l.a.createElement(o.d,{exact:!0,path:"/search_courses_simple",component:this.searchCoursesSimplePage}),l.a.createElement(o.d,{exact:!0,path:"/search_courses",component:this.searchCoursesPage}),l.a.createElement(o.d,{exact:!0,path:"/email_verified",component:this.emailVerificationCompletePage}),l.a.createElement(o.d,{exact:!0,path:"/password_reset",component:this.resetPasswordPage}),l.a.createElement(o.d,{exact:!0,path:"/password_reset_done",component:this.resetPasswordDonePage}),l.a.createElement(o.d,{path:"/reset/:uidb64/:token",component:this.resetPasswordConfirmPage}),l.a.createElement(o.d,{exact:!0,path:"/password_reset_complete",component:this.resetPasswordCompletePage}),this.state.logged_in&&l.a.createElement(o.d,{exact:!0,path:"/profile",component:this.profilePage}),this.state.logged_in&&l.a.createElement(o.d,{exact:!0,path:"/generateSchedule",component:this.generateSchedulePage}),this.state.logged_in&&l.a.createElement(o.d,{exact:!0,path:"/preferences",component:this.preferencesPage}),this.state.logged_in&&l.a.createElement(o.d,{exact:!0,path:"/view_friends",component:this.viewFriendsPage}),this.state.logged_in&&l.a.createElement(o.d,{exact:!0,path:"/compare_schedule/:id/",component:this.compareSchedulePage}),this.state.logged_in&&l.a.createElement(o.d,{exact:!0,path:"/coordinate_schedule/",component:this.generateScheduleFriendsPage}),this.state.logged_in&&l.a.createElement(o.d,{exact:!0,path:"/coordinate_schedule/:id/",component:this.generateScheduleFriendsPage}),l.a.createElement(o.d,{exact:!0,path:"/logout",component:this.handle_logout}),this.state.logged_in?l.a.createElement(o.c,{to:"/"}):l.a.createElement(o.c,{to:"/login"})))}}var Qs=Xs;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Zs=a(908);r.a.render(l.a.createElement(Zs.a,null,l.a.createElement(Qs,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()})},96:function(e,t,a){e.exports=a.p+"static/media/Login.457b59bb.svg"}},[[502,1,2]]]);
//# sourceMappingURL=main.28051c26.chunk.js.map